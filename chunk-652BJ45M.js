import{Q as j,U as le,_ as $,ba as de,c as ae,ca as z,da as R,fa as p,h as F,r as ce,v as ue}from"./chunk-6BBIP5QY.js";import{Ga as y,Ja as I,La as E,Ua as oe,c as v,j as Y,k as J,ka as Q,kd as ie,ld as se,n as O,na as ee,o as N,pd as x,qa as f,ra as M,ta as te,wa as ne,xa as _,ya as re}from"./chunk-2NSPOFEK.js";import{i as h}from"./chunk-66YHNWRR.js";var Re="firebase",Ce="11.2.0";p(Re,Ce,"app");function L(e){e===void 0&&(re(L),e=f(y));let t=e.get(I);return n=>new v(r=>{let o=t.add(),i=!1;function a(){i||(o(),i=!0)}let c=n.subscribe({next:s=>{r.next(s),a()},complete:()=>{r.complete(),a()},error:s=>{r.error(s),a()}});return c.add(()=>{r.unsubscribe(),a()}),c})}var S=new ie("ANGULARFIRE2_VERSION");function Se(e,t,n){if(t){if(t.length===1)return t[0];let i=t.filter(a=>a.app===n);if(i.length===1)return i[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var he=(e,t)=>{let n=t?[t]:R(),r=[];return n.forEach(o=>{o.container.getProvider(e).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},A=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(A||{}),fe=x()&&typeof Zone<"u"?A.WARN:A.SILENT;var C=class{zone;delegate;constructor(t,n=J){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let o=this.zone,i=function(a){o?o.runGuarded(()=>{t.apply(this,[a])}):t.apply(this,[a])};return this.delegate.schedule(i,n,r)}},P=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=f(E);this.outsideAngular=n.runOutsideAngular(()=>new C(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new C(typeof Zone>"u"?void 0:Zone.current,Y))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pe=!1;function Pe(e,t){!pe&&(fe>A.SILENT||x())&&(pe=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),fe>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function De(e){let t=f(E,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function m(e){let t=f(E,{optional:!0});return t?t.run(()=>e()):e()}var Oe=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),_(n,()=>m(()=>e.apply(void 0,r)))),B=(e,t,n)=>(n||=t?A.WARN:A.VERBOSE,function(){let r,o=arguments,i,a,c;try{i=f(P),a=f(I),c=f(ne)}catch{return Pe(e,n),e.apply(this,o)}for(let u=0;u<arguments.length;u++)typeof o[u]=="function"&&(t&&(r||=m(()=>a.add())),o[u]=Oe(o[u],r,c));let s=De(()=>e.apply(this,o));return t?s instanceof v?s.pipe(N(i.outsideAngular),O(i.insideAngular),L(c)):s instanceof Promise?m(()=>new Promise((u,k)=>{a.run(()=>s).then(b=>_(c,()=>m(()=>u(b))),b=>_(c,()=>m(()=>k(b))))})):typeof s=="function"&&r?function(){return setTimeout(r,0),s.apply(this,arguments)}:m(()=>s):s instanceof v?s.pipe(N(i.outsideAngular),O(i.insideAngular)):m(()=>s)});var T=class{constructor(t){return t}},H=class{constructor(){return R()}};function Ne(e){return e&&e.length===1?e[0]:new T(z())}var K=new ee("angularfire2._apps"),Me={provide:T,useFactory:Ne,deps:[[new M,K]]},xe={provide:H,deps:[[new M,K]]};function Fe(e){return(t,n)=>{let r=n.get(oe);p("angularfire",S.full,"core"),p("angularfire",S.full,"app"),p("angular",se.full,r.toString());let o=t.runOutsideAngular(()=>e(n));return new T(o)}}function Gt(e,...t){return te([Me,xe,{provide:K,useFactory:Fe(e),multi:!0,deps:[E,y,P,...t]}])}var Zt=B(de,!0);var Jt={production:!1,firebase:{apiKey:"AIzaSyCSFgNpGm2CBSrf7ZDz47IGveIejf6fmWQ",authDomain:"ezeone-5903f.firebaseapp.com",projectId:"ezeone-5903f",storageBucket:"ezeone-5903f.firebasestorage.app",messagingSenderId:"606657196887",appId:"1:606657196887:web:fd522b5602445830bc8412",measurementId:"G-KBD0LCCPLD",vapidKey:"BLuGMellRZj0hFzOHgrjNrUb0IJ9BjCIRYdtR1opFEm8J6wceRPoJDh0MkdM6RaAiuIcBsI_hrv5D3s9YaA169g"}};var je=new Map,$e={activated:!1,tokenObservers:[]},ze={initialized:!1,enabled:!1};function l(e){return je.get(e)||Object.assign({},$e)}function Ae(){return ze}var Le="https://content-firebaseappcheck.googleapis.com/v1";var Be="exchangeDebugToken",ge={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ln=24*60*60*1e3;var W=class{constructor(t,n,r,o,i){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return h(this,null,function*(){this.stop();try{this.pending=new F,this.pending.promise.catch(n=>{}),yield He(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new F,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function He(e){return new Promise(t=>{setTimeout(t,e)})}var Ke={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},g=new ue("appCheck","AppCheck",Ke);function be(e){if(!l(e).activated)throw g.create("use-before-activation",{appName:e.name})}function ve(r,o){return h(this,arguments,function*({url:e,body:t},n){let i={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}let c={method:"POST",body:JSON.stringify(t),headers:i},s;try{s=yield fetch(e,c)}catch(d){throw g.create("fetch-network-error",{originalErrorMessage:d?.message})}if(s.status!==200)throw g.create("fetch-status-error",{httpStatus:s.status});let u;try{u=yield s.json()}catch(d){throw g.create("fetch-parse-error",{originalErrorMessage:d?.message})}let k=u.ttl.match(/^([\d.]+)(s)$/);if(!k||!k[2]||isNaN(Number(k[1])))throw g.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let b=Number(k[1])*1e3,X=Date.now();return{token:u.token,expireTimeMillis:X+b,issuedAtTimeMillis:X}})}function Te(e,t){let{projectId:n,appId:r,apiKey:o}=e.options;return{url:`${Le}/projects/${n}/apps/${r}:${Be}?key=${o}`,body:{debug_token:t}}}var Ue="firebase-app-check-database",We=1,V="firebase-app-check-store";var D=null;function Ve(){return D||(D=new Promise((e,t)=>{try{let n=indexedDB.open(Ue,We);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var o;t(g.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(V,{keyPath:"compositeKey"})}}}catch(n){t(g.create("storage-open",{originalErrorMessage:n?.message}))}}),D)}function qe(e,t){return Ge(Ze(e),t)}function Ge(e,t){return h(this,null,function*(){let r=(yield Ve()).transaction(V,"readwrite"),i=r.objectStore(V).put({compositeKey:e,value:t});return new Promise((a,c)=>{i.onsuccess=s=>{a()},r.onerror=s=>{var u;c(g.create("storage-set",{originalErrorMessage:(u=s.target.error)===null||u===void 0?void 0:u.message}))}})})}function Ze(e){return`${e.options.appId}-${e.name}`}var q=new le("@firebase/app-check");function U(e,t){return ce()?qe(e,t).catch(n=>{q.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function we(){return Ae().enabled}function _e(){return h(this,null,function*(){let e=Ae();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Xe={error:"UNKNOWN_ERROR"};function Ye(e){return ae.encodeString(JSON.stringify(e),!1)}function G(e,t=!1){return h(this,null,function*(){let n=e.app;be(n);let r=l(n),o=r.token,i;if(o&&!w(o)&&(r.token=void 0,o=void 0),!o){let s=yield r.cachedTokenPromise;s&&(w(s)?o=s:yield U(n,void 0))}if(!t&&o&&w(o))return{token:o.token};let a=!1;if(we()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ve(Te(n,yield _e()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let s=yield r.exchangeTokenPromise;return yield U(n,s),r.token=s,{token:s.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=yield l(n).exchangeTokenPromise}catch(s){s.code==="appCheck/throttled"?q.warn(s.message):q.error(s),i=s}let c;return o?i?w(o)?c={token:o.token,internalError:i}:c=ke(i):(c={token:o.token},r.token=o,yield U(n,o)):c=ke(i),a&&tt(n,c),c})}function Je(e){return h(this,null,function*(){let t=e.app;be(t);let{provider:n}=l(t);if(we()){let r=yield _e(),{token:o}=yield ve(Te(t,r),e.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Qe(e,t,n,r){let{app:o}=e,i=l(o),a={next:n,error:r,type:t};if(i.tokenObservers=[...i.tokenObservers,a],i.token&&w(i.token)){let c=i.token;Promise.resolve().then(()=>{n({token:c.token}),me(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>me(e))}function ye(e,t){let n=l(e),r=n.tokenObservers.filter(o=>o.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function me(e){let{app:t}=e,n=l(t),r=n.tokenRefresher;r||(r=et(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function et(e){let{app:t}=e;return new W(()=>h(this,null,function*(){let n=l(t),r;if(n.token?r=yield G(e,!0):r=yield G(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=l(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},ge.RETRIAL_MIN_WAIT,ge.RETRIAL_MAX_WAIT)}function tt(e,t){let n=l(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function w(e){return e.expireTimeMillis-Date.now()>0}function ke(e){return{token:Ye(Xe),error:e}}var Z=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=l(this.app);for(let n of t)ye(this.app,n.next);return Promise.resolve()}};function nt(e,t){return new Z(e,t)}function rt(e){return{getToken:t=>G(e,t),getLimitedUseToken:()=>Je(e),addTokenListener:t=>Qe(e,"INTERNAL",t),removeTokenListener:t=>ye(e.app,t)}}var ot="@firebase/app-check",it="0.8.11";var st="app-check",Ee="app-check-internal";function at(){$(new j(st,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return nt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Ee).initialize()})),$(new j(Ee,e=>{let t=e.getProvider("app-check").getImmediate();return rt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),p(ot,it)}at();var ct="app-check";var Ie=class{constructor(){return he(ct)}};var ut=["localhost","0.0.0.0","127.0.0.1"],wn=typeof window<"u"&&ut.includes(window.location.hostname);export{L as a,S as b,Se as c,he as d,P as e,B as f,T as g,H as h,Gt as i,Zt as j,Ie as k,Jt as l};
