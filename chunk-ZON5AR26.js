import{a as ke}from"./chunk-LGZVJJDX.js";import{a as Le}from"./chunk-54KZ5YIV.js";import{a as Fe,b as Ve}from"./chunk-DUVWFXSE.js";import{a as Me}from"./chunk-OEHD5D2Y.js";import{C as Ie,F as De,c as ce,r as Ee}from"./chunk-VHE3PQ3O.js";import{$ as _e,B as ee,C as te,E as ie,G as ne,Ga as he,H as ae,Oa as ge,Pa as ve,R as oe,Ra as xe,Ta as Ce,U as le,Ua as ye,W as re,X as de,Ya as be,Z as se,_ as We,fb as Te,gb as we,hb as Se,l as J,n as Q,oa as me,sa as pe,ua as fe,w as Z,wa as ue,z as $}from"./chunk-GYDYF5F3.js";import{e as X,f as Y,g as K,t as z}from"./chunk-PD5VTTIY.js";import{Aa as u,Ba as h,Bc as F,Hb as H,Lc as f,Mc as c,Nc as M,Ob as p,Oc as L,Uc as T,Vc as w,Wc as S,Yc as R,Zc as U,_b as d,bc as j,gc as q,ic as V,jc as k,ka as B,kc as o,lc as l,mc as b,nc as g,oc as v,qc as y,qd as G,rb as a,sb as E,wc as C,yc as s}from"./chunk-2NSPOFEK.js";import{a as I,b as D,d as A,g as Pe}from"./chunk-66YHNWRR.js";var P=Pe(We());var O=class t{constructor(){}removeDuplicateNames(n){let e=new Set;return n.filter(r=>e.has(r.name)?!1:(e.add(r.name),!0))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var Be=(t,n)=>n.label,qe=()=>[],He=t=>({"ti-btn-loader ti-btn-disabled":t});function je(t,n){if(t&1){let e=y();o(0,"li",30)(1,"div",31),b(2,"i",32),c(3),l(),o(4,"div",33)(5,"button",34),C("click",function(){let i=u(e).$implicit,_=s(3);return _.selectedTabIndex=1,i.feild_disabled=!0,h(_.updateForm(i))}),b(6,"i",35),l(),o(7,"button",36),C("click",function(){let i=u(e),_=i.$implicit,x=i.$index,m=s(3);return h(m.deleteItem(x,_.label))}),b(8,"i",37),l()()()}if(t&2){let e=n.$implicit;a(3),L(" ",e.label," "),a(2),d("disabled",e.is_change===!1),a(2),d("disabled",e.is_change===!1)}}function Ue(t,n){if(t&1&&(o(0,"div")(1,"ul",29),V(2,je,9,3,"li",30,Be),l()()),t&2){let e=s(2);a(),d("sortablejs",e.showTrueFileds)("sortablejsOptions",e.normalOptionFileds),a(),k(e.showTrueFileds)}}function Ge(t,n){if(t&1&&(g(0),o(1,"mat-option",56),c(2),l(),v()),t&2){let e=n.$implicit;a(),F("value",e.value),a(),M(e.label)}}function Xe(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function Ye(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,Xe,2,0,"ng-container",25),l()),t&2){s();let e=f(9);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function Ke(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function ze(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,Ke,2,0,"ng-container",25),l()),t&2){s();let e=f(8);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function Je(t,n){if(t&1){let e=y();g(0),o(1,"div",39)(2,"label",40),c(3,"With Search "),o(4,"span",41),c(5,"*"),l()(),o(6,"mat-form-field",42)(7,"mat-select",57,5),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.search,i)||(_.data.search=i),h(i)}),o(9,"mat-option",58),c(10,"Yes"),l(),o(11,"mat-option",59),c(12,"No"),l()(),p(13,ze,2,1,"mat-hint",45),l()(),v()}if(t&2){let e=f(8);s(2);let r=f(2),i=s();a(7),T("ngModel",i.data.search),a(6),d("ngIf",e.touched||r.submitted)}}function Qe(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function Ze(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,Qe,2,0,"ng-container",25),l()),t&2){s();let e=f(7);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function $e(t,n){if(t&1){let e=y();o(0,"div",39)(1,"label",40),c(2," Visibilty Dependent "),o(3,"span",41),c(4,"*"),l()(),o(5,"mat-form-field",42)(6,"mat-select",60,6),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.is_child_dependency,i)||(_.data.is_child_dependency=i),h(i)}),C("selectionChange",function(){u(e);let i=s(3);return i.listarray=[],i.data.parent_field_name="",h(i.data.parent_field_value="")}),o(8,"mat-option",61),c(9,"Option"),l(),o(10,"mat-option",62),c(11,"No Dependency"),l()(),p(12,Ze,2,1,"mat-hint",45),l()()}if(t&2){let e=f(7);s(2);let r=f(2),i=s();a(6),T("ngModel",i.data.is_child_dependency),a(6),d("ngIf",e.touched||r.submitted)}}function et(t,n){if(t&1&&(o(0,"mat-option",56),c(1),l()),t&2){let e=s().$implicit;F("value",e.name),a(),M(e.label)}}function tt(t,n){if(t&1&&(g(0),p(1,et,2,2,"mat-option",64),v()),t&2){let e=n.$implicit,r=s(4);a(),d("ngIf",r.data.name!=e.name)}}function it(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function nt(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,it,2,0,"ng-container",25),l()),t&2){s();let e=f(7);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function at(t,n){if(t&1){let e=y();o(0,"div",39)(1,"label",40),c(2,"Select Dependent Field "),o(3,"span",41),c(4,"*"),l()(),o(5,"mat-form-field",42)(6,"mat-select",63,7),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.parent_field_name,i)||(_.data.parent_field_name=i),h(i)}),C("selectionChange",function(){u(e);let i=s(3);return h(i.findValue(i.data.parent_field_name,i.data))}),p(8,tt,2,1,"ng-container",44),l(),p(9,nt,2,1,"mat-hint",45),l()()}if(t&2){let e=f(7);s(2);let r=f(2),i=s();a(6),T("ngModel",i.data.parent_field_name),a(2),d("ngForOf",i.formDropdown),a(),d("ngIf",e.touched||r.submitted)}}function ot(t,n){if(t&1&&(g(0),o(1,"mat-option",56),c(2),l(),v()),t&2){let e=n.$implicit;a(),F("value",e.label),a(),M(e.label)}}function lt(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function rt(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,lt,2,0,"ng-container",25),l()),t&2){s();let e=f(7);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function dt(t,n){if(t&1){let e=y();o(0,"div",39)(1,"label",40),c(2," Select Dependancy Value "),o(3,"span",41),c(4,"*"),l()(),o(5,"mat-form-field",42)(6,"mat-select",65,8),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.parent_field_value,i)||(_.data.parent_field_value=i),h(i)}),p(8,ot,3,2,"ng-container",44),l(),p(9,rt,2,1,"mat-hint",45),l()()}if(t&2){let e=f(7);s(2);let r=f(2),i=s();a(6),T("ngModel",i.data.parent_field_value),d("required",i.listarray.length===0),a(2),d("ngForOf",i.formDropdownOption),a(),d("ngIf",e.touched||r.submitted)}}function st(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function _t(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,st,2,0,"ng-container",25),l()),t&2){s();let e=f(23);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function ct(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function mt(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,ct,2,0,"ng-container",25),l()),t&2){s();let e=f(32);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function pt(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function ft(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,pt,2,0,"ng-container",25),l()),t&2){s();let e=f(6);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function ut(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function ht(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,ut,2,0,"ng-container",25),l()),t&2){s();let e=f(13);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function gt(t,n){if(t&1){let e=y();g(0),o(1,"div",39)(2,"label",40),c(3,"Min Length"),l(),o(4,"mat-form-field",42)(5,"input",66,9),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.min_length,i)||(_.data.min_length=i),h(i)}),l(),p(7,ft,2,1,"mat-hint",45),l()(),o(8,"div",39)(9,"label",40),c(10,"Max Length "),l(),o(11,"mat-form-field",42)(12,"input",67,10),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.max_length,i)||(_.data.max_length=i),h(i)}),l(),p(14,ht,2,1,"mat-hint",45),l()(),v()}if(t&2){let e=f(6),r=f(13);s(2);let i=f(2),_=s();a(5),T("ngModel",_.data.min_length),a(2),d("ngIf",e.touched||i.submitted),a(5),T("ngModel",_.data.max_length),a(2),d("ngIf",r.touched||i.submitted)}}function vt(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function xt(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,vt,2,0,"ng-container",25),l()),t&2){s();let e=f(5);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function Ct(t,n){if(t&1){let e=y();o(0,"div",39)(1,"label",40),c(2,"Pattern"),l(),o(3,"mat-form-field",42)(4,"input",68,11),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.pattern_validation,i)||(_.data.pattern_validation=i),h(i)}),l(),p(6,xt,2,1,"mat-hint",45),l()()}if(t&2){let e=f(5);s(2);let r=f(2),i=s();a(4),T("ngModel",i.data.pattern_validation),a(2),d("ngIf",e.touched||r.submitted)}}function yt(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function bt(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,yt,2,0,"ng-container",25),l()),t&2){s();let e=f(47);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function Tt(t,n){if(t&1&&(o(0,"mat-option",56),c(1),l()),t&2){let e=s(2).$implicit;F("value",e.name),a(),M(e.label)}}function wt(t,n){if(t&1&&(g(0),p(1,Tt,2,2,"mat-option",64),v()),t&2){let e=s().$implicit,r=s(4);a(),d("ngIf",r.data.name!=e.name)}}function St(t,n){if(t&1&&(g(0),p(1,wt,2,1,"ng-container",25),v()),t&2){let e=n.$implicit;a(),d("ngIf",e.key_source!="default")}}function Mt(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function Et(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,Mt,2,0,"ng-container",25),l()),t&2){s();let e=f(7);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function It(t,n){if(t&1){let e=y();o(0,"div",39)(1,"label",40),c(2,"Select Dependent Field "),o(3,"span",41),c(4,"*"),l()(),o(5,"mat-form-field",42)(6,"mat-select",69,8),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.parent_field_value,i)||(_.data.parent_field_value=i),h(i)}),C("selectionChange",function(){u(e);let i=s(3);return h(i.findValue(i.data.parent_field_value,""))}),p(8,St,2,1,"ng-container",44),l(),p(9,Et,2,1,"mat-hint",45),l()()}if(t&2){let e=f(7);s(2);let r=f(2),i=s();a(6),T("ngModel",i.data.parent_field_value),d("disabled",i.listarray.length>0),a(2),d("ngForOf",i.formDropdown),a(),d("ngIf",e.touched||r.submitted)}}function Dt(t,n){t&1&&(o(0,"mat-hint",26),c(1," Spaces are not allowed. "),l())}function Ft(t,n){if(t&1){let e=y();o(0,"div",39)(1,"div",70)(2,"div")(3,"label",40),c(4,"Add Option"),l(),o(5,"mat-form-field",42)(6,"input",71,12),S("ngModelChange",function(i){u(e);let _=s(3);return w(_.data.dropdown_option,i)||(_.data.dropdown_option=i),h(i)}),l(),p(8,Dt,2,0,"mat-hint",45),l()(),o(9,"button",72),C("click",function(){u(e);let i=s(3);return h(i.addtolist())}),b(10,"i",73),l()()()}if(t&2){let e=f(7),r=s(3);a(6),T("ngModel",r.data.dropdown_option),a(2),d("ngIf",(e==null||e.errors==null?null:e.errors.pattern)&&(e==null?null:e.touched)),a(),d("disabled",r.data.is_child_dependency=="Direct"?!r.data.dropdown_option&&!r.data.parent_field_value&&!r.data.parent_field_value:!r.data.dropdown_option)}}function Vt(t,n){if(t&1&&(o(0,"td"),c(1),l()),t&2){let e=s().$implicit;a(),M(e.parent_field_value?e.parent_field_value:"---")}}function kt(t,n){if(t&1){let e=y();o(0,"tr")(1,"td"),c(2),l(),p(3,Vt,2,1,"td",25),o(4,"td"),c(5),l(),o(6,"td",77)(7,"button",78),C("click",function(){let i=u(e).$index,_=s(4);return h(_.delete(i))}),b(8,"i",37),l()()()}if(t&2){let e=n.$implicit,r=n.$index,i=s(4);a(2),M(r+1),a(),d("ngIf",i.data.is_child_dependency==="Option"),a(2),M(e.label)}}function Lt(t,n){if(t&1&&(o(0,"div",74)(1,"div",75)(2,"spk-reusable-tables",76),V(3,kt,9,3,"tr",null,q),l()()()),t&2){let e=s(3);a(2),d("columns",e.getColumns())("showCheckbox",!1),a(),k(e.listarray)}}function Ot(t,n){if(t&1){let e=y();o(0,"div")(1,"div",38)(2,"div",39)(3,"label",40),c(4," Field Type "),o(5,"span",41),c(6,"*"),l()(),o(7,"mat-form-field",42)(8,"mat-select",43,1),S("ngModelChange",function(i){u(e);let _=s(2);return w(_.data.type,i)||(_.data.type=i),h(i)}),C("selectionChange",function(){u(e);let i=s(2);return i.listarray=[],i.data.parent_field_name="",h(i.data.parent_field_value="")}),p(10,Ge,3,2,"ng-container",44),l(),p(11,Ye,2,1,"mat-hint",45),l()(),p(12,Je,14,2,"ng-container",25)(13,$e,13,2,"div",46)(14,at,10,3,"div",46)(15,dt,10,4,"div",46),o(16,"div",39)(17,"label",40),c(18,"Name "),o(19,"span",41),c(20,"*"),l()(),o(21,"mat-form-field",42)(22,"input",47,2),S("ngModelChange",function(i){u(e);let _=s(2);return w(_.data.label,i)||(_.data.label=i),h(i)}),l(),p(24,_t,2,1,"mat-hint",45),l()(),o(25,"div",39)(26,"label",40),c(27,"Mandatory Field "),o(28,"span",41),c(29,"*"),l()(),o(30,"mat-form-field",42)(31,"mat-select",48,3),S("ngModelChange",function(i){u(e);let _=s(2);return w(_.data.required,i)||(_.data.required=i),h(i)}),o(33,"mat-option",49),c(34,"Yes"),l(),o(35,"mat-option",50),c(36,"No"),l()(),p(37,mt,2,1,"mat-hint",45),l()(),p(38,gt,15,4,"ng-container",25)(39,Ct,7,2,"div",46),o(40,"div",39)(41,"label",40),c(42,"Field Layout Size "),o(43,"span",41),c(44,"*"),l()(),o(45,"mat-form-field",42)(46,"mat-select",51,4),S("ngModelChange",function(i){u(e);let _=s(2);return w(_.data.class_name,i)||(_.data.class_name=i),h(i)}),o(48,"mat-option",52),c(49,"Small"),l(),o(50,"mat-option",53),c(51,"Medium"),l(),o(52,"mat-option",54),c(53,"Large"),l()(),p(54,bt,2,1,"mat-hint",45),l()()(),o(55,"div",38),p(56,It,10,4,"div",46)(57,Ft,11,3,"div",46)(58,Lt,5,2,"div",55),l()()}if(t&2){let e=f(9),r=f(23),i=f(32),_=f(47);s();let x=f(2),m=s();a(8),T("ngModel",m.data.type),d("disabled",m.data.feild_disabled),a(2),d("ngForOf",m.inputOptions),a(),d("ngIf",e.touched||x.submitted),a(),d("ngIf",m.data.type==m.fieldTypes.SINGLE_SELECT||m.data.type==m.fieldTypes.MULTI_SELECT),a(),d("ngIf",m.data.type==m.fieldTypes.SINGLE_SELECT||m.data.type==m.fieldTypes.MULTI_SELECT||m.data.type==m.fieldTypes.SHORT_TEXT||m.data.type==m.fieldTypes.NUMBER||m.data.type==m.fieldTypes.RADIO_SELECT||m.data.type==m.fieldTypes.CHECKBOX_SELECT),a(),d("ngIf",m.data.is_child_dependency=="Direct"),a(),d("ngIf",m.data.parent_field_name&&m.data.is_child_dependency=="Direct"),a(7),T("ngModel",m.data.label),a(2),d("ngIf",r.touched||x.submitted),a(7),T("ngModel",m.data.required),a(6),d("ngIf",i.touched||x.submitted),a(),d("ngIf",m.data.type=="SHORT_TEXT"||m.data.type=="NUMBER"||m.data.type=="TEXT_AREA"),a(),d("ngIf",m.data.type=="NUMBER"||m.data.type=="SHORT_TEXT"),a(7),T("ngModel",m.data.class_name),a(8),d("ngIf",_.touched||x.submitted),a(2),d("ngIf",m.data.is_child_dependency==="Option"),a(),d("ngIf",m.data.type==m.fieldTypes.CHECKBOX_SELECT||m.data.type==m.fieldTypes.RADIO_SELECT),a(),d("ngIf",m.listarray.length>0&&(m.data.type=="MULTI_SELECT"||m.data.type=="CHECKBOX_SELECT"||m.data.type=="RADIO_SELECT"||m.data.type=="SINGLE_SELECT"))}}function qt(t,n){if(t&1&&(o(0,"div"),b(1,"app-module-dropdown",79),l()),t&2){let e=s(2);a(),d("moduleData",e.modalData.moduleData)}}function Rt(t,n){if(t&1&&b(0,"app-button",80),t&2){let e=s(2);d("buttonType","submit")("buttonClass","ti-btn ti-btn-primary m-0")("disabled",e.api.disabled)("formType","add")("iconClass","ri-save-line")("loadingIconClass","ri-loader-2-fill")}}function Pt(t,n){if(t&1){let e=y();o(0,"div",15)(1,"form",16,0),C("ngSubmit",function(){u(e);let i=f(2),_=s();return h(i.valid&&_.submit())}),o(3,"mat-dialog-content",17)(4,"div",18)(5,"div",19)(6,"div")(7,"mat-tab-group",20),C("selectedTabChange",function(i){u(e);let _=s();return h(_.onTabChange(i))}),b(8,"mat-tab",21)(9,"mat-tab",22)(10,"mat-tab",23),l(),o(11,"div",24),p(12,Ue,4,2,"div",25)(13,Ot,59,19,"div",25)(14,qt,2,1,"div",25),l()()()()(),o(15,"mat-dialog-actions",26),b(16,"app-button",27),p(17,Rt,1,6,"app-button",28),l()()()}if(t&2){let e=s();a(7),d("selectedIndex",e.selectedTabIndex),a(5),d("ngIf",e.selectedTabIndex==0),a(),d("ngIf",e.selectedTabIndex==1),a(),d("ngIf",e.selectedTabIndex==2),a(2),d("buttonType","button")("buttonClass","ti-btn ti-btn-outline-danger m-2")("label","Cancel"),a(),d("ngIf",e.selectedTabIndex==0||e.selectedTabIndex==1)}}function Wt(t,n){if(t&1){let e=y();g(0),o(1,"li",89)(2,"div"),b(3,"i",32),c(4),l(),o(5,"div",90)(6,"div",91)(7,"input",92),C("change",function(i){let _=u(e).$implicit,x=s(3);return h(x.onCheckboxChange(_,"list_view_checked",i))}),l(),o(8,"label",93),c(9,"List View"),l()(),o(10,"div",91)(11,"input",92),C("change",function(i){let _=u(e).$implicit,x=s(3);return h(x.onCheckboxChange(_,"filter_checked",i))}),l(),o(12,"label",93),c(13,"Filter"),l()()()(),v()}if(t&2){let e=n.$implicit;a(4),L(" ",e.label," "),a(3),d("id","inlineCheckboxView"+e.label)("value",e.value)("checked",e.list_view_checked)("disabled",e.disabled),a(),d("for","inlineCheckboxView"+e.label),a(3),d("id","inlineCheckboxFilter"+e.label)("value",e.value1)("checked",e.filter_checked)("disabled",e.disabled),a(),d("for","inlineCheckboxFilter"+e.label)}}function Nt(t,n){if(t&1&&(g(0),o(1,"ul",29),p(2,Wt,14,11,"ng-container",44),l(),v()),t&2){let e=s(2);a(),d("sortablejs",e.showTrueFileds)("sortablejsOptions",e.normalOptions),a(),d("ngForOf",e.showTrueFileds)}}function At(t,n){t&1&&(o(0,"li",95),b(1,"app-skeleton"),l()),t&2&&(a(),j("h20 bg-skeleton"))}function Bt(t,n){t&1&&(o(0,"ul"),p(1,At,2,2,"li",94),l()),t&2&&(a(),d("ngForOf",R(1,qe).constructor(11)))}function Ht(t,n){t&1&&(g(0),p(1,Bt,2,2,"ul",44),v()),t&2&&(a(),d("ngForOf",R(1,qe).constructor(8)))}function jt(t,n){if(t&1){let e=y();o(0,"div",15)(1,"app-modal-header",81),C("close",function(){u(e);let i=s();return h(i.close())}),l(),o(2,"div",82)(3,"div",83)(4,"div",84)(5,"div",85)(6,"div",86),p(7,Nt,3,3,"ng-container",25)(8,Ht,2,2,"ng-container",25),l()()()()(),o(9,"div",87)(10,"app-button",88),C("buttonClick",function(){u(e);let i=s();return h(i.saveAssignedHeaders())}),l()()()}if(t&2){let e=s();a(),d("title","Table Header Config"),a(6),d("ngIf",!e.skLoading),a(),d("ngIf",e.skLoading),a(2),d("buttonType","submit")("buttonClass","ti-btn ti-btn-primary m-0")("disabled",e.api.disabled)("formType",e.pageType)("iconClass","ri-save-line")("loadingIconClass","ri-loader-2-fill")}}function Ut(t,n){t&1&&(g(0),c(1,"This field is required"),v())}function Gt(t,n){if(t&1&&(o(0,"mat-hint",26),p(1,Ut,2,0,"ng-container",25),l()),t&2){s();let e=f(10);a(),d("ngIf",e.errors==null?null:e.errors.required)}}function Xt(t,n){t&1&&b(0,"i",105)}function Yt(t,n){t&1&&(o(0,"span",106),b(1,"i",107),l())}function Kt(t,n){if(t&1){let e=y();o(0,"tr")(1,"td",77),c(2),l(),o(3,"td"),c(4),l(),o(5,"td",108)(6,"div",109)(7,"a",110),C("click",function(){let i=u(e).$implicit,_=s(2);return h(_.updateRole(i))}),b(8,"i",111),l(),o(9,"a",112),C("click",function(){let i=u(e).$implicit,_=s(2);return h(_.onDeleteRole(i._id))}),b(10,"i",37),l()()()()}if(t&2){let e=n.$implicit,r=n.$index;a(2),M(r+1),a(2),M(e.user_role_name)}}function zt(t,n){if(t&1){let e=y();o(0,"div",15)(1,"app-modal-header",96),C("close",function(){u(e);let i=s();return h(i.close())}),l(),o(2,"mat-dialog-content",17)(3,"form",16,0),C("ngSubmit",function(){u(e);let i=f(4),_=s();return h(i.valid&&_.saveRole())}),o(5,"div",97)(6,"mat-form-field")(7,"mat-label"),c(8,"Role Name"),l(),o(9,"input",98,13),S("ngModelChange",function(i){u(e);let _=s();return w(_.data.user_role_name,i)||(_.data.user_role_name=i),h(i)}),l(),p(11,Gt,2,1,"mat-hint",45),l()(),o(12,"div",99)(13,"button",100)(14,"span"),c(15),p(16,Xt,1,0,"i",101),l(),p(17,Yt,2,0,"span",102),l()()(),o(18,"div",103)(19,"spk-reusable-tables",104),V(20,Kt,11,2,"tr",null,q),l()()()()}if(t&2){let e=f(4),r=f(10),i=s();a(),d("title","Add Role")("closeBtn",!0),a(8),T("ngModel",i.data.user_role_name),a(2),d("ngIf",r.touched||e.submitted),a(2),d("ngClass",U(12,He,i.api.disabled))("disabled",i.api.disabled),a(2),L("",i.api.disabled?"Saving":"Save"," "),a(),d("ngIf",!i.api.disabled),a(),d("ngIf",i.api.disabled),a(2),d("columns",i.roleColumn)("tableHead","border-b")("showCheckbox",!1),a(),k(i.roleListArray)}}var Oe=class t{constructor(n,e,r,i,_,x,m,Jt){this.cdr=n;this.alert=e;this.toastr=r;this.spaceRemove=i;this.removeDuplicate=_;this.api=x;this.modalData=m;this.dialogRef=Jt;console.log(m,"modalData"),(m.lastPage=="product"||m.lastPage=="user-add"||m.lastPage=="expense-policy-add"||m.lastPage=="enquiry"||m.lastPage=="site"||m.lastPage=="leave-master"||m.lastPage=="form-config")&&(m.form_Fields.forEach(W=>{if([this.fieldTypes.SINGLE_SELECT,this.fieldTypes.RADIO_SELECT,this.fieldTypes.CHECKBOX_SELECT,this.fieldTypes.MULTI_SELECT].includes(W.type)){let N=W,{control:Qt}=N,Re=A(N,["control"]);this.formDropdown.push(Re)}}),console.log(this.formDropdown,"formDropdown"),this.separateByIsShow()),(m.lastPage=="expense-policy-list"||m.lastPage=="enquiry-list"||m.lastPage=="header-config")&&(this.skLoading=!0,m?.tableConfigData&&(this.skLoading=!1,this.separateByIsHeaderConfig())),m.lastPage=="role-and-permission-add"&&this.getRoleList()}pageType="add";data={};listarray=[];inputOptions=Q;fieldTypes=J;selectedTabIndex=0;key_value="";key_action="created";lastPage;formDropdown=[];formDropdownOption=[];skLoading=!1;loginType=[];wholePageTableData={};showTrueFileds=[];showFalseFileds=[];separateByIsShow(){this.modalData.form_Fields.forEach(n=>{n.is_show?this.showTrueFileds.push(n):this.showFalseFileds.push(n)})}getColumns(){return[{label:"Sr.No",field:"Sr.No"},...this.data&&this.data.is_child_dependency==="Option"?[{label:"Dependancy Value",field:"Dependancy Value"}]:[],{label:"Options",field:"Options"},{label:"Action",field:"Action"}]}normalOptionFileds={handle:".handle",animation:150,onEnd:n=>this.saveSortedOrder()};saveSortedOrder(){this.modalData.form_Fields=[...this.showFalseFileds,...this.showTrueFileds].map((n,e)=>D(I({},n),{sequence:e+1})),this.key_action="updated"}findValue(n,e){let r=this.formDropdown.findIndex(i=>i.name===n);r!=-1&&(this.formDropdownOption=this.formDropdown[r].options)}onTabChange(n){this.selectedTabIndex=n.index,this.selectedTabIndex===0&&(this.data={})}addtolist(){let{dropdown_option:n}=this.data;if(!n?.trim()){this.toastr.error("Option cannot be empty","","toast-top-right");return}let e=this.spaceRemove.formatValue({value:n}).value;if(!this.listarray.some(i=>i.value===e)){let i={label:n,value:e};this.data.is_child_dependency==="Option"&&(i.parent_field_value=this.data.option_dependancy_field_value,i.parent_field_name=this.data.parent_field_value),this.listarray.push(i)}this.toastr.success("Option Added Successfully","","toast-top-right"),this.data.dropdown_option=""}delete(n){this.listarray.splice(n,1)}updateForm(n){delete n.control,this.key_value=n.name,this.key_action="updated",this.data=n,this.data.required==!0?this.data.required="true":this.data.required="false",this.data.options&&(this.listarray=this.data.options)}close(){this.dialogRef.close()}deleteItem(n,e){this.alert.confirm("Are you sure you want to delete this?","Once deleted, this item cannot be restored.","Delete it!").then(r=>{if(r.isConfirmed){this.key_value=this.showTrueFileds[n].name,this.data.label=e,this.key_action="deleted";let i=this.modalData?.module_type||this.modalData?.moduleData?.module_type;this.api.post({module_type:i,module_id:this.modalData.moduleId,dropdown_name:this.modalData.form_Fields[n].name},"dropdown/delete").subscribe(x=>{});let _=this.modalData.form_Fields.findIndex(x=>x.name===this.showTrueFileds[n].parent_field_name);if(_!==-1){let x=this.modalData.form_Fields[_].child_dependency.findIndex(m=>m.child_field_name==this.showTrueFileds[n].name);x!==-1&&this.modalData.form_Fields[_].child_dependency.splice(x,1)}this.showTrueFileds.splice(n,1),this.modalData.form_Fields=[...this.showFalseFileds,...this.showTrueFileds],this.submit()}})}submit(){if((this.data.type==this.fieldTypes.RADIO_SELECT||this.data.type==this.fieldTypes.CHECKBOX_SELECT)&&this.listarray.length===0){this.toastr.error("Add dropdown option","","toast-top-right");return}(this.data.type==this.fieldTypes.MULTI_SELECT||this.data.type==this.fieldTypes.SINGLE_SELECT)&&(this.data.api_path="dropdown/read-dropdown"),this.key_action=="created"&&(this.data.name=this.data.label);let n=this.spaceRemove.formatString(this.data.name);if(this.modalData.form_Fields.some(i=>i.name===n&&this.key_action=="created")){this.toastr.error(`${this.data.name} this field already exists`,"","toast-top-right");return}this.api.disabled=!0,this.key_action=="created"&&(this.key_value=n,this.modalData.form_Fields.push({id:this.modalData.form_Fields.length+1,label:this.data.label,name:n,placeholder:this.data.label,type:this.data.type,min_length:this.data.min_length?Number(this.data.min_length):0,max_length:this.data.max_length?Number(this.data.max_length):0,required:this.data.required=="true",read_only:!1,validation_error:"This field is required",is_show:!0,is_parent_dependency:this.data.is_child_dependency==="Direct"||this.data.is_child_dependency==="Option",is_child_dependency:this.data.is_child_dependency==="Direct"||this.data.is_child_dependency==="Option",child_dependency:[],options:this.listarray,sequence:this.modalData.form_Fields.length+1,class_name:this.data.class_name,list_view_checked:this.data.type!==this.fieldTypes.UPLOAD,is_header_config:this.data.type!==this.fieldTypes.UPLOAD,listing_sequence:this.modalData.form_Fields.length+1,filter_checked:!1,is_change:!0,key_source:"custom",parent_field_name:this.data.parent_field_name?this.data.parent_field_name:this.data.parent_field_value?this.data.parent_field_value:"",pattern:this.data.pattern_validation,search:this.data.search=="Yes",search_api:this.data.search_api,search_payload:this.data.search_payload,option_type:this.data.option_type,api_path:this.data.api_path}));let e=this.data.type==this.fieldTypes.SINGLE_SELECT||this.data.type==this.fieldTypes.MULTI_SELECT||this.data.type==this.fieldTypes.RADIO_SELECT||this.data.type==this.fieldTypes.CHECKBOX_SELECT?this.listarray:[];if(this.listarray&&this.listarray.length>0||this.data.is_child_dependency==="Direct"||this.data.is_child_dependency==="Option"){let i=this.modalData.form_Fields.findIndex(_=>_.name===(this.data.parent_field_name||this.data.parent_field_value));if(i!==-1){this.modalData.form_Fields[i].is_child_dependency=!0;let _=this.modalData.form_Fields[i].child_dependency.findIndex(x=>x.child_field_name==this.spaceRemove.formatString(this.data.name));_!==-1?this.modalData.form_Fields[i].child_dependency[_].child_field_option=[...e]:this.modalData.form_Fields[i].child_dependency.push(D(I({},this.data.is_child_dependency!=="Option"&&{parent_field_value:this.data.parent_field_value}),{visibilty:this.data.is_child_dependency,child_field_name:this.spaceRemove.formatString(this.data.name),child_field_option:e}))}}let r=this.modalData.form_Fields.map(i=>D(I({},i),{control:null}));this.api.post({form_data:r,form_type:"add",platform:"web",form_id:this.modalData.moduleFormId,form_name:this.modalData.moduleName},"form-builder/create").subscribe(i=>{i.statusCode==200&&((this.data.type==this.fieldTypes.MULTI_SELECT||this.data.type==this.fieldTypes.SINGLE_SELECT)&&this.createDropdown(),this.logsApi(),this.api.disabled=!1,this.toastr.success(i.message,"","toast-top-right"),this.dialogRef.close(!0))})}logsApi(){this.api.post({module_name:this.modalData.moduleName,message:this.data.label+" field has been "+this.key_action,action:this.key_action,module_id:this.modalData.moduleId,form_id:this.modalData.moduleFormId,module_type:this.modalData.module_type?this.modalData.module_type:this.modalData.moduleData.module_type},"log/form-action").subscribe(n=>{n.statusCode})}createDropdown(){let n=I({module_name:this.modalData.moduleName,module_id:this.modalData.moduleId,dropdown_name:this.key_action==="created"?this.spaceRemove.formatString(this.data.name):this.data.name,dropdown_display_name:this.data.label,module_type:this.modalData?.moduleData?.module_type},this.data.parent_field_value&&{dependent_dropdown_name:this.data.parent_field_value}),e=this.key_action==="created"?"dropdown/create":"dropdown/update";this.api.post(n,e).subscribe()}onCheckboxChange(n,e,r){let i=r.target;e==="list_view_checked"?n.list_view_checked=i.checked:e==="filter_checked"&&(n.filter_checked=i.checked)}separateByIsHeaderConfig(){this.modalData.tableConfigData.tableHead.forEach(n=>{n.is_header_config?this.showTrueFileds.push(n):this.showFalseFileds.push(n)})}normalOptions={animation:150,group:"shared",onEnd:n=>this.updateListingOrder()};updateListingOrder(){this.modalData.tableConfigData.tableHead=[...this.showFalseFileds,...this.showTrueFileds].map((n,e)=>D(I({},n),{listing_sequence:e+1})),this.key_action="updated"}saveAssignedHeaders(){this.api.disabled=!0,this.api.post({platform:"web",table_id:this.modalData.moduleTableId,form_id:this.modalData.moduleFormId,table_data:this.modalData.tableConfigData,form_name:this.modalData.moduleName},"table-builder/create").subscribe(n=>{n.statusCode===200&&(this.api.disabled=!1,this.alert.sucess(n.message),this.dialogRef.close(!0))})}roleColumn=[{label:"S.No",field:"S.No"},{label:"Name",field:"Name"},{label:"Action",field:"Action"}];onDeleteRole(n){P.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",reverseButtons:!0}).then(e=>{e.isConfirmed&&this.api.patch({_id:n,is_delete:1},"rbac/delete").subscribe(r=>{r.statusCode===200&&(P.default.fire("Deleted!",r.message,"success"),this.getRoleList())})})}updateRole(n){this.data.user_role_name=n.user_role_name,this.data._id=n._id,this.data.formType="edit"}roleListArray=[];getRoleList(){this.skLoading=!0,this.api.post({},"rbac/read").subscribe(n=>{n.statusCode==200&&(this.skLoading=!1,this.roleListArray=n.data)})}saveRole(){this.api.disabled=!0;let n;this.data.formType==="edit"?n="rbac/update":n="rbac/create";let e=this.data.formType==="edit"?"patch":"post";this.api[e](this.data,n).subscribe(r=>{r.statusCode===200?(this.api.disabled=!1,this.data.user_role_name="",this.toastr.success(r.message,"","toast-top-right"),this.getRoleList()):this.api.disabled=!1})}static \u0275fac=function(e){return new(e||t)(E(G),E(_e),E(Z),E(Le),E(O),E(se),E(ve),E(ge))};static \u0275cmp=H({type:t,selectors:[["app-modals"]],decls:3,vars:3,consts:[["f","ngForm"],["type","ngModel"],["label","ngModel"],["required","ngModel"],["class_name","ngModel"],["search","ngModel"],["is_child_dependency","ngModel"],["parent_field_name","ngModel"],["parent_field_value","ngModel"],["min_length","ngModel"],["max_length","ngModel"],["pattern_validation","ngModel"],["dropdown_option","ngModel"],["user_role_name","ngModel"],["class","mat-dialoge",4,"ngIf"],[1,"mat-dialoge"],[3,"ngSubmit"],[1,"mat-typography"],[1,"grid","grid-cols-12","gap-x-12"],[1,"col-span-12","md:col-span-12","xxl:!col-span-12"],["mat-stretch-tabs","true",3,"selectedTabChange","selectedIndex"],["label","Manage Form"],["label","Form Builder"],["label","Manage Dropdown Options"],[1,"mt-3"],[4,"ngIf"],["align","end"],["mat-dialog-close","",3,"buttonType","buttonClass","label"],[3,"buttonType","buttonClass","disabled","formType","iconClass","loadingIconClass",4,"ngIf"],["id","cloning-left",1,"ti-list-group","!p-0","!border-0","sortable-list",3,"sortablejs","sortablejsOptions"],[1,"ti-list-group-item","flex","items-center","justify-between","relative"],[1,"text-dark"],[1,"ri-drag-move-2-fill","me-2","text-dark","text-[1rem]","handle","leading-none"],[1,"flex","gap-2","group-fix-btn"],["type","button","aria-label","button",1,"ti-btn","ti-btn-icon","bg-success/10","text-success","hover:bg-success","hover:text-white","!rounded-full","btn-wave",3,"click","disabled"],[1,"ri-pencil-line"],["type","button","aria-label","button",1,"ti-btn","ti-btn-icon","bg-danger/10","text-danger","hover:bg-danger","hover:text-white","!rounded-full","btn-wave",3,"click","disabled"],[1,"ri-delete-bin-line"],[1,"grid","grid-cols-12","sm:gap-x-6","gap-y-5"],[1,"xxl:col-span-3","xl:col-span-12","lg:col-span-12","md:col-span-6","col-span-12"],[1,"form-label"],[1,"text-red-500"],[1,"mat-custom-field"],["name","type","required","",3,"ngModelChange","selectionChange","ngModel","disabled"],[4,"ngFor","ngForOf"],["align","end",4,"ngIf"],["class","xxl:col-span-3 xl:col-span-12 lg:col-span-12 md:col-span-6 col-span-12",4,"ngIf"],["matInput","","placeholder","Type Here ...","name","label","required","",3,"ngModelChange","ngModel"],["name","required","required","",3,"ngModelChange","ngModel"],["value","true"],["value","false"],["name","class_name","required","",3,"ngModelChange","ngModel"],["value","xxl:col-span-3 xl:col-span-4 col-span-12"],["value","xxl:col-span-6 xl:col-span-9 col-span-12"],["value","xxl:col-span-12 xl:col-span-12 col-span-12"],["class","xxl:col-span-12 xl:col-span-12 lg:col-span-12 md:col-span-12 col-span-12",4,"ngIf"],[3,"value"],["name","search","required","",3,"ngModelChange","ngModel"],["value","Yes"],["value","No"],["name","is_child_dependency","required","",3,"ngModelChange","selectionChange","ngModel"],["value","Option"],["value","No Dependency"],["name","parent_field_name","required","",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngIf"],["name","parent_field_value",3,"ngModelChange","ngModel","required"],["matInput","","placeholder","Type Here ...","name","min_length",3,"ngModelChange","ngModel"],["matInput","","placeholder","Type Here ...","name","max_length",3,"ngModelChange","ngModel"],["matInput","","placeholder","Type Here ...","name","pattern_validation",3,"ngModelChange","ngModel"],["name","parent_field_value","required","",3,"ngModelChange","selectionChange","ngModel","disabled"],[1,"flex","gap-3"],["matInput","","placeholder","Type Here ...","name","dropdown_option","pattern","^[^\\s].*",3,"ngModelChange","ngModel"],["type","button","aria-label","button",1,"ti-btn","ti-btn-icon","ti-btn-primary","btn-wave","mt34",3,"click","disabled"],[1,"ri-add-line"],[1,"xxl:col-span-12","xl:col-span-12","lg:col-span-12","md:col-span-12","col-span-12"],[1,"table-responsive"],["tableClass","ti-custom-table ti-custom-table-head",3,"columns","showCheckbox"],[1,"w60"],["type","button","aria-label","button",1,"ti-btn","ti-btn-icon","bg-danger/10","text-danger","hover:bg-danger","hover:text-white","!rounded-full","btn-wave","me-5",3,"click"],[3,"moduleData"],[3,"buttonType","buttonClass","disabled","formType","iconClass","loadingIconClass"],[3,"close","title"],[1,"px-3"],[1,"box","mb-0"],[1,"box-body","p-0"],[1,"grid","grid-cols-12","sm:gap-x-6"],[1,"xl:col-span-12","col-span-12"],[1,"box-footer","border-t","border-block-start-dashed","sm:flex","justify-end"],[3,"buttonClick","buttonType","buttonClass","disabled","formType","iconClass","loadingIconClass"],[1,"ti-list-group-item","flex","items-center","justify-between"],[1,"flex","gap-2"],[1,"form-check","form-check-inline","flex","items-center"],["type","checkbox",1,"form-check-input",3,"change","id","value","checked","disabled"],[1,"form-check-label",3,"for"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],[3,"close","title","closeBtn"],[1,"xxl:col-span-8","xl:col-span-12","lg:col-span-12","md:col-span-6","col-span-12"],["matInput","","placeholder","Type Here ...","name","user_role_name","pattern","^[^\\s].*","required","",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-end"],["type","submit",1,"ti-btn","ti-btn-primary","m-0",3,"ngClass","disabled"],["class","ri-save-line ms-2 text-[16px] inline-block",4,"ngIf"],["class","loading",4,"ngIf"],[1,"table-responsive","mt-4"],["tableClass","ti-custom-table ti-custom-table-hover ti-head-primary",3,"columns","tableHead","showCheckbox"],[1,"ri-save-line","ms-2","text-[16px]","inline-block"],[1,"loading"],[1,"ri-loader-2-fill","text-[1rem]","animate-spin"],[1,"w60","relative"],[1,"flex","flex-row","items-center","!gap-2","text-[0.9375rem]","group-fix-btn"],["aria-label","anchor",1,"ti-btn","btn-wave","ti-btn-sm","ti-btn-soft-success","waves-effect","waves-light",3,"click"],[1,"ri-edit-line"],["aria-label","anchor",1,"ti-btn","btn-wave","product-btn","ti-btn-sm","ti-btn-soft-danger","waves-effect","waves-light",3,"click"]],template:function(e,r){e&1&&p(0,Pt,18,8,"div",14)(1,jt,11,9,"div",14)(2,zt,22,14,"div",14),e&2&&(d("ngIf",r.modalData.lastPage==="product"||r.modalData.lastPage==="user-add"||r.modalData.lastPage==="expense-policy-add"||r.modalData.lastPage==="leave-master"||r.modalData.lastPage==="enquiry"||r.modalData.lastPage==="site"||r.modalData.lastPage==="form-config"),a(),d("ngIf",r.modalData.lastPage==="expense-policy-list"||r.modalData.lastPage==="enquiry-list"||r.modalData.lastPage==="header-config"),a(),d("ngIf",r.modalData.lastPage==="role-and-permission-add"))},dependencies:[Se,me,xe,ye,Ce,he,ue,pe,fe,be,Te,we,Ve,Fe,Me,re,ae,$,ee,te,oe,le,ne,ie,de,z,X,Y,K,De,ce,Ie,ke,Ee],encapsulation:2})};export{Oe as a};
