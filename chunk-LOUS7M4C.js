import{a as J}from"./chunk-DNYQUEPM.js";import"./chunk-PU6S26UW.js";import{a as z}from"./chunk-JUPJFX3F.js";import{a as G}from"./chunk-PJTW4QXW.js";import"./chunk-CIBZCVJQ.js";import"./chunk-OTFCGVEU.js";import"./chunk-CNF4GSI7.js";import{a as L}from"./chunk-OEHD5D2Y.js";import{a as $}from"./chunk-GLWQGYBC.js";import{B as Q,F as U,c as V,s as q}from"./chunk-VHE3PQ3O.js";import{Qa as H,Z as j,aa as R,hb as O}from"./chunk-GYDYF5F3.js";import{K as F,e as T,f as M,g as P,n as B,o as N,t as A}from"./chunk-PD5VTTIY.js";import{$c as D,Aa as C,Ba as E,Hb as w,Mc as a,Nc as d,Ob as u,Oc as c,Yc as S,_b as l,bc as x,ed as s,fd as _,gd as f,kc as t,lc as i,mc as p,nc as g,oc as h,qc as I,rb as n,sb as b,wc as k,yc as m}from"./chunk-2NSPOFEK.js";import"./chunk-EU2KAMEK.js";import"./chunk-66YHNWRR.js";var W=()=>["Stock Transfer"],X=()=>[],Y=(o,r,e)=>({"text-success":o,"text-warning":r,"text-danger":e}),Z=(o,r,e)=>({"bg-success/10 text-success":o,"bg-warning/10 text-warning":r,"bg-danger/10 text-danger":e});function ee(o,r){o&1&&(t(0,"div",10),p(1,"app-skeleton"),i()),o&2&&(n(),x("w180"))}function te(o,r){o&1&&(t(0,"div")(1,"div",8),u(2,ee,2,2,"div",9),i()()),o&2&&(n(2),l("ngForOf",S(1,X).constructor(15)))}function ie(o,r){if(o&1&&(t(0,"div",5)(1,"app-showcode-card",6),u(2,te,3,2,"div",7),i()()),o&2){let e=m();n(),l("titleView",!1)("view",!1),n(),l("ngIf",e.skLoading)}}function ae(o,r){if(o&1&&(t(0,"div",15)(1,"div")(2,"span",16),a(3),i(),t(4,"span",21),a(5,"Reject Reason"),i()()()),o&2){let e=m(2);n(3),d(e.invoiceDetail.remarks?e.invoiceDetail.remarks:"---")}}function ne(o,r){if(o&1&&(t(0,"tr",27)(1,"td",28),a(2),i(),t(3,"td",29),a(4),s(5,"titlecase"),i(),t(6,"td",30),a(7),i(),t(8,"td",28),a(9),i(),t(10,"td",31)(11,"strong"),a(12),i()()()),o&2){let e=r.$implicit,v=r.index;n(2),d(v+1),n(2),c(" ",e.label?_(5,5,e.label):"---"," "),n(3),c(" ",e.product_code?e.product_code:"---"," "),n(2),d(e.qty?e.qty:"0"),n(3),c("",e.point_value?e.point_value:"0"," PT")}}function oe(o,r){if(o&1&&(t(0,"div",11)(1,"app-showcode-card",12)(2,"ul",13)(3,"li")(4,"div",14)(5,"div",15)(6,"div")(7,"span",16),a(8),s(9,"date"),i(),t(10,"span",17),a(11,"Date Created"),i()()(),t(12,"div",15)(13,"div")(14,"span",18),a(15,"Trans00099"),i(),t(16,"span",17),a(17,"Transfer ID"),i()()(),t(18,"div",15)(19,"div")(20,"span",16),a(21),s(22,"titlecase"),i(),t(23,"span",17),a(24,"Created By"),i()()(),t(25,"div",15)(26,"div")(27,"span",16),a(28),i(),t(29,"span",17),a(30,"Bill Number"),i()()(),t(31,"div",15)(32,"div")(33,"span",16),a(34),s(35,"date"),i(),t(36,"span",17),a(37,"Bill Date"),i()()(),t(38,"div",15)(39,"div")(40,"span",16),a(41),i(),t(42,"span",17),a(43,"Bill Amount"),i()()(),t(44,"div",15)(45,"div")(46,"span",16),a(47),i(),t(48,"span",17),a(49,"Total Items"),i()()(),t(50,"div",15)(51,"div")(52,"span",16),a(53),i(),t(54,"span",17),a(55,"Total Qty"),i()()(),t(56,"div",19)(57,"div")(58,"span",20),a(59),i(),t(60,"span",21),a(61,"Status"),i()()(),u(62,ae,6,1,"div",22),t(63,"div",15)(64,"div")(65,"span",23),a(66),i(),t(67,"span",21),a(68,"Point Transfered"),i()()()()()()(),t(69,"app-showcode-card",12)(70,"ul",13)(71,"li")(72,"div",14)(73,"div",15)(74,"div")(75,"span",16),a(76),i(),t(77,"span",17),a(78,"Customer Details"),i()()(),t(79,"div",15)(80,"div")(81,"span",16),a(82),i(),t(83,"span",17),a(84,"Customer Type"),i()()(),t(85,"div",15)(86,"div")(87,"span",16),a(88),i(),t(89,"span",17),a(90,"Contact Person"),i()()(),t(91,"div",15)(92,"div")(93,"span",16),a(94),i(),t(95,"span",17),a(96,"Mobile No."),i()()(),t(97,"div",15)(98,"div")(99,"span",16),a(100),i(),t(101,"span",17),a(102,"Address"),i()()()()()()(),t(103,"app-showcode-card",12)(104,"ul",13)(105,"li")(106,"div",14)(107,"div",15)(108,"div")(109,"span",16),a(110),i(),t(111,"span",17),a(112,"Customer Details"),i()()(),t(113,"div",15)(114,"div")(115,"span",16),a(116),i(),t(117,"span",17),a(118,"Customer Type"),i()()(),t(119,"div",15)(120,"div")(121,"span",16),a(122),i(),t(123,"span",17),a(124,"Mobile No."),i()()(),t(125,"div",15)(126,"div")(127,"span",16),a(128),i(),t(129,"span",17),a(130,"Address"),i()()()()()()(),t(131,"app-showcode-card",12)(132,"div",24)(133,"spk-reusable-tables",25),u(134,ne,13,7,"tr",26),i()()()()),o&2){let e=m();n(),x("text-primarytint1color"),l("title","Stock Transfer Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),n(7),d(e.invoiceDetail.created_at?f(9,47,e.invoiceDetail.created_at,"dd MMM yyyy"):"---"),n(13),d(e.invoiceDetail.created_name?_(22,50,e.invoiceDetail.created_name):"---"),n(7),c(" ",e.invoiceDetail.bill_number?e.invoiceDetail.bill_number:"---"," "),n(6),d(e.invoiceDetail.bill_date?f(35,52,e.invoiceDetail.bill_date,"dd MMM yyyy"):"---"),n(7),c("\u20B9 ",e.invoiceDetail.bill_amount?e.invoiceDetail.bill_amount:"---"," "),n(6),d(e.invoiceDetail.total_item_count?e.invoiceDetail.total_item_count:"---"),n(6),d(e.invoiceDetail.total_item_quantity?e.invoiceDetail.total_item_quantity:"---"),n(5),l("ngClass",D(55,Y,e.invoiceDetail.status==="Approved",e.invoiceDetail.status==="Pending",e.invoiceDetail.status==="Reject")),n(),c(" ",e.invoiceDetail.status?e.invoiceDetail.status:"---",""),n(3),l("ngIf",e.invoiceDetail.remarks),n(4),c("",e.totalPoint,"PT"),n(3),x("text-primarytint1color"),l("title","Sender Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),n(7),d(e.invoiceDetail.sender_customer_name?e.invoiceDetail.sender_customer_name:"---"),n(6),c(" ",e.invoiceDetail.sender_customer_type_name?e.invoiceDetail.sender_customer_type_name:"---"," "),n(6),c(" ",e.invoiceDetail.sender_contact_person_name?e.invoiceDetail.sender_contact_person_name:"---"," "),n(6),c(" ",e.invoiceDetail.sender_customer_mobile?e.invoiceDetail.sender_customer_mobile:"---"," "),n(6),c(" ",e.invoiceDetail.sender_full_address?e.invoiceDetail.sender_full_address:"---"," "),n(3),x("text-primarytint1color"),l("title","Receiver Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),n(7),d(e.invoiceDetail.receiver_customer_name?e.invoiceDetail.receiver_customer_name:"---"),n(6),d(e.invoiceDetail.receiver_customer_type_name?e.invoiceDetail.receiver_customer_type_name:"---"),n(6),d(e.invoiceDetail.receiver_customer_mobile?e.invoiceDetail.receiver_customer_mobile:"---"),n(6),c("",e.invoiceDetail.receiver_full_address?e.invoiceDetail.receiver_full_address:"---"," "),n(3),x("text-primarytint1color"),l("title","Product Details")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),n(2),l("columns",e.cartColumn)("showAction",!1),n(),l("ngForOf",e.invoiceDetail.selected_item)}}function re(o,r){if(o&1&&(t(0,"div",65)(1,"a",66)(2,"div",41)(3,"div",42)(4,"span",67),p(5,"i",68),i()(),t(6,"div",45)(7,"p",46),a(8),i(),t(9,"span",47),a(10),s(11,"date"),i()()()(),t(12,"div",69)(13,"div",49)(14,"div",29)(15,"p",50),a(16,"Stock transfer status changed to "),t(17,"span",70),a(18),i()()()()()()),o&2){let e=m(2);n(8),d(e.invoiceDetail.status),n(2),d(e.invoiceDetail.updated_at?f(11,3,e.invoiceDetail.updated_at,"dd MMM yyyy hh:mm a"):"---"),n(8),d(e.invoiceDetail.status)}}function le(o,r){if(o&1&&(t(0,"div",71)(1,"a",72)(2,"div",41)(3,"div",42)(4,"span",73),p(5,"i",74),i()(),t(6,"div",45)(7,"p",46),a(8),i(),t(9,"span",47),a(10),s(11,"date"),i()()()(),t(12,"div",75)(13,"div",49)(14,"p",50),a(15,"Stock transfer status changed to "),t(16,"span",62),a(17),i(),a(18),s(19,"titlecase"),i()()()()),o&2){let e=m(2);n(8),d(e.invoiceDetail.status?e.invoiceDetail.status:"---"),n(2),d(e.invoiceDetail.updated_at?f(11,4,e.invoiceDetail.updated_at,"dd MMM yyyy hh:mm a"):"---"),n(7),d(e.invoiceDetail.status),n(),c(" and done by ",e.invoiceDetail.updated_name?_(19,7,e.invoiceDetail.updated_name):"---","")}}function de(o,r){if(o&1&&(t(0,"div",76)(1,"a",77)(2,"div",41)(3,"div",42)(4,"span",78),p(5,"i",79),i()(),t(6,"div",45)(7,"p",46),a(8),i(),t(9,"span",47),a(10),s(11,"date"),i()()()(),t(12,"div",80)(13,"div",49)(14,"p",50),a(15,"Stock transfer status changed to "),t(16,"span",81),a(17),i(),a(18),s(19,"titlecase"),i()()()()),o&2){let e=m(2);n(8),d(e.invoiceDetail.status?e.invoiceDetail.status:"---"),n(2),d(e.invoiceDetail.updated_at?f(11,4,e.invoiceDetail.updated_at,"dd MMM yyyy hh:mm a"):"---"),n(7),d(e.invoiceDetail.status),n(),c(" and done by ",e.invoiceDetail.updated_name?_(19,7,e.invoiceDetail.updated_name):"---","")}}function ce(o,r){if(o&1&&(t(0,"div",84),p(1,"spk-product-card",85),i()),o&2){let e=r.$implicit;n(),l("apiPath","stock-transfer/get-doc")("imageData",e)("editBtn",!1)("delBtn",!1)("heading",!1)("subHeading",!1)}}function se(o,r){if(o&1&&(t(0,"div",82),g(1),u(2,ce,2,6,"div",83),h(),i()),o&2){let e=m(2);n(2),l("ngForOf",e.invoiceDetail.files)}}function pe(o,r){o&1&&(g(0),p(1,"app-data-not-found"),h())}function me(o,r){if(o&1){let e=I();t(0,"div",32)(1,"app-showcode-card",33),k("btnClick",function(){C(e);let y=m();return E(y.openModal())}),t(2,"p",34)(3,"span",35),a(4,"Status :"),i(),t(5,"span",36),a(6),i()(),t(7,"div",37)(8,"div",38)(9,"div",39)(10,"a",40)(11,"div",41)(12,"div",42)(13,"span",43),p(14,"i",44),i()(),t(15,"div",45)(16,"p",46),a(17,"Request Submitted"),i(),t(18,"span",47),a(19),s(20,"date"),i()()()(),t(21,"div",48)(22,"div",49)(23,"div",29)(24,"p",50)(25,"span",51),a(26),s(27,"titlecase"),i(),a(28," has submitted a stock transfer request. Transfer ID: Tar110023."),i()()()()(),u(29,re,19,6,"div",52)(30,le,20,9,"div",53)(31,de,20,9,"div",54),t(32,"div",55)(33,"a",56)(34,"div",57)(35,"div",42)(36,"span",58),p(37,"i",59),i()(),t(38,"div",45)(39,"p",60),a(40,"Point Transfered"),i(),t(41,"span",47),a(42),s(43,"date"),i()()()(),t(44,"div",61)(45,"div",49)(46,"div",29)(47,"p",50)(48,"span",62),a(49),i(),a(50," points have been transferred successfully. "),i()()()()()()()(),t(51,"app-showcode-card",63),u(52,se,3,1,"div",64)(53,pe,2,0,"ng-container",7),i()()}if(o&2){let e=m();n(),x("text-primarytint1color"),l("title","Status Tracking")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0)("btn1",!0)("buttonName","Change Status")("iconName","ri-draft-line"),n(4),l("ngClass",D(35,Z,e.invoiceDetail.status==="Approved",e.invoiceDetail.status==="Pending",e.invoiceDetail.status==="Reject")),n(),d(e.invoiceDetail.status?e.invoiceDetail.status:""),n(13),d(e.invoiceDetail.created_at?f(20,27,e.invoiceDetail.created_at,"dd MMM yyyy hh:mm a"):"---"),n(7),c(" ",e.invoiceDetail.created_name?_(27,30,e.invoiceDetail.created_name):"---"," "),n(3),l("ngIf",e.invoiceDetail.status==="Pending"),n(),l("ngIf",e.invoiceDetail.status==="Approved"),n(),l("ngIf",e.invoiceDetail.status==="Reject"),n(11),d(e.invoiceDetail.updated_at?f(43,32,e.invoiceDetail.updated_at,"dd MMM yyyy hh:mm a"):"---"),n(7),d(e.totalPoint),n(2),x("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Uploaded Bills")("titleView",!0)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),n(),l("ngIf",e.invoiceDetail.files.length>0),n(),l("ngIf",e.invoiceDetail.files.length===0)}}var K=class o{constructor(r,e,v,y){this.route=r;this.authService=e;this.dialog=v;this.api=y;this.orgData=this.authService.getUser()}filter={};id={};skLoading=!1;invoiceDetail={};orgData={};ngOnInit(){this.route.paramMap.subscribe(r=>{this.id=r.get("id"),this.id&&this.getInvoiceDetail()})}cartColumn=[{label:"Sr.No"},{label:"Product Name"},{label:"Product Code"},{label:"Quantity",table_class:"text-center"},{label:"Point Transfered",table_class:"text-right"}];totalPoint=0;getInvoiceDetail(){this.skLoading=!0,this.api.post({_id:this.id},"stock-transfer/detail").subscribe(r=>{r.statusCode===200&&(this.skLoading=!1,this.invoiceDetail=r.data,this.invoiceDetail?.selected_item&&(this.totalPoint=this.invoiceDetail.selected_item.reduce((e,v)=>e+(+v.point_value||0),0)))})}openModal(){this.dialog.open(J,{width:"500px",data:{pageType:"customer_stock",_id:this.id,status:this.invoiceDetail.status}}).afterClosed().subscribe(e=>{e===!0&&this.getInvoiceDetail()})}invoiceColumns=[{label:"S.No"},{label:"Product Name"},{label:"Product Code"},{label:"Price Per Unit",table_class:"text-right"},{label:"Qty",table_class:"text-center"},{label:"Total Price",table_class:"text-right"},{label:"Discount",table_class:"text-right"},{label:"Sub Total",table_class:"text-right"},{label:"GST",table_class:"text-right"},{label:"Net Amount",table_class:"text-right"},{label:"Point Transfred",table_class:"text-right"}];static \u0275fac=function(e){return new(e||o)(b(F),b(R),b(H),b(j))};static \u0275cmp=w({type:o,selectors:[["app-customer-stock-transfer-detail"]],decls:5,vars:7,consts:[[3,"title","title1","activeitem"],[1,"grid","grid-cols-12","sm:gap-x-6"],["class","xl:col-span-12 col-span-12",4,"ngIf"],["class","xl:col-span-8 col-span-12",4,"ngIf"],["class","xxl:col-span-4 xl:col-span-4 lg:col-span-4 md:col-span-5 col-span-12",4,"ngIf"],[1,"xl:col-span-12","col-span-12"],[3,"titleView","view"],[4,"ngIf"],[1,"flex","gap-2","mb-1","flex-wrap"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"xl:col-span-8","col-span-12"],[3,"title","boxHeader","classbody","titleView"],[1,"ti-list-group","list-group-flush","border-0"],[1,"flex","items-center","gap-5","flex-wrap","text-[12px]"],[1,"flex","items-center","me-2","flex-wrap"],[1,"block","font-medium"],[1,"text-textmuted","dark:text-textmuted/50"],[1,"block","font-medium","text-primary"],[1,"flex","items-center","me-2","gap-3","flex-wrap"],[1,"font-medium",3,"ngClass"],[1,"block","text-textmuted","dark:text-textmuted/50"],["class","flex items-center me-2 flex-wrap",4,"ngIf"],[1,"text-success","text-[0.9375rem]","font-bold"],[1,"table-responsive","overflow-auto","table-bordered-default"],["tableClass","ti-custom-table ti-custom-table-head ti-custom-table-hover ti-head-primary whitespace-nowrap",3,"columns","showAction"],["class","product-list border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],[1,"product-list","border-b","!border-defaultborder","dark:!border-defaultborder/10"],[1,"text-center","w50"],[1,""],[1,"w100"],[1,"text-right","w80"],[1,"xxl:col-span-4","xl:col-span-4","lg:col-span-4","md:col-span-5","col-span-12"],[3,"btnClick","title","boxHeader","classbody","titleView","btn1","buttonName","iconName"],[1,"mb-4"],[1,"font-medium","me-2","text-[14px]"],[1,"text-[11px]","badge",3,"ngClass"],[1,"order-track","mt-1"],["data-hs-accordion-always-open","",1,"hs-accordion-group"],["id","order-heading-one",1,"hs-accordion","accordion","active"],["href","javascript:void(0);","aria-controls","order-collapse-one",1,"hs-accordion-toggle","group","items-center","gap-x-3","w-full","font-semibold","text-start","transition"],[1,"flex","mb-2"],[1,"me-2"],[1,"avatar","avatar-sm","avatar-rounded","track-order-icon","backdrop-blur","border","border-primary/10","bg-primary/10"],[1,"ri-send-plane-fill","text-primary"],[1,"flex-grow","flex","items-center","justify-between"],[1,"font-medium","mb-0","text-[0.875rem]"],[1,"font-normal","text-textmuted"],["id","order-collapse-one","aria-labelledby","order-heading-one",1,"space-y-3","hs-accordion-content","w-full","overflow-hidden","transition-[height]","duration-300"],[1,"accordion-body","!pt-0","!ps-[3rem]"],[1,"mb-0"],[1,"font-semibold","text-primarytint1color"],["class","hs-accordion accordion active","id","order-heading-two",4,"ngIf"],["class","hs-accordion accordion active","id","order-heading-three",4,"ngIf"],["class","hs-accordion accordion active","id","order-heading-four",4,"ngIf"],["id","order-heading-five",1,"hs-accordion","accordion","active"],["href","javascript:void(0);","aria-controls","order-collapse-five",1,"group","inline-flex","items-center","gap-x-3","w-full","font-semibold","text-start","transition"],[1,"flex","mb-0","flex-grow"],[1,"avatar","avatar-sm","avatar-rounded","track-order-icon","backdrop-blur","border","border-info/10","bg-info/10"],[1,"ri-wallet-3-fill","text-info"],[1,"font-semibold","mb-0","text-[0.875rem]"],["id","order-collapse-five","aria-labelledby","order-heading-five",1,"space-y-3","hs-accordion-content","w-full","overflow-hidden","transition-[height]","duration-300"],[1,"text-success","font-semibold"],[3,"title","titleView","iconClass","classbody","iconName"],["class","grid grid-cols-12 gap-x-4",4,"ngIf"],["id","order-heading-two",1,"hs-accordion","accordion","active"],["href","javascript:void(0);","aria-controls","order-collapse-two",1,"hs-accordion-toggle","group","items-center","gap-x-3","w-full","font-semibold","text-start","transition"],[1,"avatar","avatar-sm","avatar-rounded","track-order-icon","backdrop-blur","border","border-warning/10","bg-warning/10"],[1,"ri-time-fill","text-warning"],["id","order-collapse-two","aria-labelledby","order-heading-two",1,"space-y-3","hs-accordion-content","w-full","overflow-hidden","transition-[height]","duration-300"],[1,"text-warning","font-semibold"],["id","order-heading-three",1,"hs-accordion","accordion","active"],["href","javascript:void(0);","aria-controls","order-collapse-three",1,"hs-accordion-toggle","group","items-center","gap-x-3","w-full","font-semibold","text-start","transition"],[1,"avatar","avatar-sm","avatar-rounded","track-order-icon","backdrop-blur","border","border-success/10","bg-success/10"],[1,"ri-checkbox-circle-fill","text-success"],["id","order-collapse-three","aria-labelledby","order-heading-three",1,"space-y-3","hs-accordion-content","w-full","overflow-hidden","transition-[height]","duration-300"],["id","order-heading-four",1,"hs-accordion","accordion","active"],["href","javascript:void(0);","aria-controls","order-collapse-four",1,"hs-accordion-toggle","group","items-center","gap-x-3","w-full","font-semibold","text-start","transition"],[1,"avatar","avatar-sm","avatar-rounded","track-order-icon","backdrop-blur","border","border-danger/10","bg-danger/10"],[1,"ri-close-circle-fill","text-danger"],["id","order-collapse-four","aria-labelledby","order-heading-four",1,"space-y-3","hs-accordion-content","w-full","overflow-hidden","transition-[height]","duration-300"],[1,"text-danger","font-semibold"],[1,"grid","grid-cols-12","gap-x-4"],["class","xxl:col-span-2 lg:col-span-4 xl:col-span-4 sm:col-span-6 col-span-12",4,"ngFor","ngForOf"],[1,"xxl:col-span-2","lg:col-span-4","xl:col-span-4","sm:col-span-6","col-span-12"],[3,"apiPath","imageData","editBtn","delBtn","heading","subHeading"]],template:function(e,v){e&1&&(p(0,"app-page-header",0),t(1,"div",1),u(2,ie,3,3,"div",2)(3,oe,135,59,"div",3)(4,me,54,39,"div",4),i()),e&2&&(l("title","IRP")("title1",S(6,W))("activeitem","Stock Transfer Detail"),n(2),l("ngIf",v.skLoading),n(),l("ngIf",!v.skLoading),n(),l("ngIf",!v.skLoading))},dependencies:[U,T,M,P,$,V,q,B,N,z,Q,A,O,L,G],encapsulation:2})};export{K as CustomerStockTransferDetailComponent};
