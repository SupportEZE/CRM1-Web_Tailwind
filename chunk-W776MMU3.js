import{a as H}from"./chunk-DNYQUEPM.js";import"./chunk-PU6S26UW.js";import{a as V}from"./chunk-JUPJFX3F.js";import"./chunk-OTFCGVEU.js";import"./chunk-CNF4GSI7.js";import{a as N}from"./chunk-OEHD5D2Y.js";import{a as B}from"./chunk-GLWQGYBC.js";import{B as A,F,c as M}from"./chunk-VHE3PQ3O.js";import{Qa as T,Z as R,hb as P}from"./chunk-GYDYF5F3.js";import{K as h,M as w,f as C,g,n as E,o as I,t as k}from"./chunk-PD5VTTIY.js";import{Hb as y,Mc as n,Ob as m,Oc as r,Yc as S,_b as d,bc as v,ed as x,fd as b,gd as f,kc as t,lc as i,mc as D,nc as p,oc as s,rb as a,sb as u,yc as c}from"./chunk-2NSPOFEK.js";import"./chunk-EU2KAMEK.js";import"./chunk-66YHNWRR.js";var j=()=>["Stock Return"],q=()=>[];function L(o,l){o&1&&(t(0,"div",7),D(1,"app-skeleton"),i()),o&2&&(a(),v("w180"))}function Q(o,l){o&1&&(t(0,"div",3)(1,"app-showcode-card",4)(2,"div",5),m(3,L,2,2,"div",6),i()()()),o&2&&(a(),d("titleView",!1)("view",!1),a(2),d("ngForOf",S(3,q).constructor(10)))}function G(o,l){if(o&1&&(p(0),n(1),s()),o&2){let e=c(2);a(),r(" ",e.invoiceDetail.invoice_number?e.invoiceDetail.invoice_number:"---"," ")}}function $(o,l){if(o&1&&(p(0),n(1),s()),o&2){let e=c(2);a(),r(" ",e.invoiceDetail.bill_number?e.invoiceDetail.bill_number:"---"," ")}}function z(o,l){if(o&1&&(p(0),n(1),x(2,"date"),s()),o&2){let e=c(2);a(),r(" ",e.invoiceDetail.billing_date?f(2,1,e.invoiceDetail.billing_date,"dd MMM yyyy"):"---"," ")}}function J(o,l){if(o&1&&(p(0),n(1),x(2,"date"),s()),o&2){let e=c(2);a(),r(" ",e.invoiceDetail.bill_date?f(2,1,e.invoiceDetail.bill_date,"dd MMM yyyy"):"---"," ")}}function K(o,l){if(o&1&&(p(0),n(1),s()),o&2){let e=c(2);a(),r(" ",e.invoiceDetail.net_amount_with_tax?e.invoiceDetail.net_amount_with_tax:"---"," ")}}function U(o,l){if(o&1&&(p(0),n(1),s()),o&2){let e=c(2);a(),r(" ",e.invoiceDetail.bill_amount?e.invoiceDetail.bill_amount:"---"," ")}}function W(o,l){if(o&1&&(t(0,"div",12)(1,"div")(2,"span",13),n(3),i(),t(4,"span",18),n(5,"Reject Reason"),i()()()),o&2){let e=c(2);a(3),r(" ",e.invoiceDetail.remarks?e.invoiceDetail.remarks:"---"," ")}}function X(o,l){if(o&1&&(t(0,"app-showcode-card",9)(1,"ul",10)(2,"li")(3,"div",11)(4,"div",12)(5,"div")(6,"span",13),n(7),i(),t(8,"span",14),n(9,"Customer Details"),i()()(),t(10,"div",12)(11,"div")(12,"span",13),n(13),i(),t(14,"span",14),n(15,"Customer Type"),i()()(),t(16,"div",12)(17,"div")(18,"span",13),n(19),i(),t(20,"span",14),n(21,"Contact Person"),i()()(),t(22,"div",12)(23,"div")(24,"span",13),n(25),i(),t(26,"span",14),n(27," Mobile No. "),i()()(),t(28,"div",12)(29,"div")(30,"span",13),n(31),i(),t(32,"span",14),n(33,"Address "),i()()()()()()()),o&2){let e=c(2);v("text-primarytint1color"),d("title","Customer Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),a(7),r(" ",e.invoiceDetail.customer_name?e.invoiceDetail.customer_name:"---"," "),a(6),r(" ",e.invoiceDetail.customer_type_name?"("+e.invoiceDetail.customer_type_name+")":"---"," "),a(6),r(" ",e.invoiceDetail.contact_person_name?e.invoiceDetail.contact_person_name:"---"," "),a(6),r(" ",e.invoiceDetail.customer_mobile?e.invoiceDetail.customer_mobile:"---"," "),a(6),r(" ",e.invoiceDetail.customer_full_address?e.invoiceDetail.customer_full_address:"---"," ")}}function Y(o,l){if(o&1&&(p(0),t(1,"app-showcode-card",9)(2,"ul",10)(3,"li")(4,"div",11)(5,"div",12)(6,"div")(7,"span",13),n(8),i(),t(9,"span",14),n(10," Customer Type "),i()()(),t(11,"div",12)(12,"div")(13,"span",13),n(14),i(),t(15,"span",14),n(16,"Customer Details"),i()()(),t(17,"div",12)(18,"div")(19,"span",13),n(20),i(),t(21,"span",14),n(22,"Contact Person"),i()()(),t(23,"div",12)(24,"div")(25,"span",13),n(26),i(),t(27,"span",14),n(28," Mobile No. "),i()()(),t(29,"div",12)(30,"div")(31,"span",13),n(32),i(),t(33,"span",14),n(34,"Address "),i()()()()()()(),t(35,"app-showcode-card",9)(36,"ul",10)(37,"li")(38,"div",11)(39,"div",12)(40,"div")(41,"span",13),n(42),i(),t(43,"span",14),n(44,"Customer Type"),i()()(),t(45,"div",12)(46,"div")(47,"span",13),n(48),i(),t(49,"span",14),n(50,"Customer Details"),i()()(),t(51,"div",12)(52,"div")(53,"span",13),n(54),i(),t(55,"span",14),n(56,"Contact Person"),i()()(),t(57,"div",12)(58,"div")(59,"span",13),n(60),i(),t(61,"span",14),n(62," Mobile No. "),i()()(),t(63,"div",12)(64,"div")(65,"span",13),n(66),i(),t(67,"span",14),n(68,"Address "),i()()()()()()(),s()),o&2){let e=c(2);a(),v("text-primarytint1color"),d("title","Sender Customer Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),a(7),r(" ",e.invoiceDetail.sender_customer_type_name?e.invoiceDetail.sender_customer_type_name:"---"," "),a(6),r(" ",e.invoiceDetail.sender_customer_name?e.invoiceDetail.sender_customer_name:"---"," "),a(6),r(" ",e.invoiceDetail.sender_contact_person_name?e.invoiceDetail.sender_contact_person_name:"---"," "),a(6),r(" ",e.invoiceDetail.sender_customer_mobile?e.invoiceDetail.sender_customer_mobile:"---"," "),a(6),r(" ",e.invoiceDetail.sender_full_address?e.invoiceDetail.sender_full_address:"---"," "),a(3),v("text-primarytint1color"),d("title","Receiver Customer Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),a(7),r(" ",e.invoiceDetail.receiver_customer_type_name?e.invoiceDetail.receiver_customer_type_name:"---"," "),a(6),r(" ",e.invoiceDetail.receiver_customer_name?e.invoiceDetail.receiver_customer_name:"---"," "),a(6),r(" ",e.invoiceDetail.receiver_contact_person_name?e.invoiceDetail.receiver_contact_person_name:"---"," "),a(6),r(" ",e.invoiceDetail.receiver_customer_mobile?e.invoiceDetail.receiver_customer_mobile:"---"," "),a(6),r(" ",e.invoiceDetail.receiver_full_address?e.invoiceDetail.receiver_full_address:"---"," ")}}function Z(o,l){if(o&1&&(t(0,"tr",23)(1,"td",24)(2,"div",25),n(3),i()(),t(4,"td")(5,"div",25),n(6),i()(),t(7,"td",26)(8,"div",14),n(9),i()(),t(10,"td",27),n(11),i(),t(12,"td",28),n(13),i()()),o&2){let e=l.$implicit,_=l.index;a(3),r(" ",_+1," "),a(3),r(" ",e.label?e.label:"---"," "),a(3),r(" ",e.product_code?e.product_code:"---"," "),a(2),r(" ",e.qty?e.qty:"---"," "),a(2),r(" ",e.point_trasnfer?e.point_trasnfer:"0"," PT ")}}function ee(o,l){if(o&1&&(t(0,"div",3)(1,"div",1)(2,"div",8)(3,"app-showcode-card",9)(4,"ul",10)(5,"li")(6,"div",11)(7,"div",12)(8,"div")(9,"span",13),n(10),x(11,"date"),i(),t(12,"span",14),n(13,"Date Created"),i()()(),t(14,"div",12)(15,"div")(16,"span",13),n(17),x(18,"titlecase"),i(),t(19,"span",14),n(20,"Created By"),i()()(),t(21,"div",12)(22,"div")(23,"span",13),m(24,G,2,1,"ng-container",15)(25,$,2,1,"ng-container",15),i(),t(26,"span",14),n(27,"Bill Number"),i()()(),t(28,"div",12)(29,"div")(30,"span",13),m(31,z,3,4,"ng-container",15)(32,J,3,4,"ng-container",15),i(),t(33,"span",14),n(34,"Bill Date"),i()()(),t(35,"div",12)(36,"div")(37,"span",13),n(38,"\u20B9 "),m(39,K,2,1,"ng-container",15)(40,U,2,1,"ng-container",15),i(),t(41,"span",14),n(42,"Bill Amount"),i()()(),t(43,"div",12)(44,"div")(45,"span",13),n(46),i(),t(47,"span",14),n(48,"Total Items"),i()()(),t(49,"div",12)(50,"div")(51,"span",13),n(52),i(),t(53,"span",14),n(54,"Total Qty"),i()()(),m(55,W,6,1,"div",16),t(56,"div",12)(57,"div")(58,"span",17),n(59,"0PT"),i(),t(60,"span",18),n(61,"Point Deduction"),i()()()()()()()(),t(62,"div",8),m(63,X,34,11,"app-showcode-card",19)(64,Y,69,22,"ng-container",15),i()(),t(65,"app-showcode-card",9)(66,"div",20)(67,"spk-reusable-tables",21),m(68,Z,14,5,"tr",22),i()()()()),o&2){let e=c();a(3),v("text-primarytint1color"),d("title","Stock Return Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),a(7),r(" ",e.invoiceDetail.created_at?f(11,28,e.invoiceDetail.created_at,"dd MMM yyyy"):"---",""),a(7),r(" ",e.invoiceDetail.created_name?b(18,31,e.invoiceDetail.created_name):"---"," "),a(7),d("ngIf",e.detailData["return-type"]==="company"),a(),d("ngIf",e.detailData["return-type"]==="customer"),a(6),d("ngIf",e.detailData["return-type"]==="company"),a(),d("ngIf",e.detailData["return-type"]==="customer"),a(7),d("ngIf",e.detailData["return-type"]==="company"),a(),d("ngIf",e.detailData["return-type"]==="customer"),a(6),r(" ",e.invoiceDetail.total_item_count?e.invoiceDetail.total_item_count:"---"," "),a(6),r(" ",e.invoiceDetail.total_item_quantity?e.invoiceDetail.total_item_quantity:"---"," "),a(3),d("ngIf",e.invoiceDetail.remarks),a(8),d("ngIf",e.detailData["return-type"]==="company"),a(),d("ngIf",e.detailData["return-type"]==="customer"),a(),v("text-primarytint1color"),d("title","Product Details")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),a(2),d("columns",e.invoiceColumns)("showCheckbox",!1),a(),d("ngForOf",e.invoiceDetail.selected_item)}}var O=class o{constructor(l,e,_,te){this.route=l;this.router=e;this.dialog=_;this.api=te}filter={};id={};skLoading=!1;invoiceDetail={};detailData={};ngOnInit(){let l=this.router.getCurrentNavigation();if(l?.extras?.state?.detail)this.detailData=l.extras.state.detail;else{let e=history.state;e?.detail&&(this.detailData=e.detail)}this.route.paramMap.subscribe(e=>{this.id=e.get("id"),this.id&&this.getInvoiceDetail()})}getInvoiceDetail(){this.skLoading=!0;let l=this.detailData["return-type"]==="company"?"stock-transfer/company-return-detail":"stock-transfer/customer-return-detail";this.api.post({_id:this.id},l).subscribe(e=>{e.statusCode===200&&(this.skLoading=!1,this.invoiceDetail=e.data)})}openModal(){this.dialog.open(H,{width:"500px",data:{pageType:"grn_stock",_id:this.id,status:this.invoiceDetail.grn_status}}).afterClosed().subscribe(e=>{e===!0&&this.getInvoiceDetail()})}invoiceColumns=[{label:"S.No"},{label:"Product Name"},{label:"Product Code"},{label:"Qty",table_class:"text-center"},{label:"Point Deduction",table_class:"text-right"}];static \u0275fac=function(e){return new(e||o)(u(h),u(w),u(T),u(R))};static \u0275cmp=y({type:o,selectors:[["app-stock-return-detail"]],decls:4,vars:6,consts:[[3,"title","title1","activeitem"],[1,"grid","grid-cols-12","sm:gap-x-6"],["class","xl:col-span-12 col-span-12",4,"ngIf"],[1,"xl:col-span-12","col-span-12"],[3,"titleView","view"],[1,"flex","gap-2","mb-1","flex-wrap"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"xl:col-span-6","col-span-12"],[3,"title","boxHeader","classbody","titleView"],[1,"ti-list-group","list-group-flush","border-0"],[1,"flex","items-center","gap-5","flex-wrap","text-[12px]"],[1,"flex","items-center","me-2","flex-wrap"],[1,"block","font-medium"],[1,"text-textmuted","dark:text-textmuted/50"],[4,"ngIf"],["class","flex items-center me-2 flex-wrap",4,"ngIf"],[1,"text-danger","text-[0.9375rem]","font-bold"],[1,"block","text-textmuted","dark:text-textmuted/50"],[3,"title","class","boxHeader","classbody","titleView",4,"ngIf"],[1,"table-responsive","overflow-auto","table-bordered-default"],["tableClass","ti-custom-table ti-custom-table-head",3,"columns","showCheckbox"],["class","border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],[1,"border-b","!border-defaultborder","dark:!border-defaultborder/10"],[1,"w50"],[1,"font-medium"],[1,"w130"],[1,"product-quantity-container","text-center","w80"],[1,"text-right","w130"]],template:function(e,_){e&1&&(D(0,"app-page-header",0),t(1,"div",1),m(2,Q,4,4,"div",2)(3,ee,69,33,"div",2),i()),e&2&&(d("title","IRP")("title1",S(5,j))("activeitem",_.detailData["return-type"]==="company"?"Customer To Company Return Detail":"Customer To Customer Return Detail"),a(2),d("ngIf",_.skLoading),a(),d("ngIf",!_.skLoading))},dependencies:[F,C,g,B,M,E,I,V,A,k,P,N],encapsulation:2})};export{O as StockReturnDetailComponent};
