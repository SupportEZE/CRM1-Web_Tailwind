import{a as Ot}from"./chunk-JUPJFX3F.js";import{d as jt,e as Bt}from"./chunk-4JVCC6N3.js";import{a as At}from"./chunk-PJTW4QXW.js";import{a as Rt}from"./chunk-SQZ3YN6N.js";import{c as Nt}from"./chunk-CIBZCVJQ.js";import{a as R}from"./chunk-OTFCGVEU.js";import{a as kt}from"./chunk-HPLI5COI.js";import{a as _t}from"./chunk-CNF4GSI7.js";import{a as It}from"./chunk-OEHD5D2Y.js";import{a as Lt}from"./chunk-GLWQGYBC.js";import{a as ft}from"./chunk-DC4QM32I.js";import{B as Vt,C as A,F as L,c as gt,g as wt,r as Mt,s as Pt,t as Tt,v as Ft,w as Et}from"./chunk-VHE3PQ3O.js";import{$ as mt,A as w,B as k,C as at,G as rt,H as lt,I as ct,M as st,Oa as vt,P as pt,Pa as ht,Qa as Ct,Ra as bt,Ta as xt,Ua as yt,V as dt,Z as N,Za as Dt,aa as ut,hb as St,m as I,w as V,z as nt}from"./chunk-GYDYF5F3.js";import{K as et,M as it,Q as ot,e as H,f as W,g as E,n as Q,o as J,q as X,t as tt}from"./chunk-PD5VTTIY.js";import{Aa as _,Ba as g,Hb as F,Mc as p,Nc as M,Ob as m,Oc as h,Qc as z,Uc as U,Vc as Z,Wc as $,Yc as P,_b as l,_c as K,bc as S,ed as T,fd as B,gd as q,kc as a,lc as r,mc as v,nc as y,oc as D,qc as C,rb as o,sb as u,wc as f,yc as s}from"./chunk-2NSPOFEK.js";import"./chunk-EU2KAMEK.js";import{a as x,b as Y}from"./chunk-66YHNWRR.js";function Jt(e,i){if(e&1){let t=C();a(0,"div",1)(1,"app-modal-header",2),f("close",function(){_(t);let c=s();return g(c.closeModal())}),r(),a(2,"form",3),f("ngSubmit",function(){_(t);let c=s();return g(c.submit())}),a(3,"mat-dialog-content",4)(4,"div",5)(5,"div",6)(6,"spk-ng-select",7),f("selectedChange",function(c){_(t);let d=s();return g(d.findName(c))}),r()()()(),a(7,"mat-dialog-actions",8),v(8,"app-button",9)(9,"app-button",10),r()()()}if(e&2){let t=s();o(),l("title","Update Point Category")("closeBtn",!0),o(),l("formGroup",t.pointCategoryForm),o(4),l("fieldReq",!0)("options",t.pointCategory),o(2),l("buttonType","button")("buttonClass","ti-btn ti-btn-outline-danger m-2")("label","Cancel"),o(),l("buttonType","submit")("buttonClass","ti-btn ti-btn-primary m-0")("disabled",t.api.disabled)("formType","add")("iconClass","ri-save-line")("loadingIconClass","ri-loader-2-fill")}}function Xt(e,i){if(e&1){let t=C();a(0,"div",1)(1,"app-modal-header",2),f("close",function(){_(t);let c=s();return g(c.closeModal())}),r(),a(2,"form",3),f("ngSubmit",function(){_(t);let c=s();return g(c.onSubmit())}),a(3,"mat-dialog-content",4)(4,"div",11)(5,"div",12),v(6,"spk-input",13),r(),a(7,"div",12)(8,"spk-ng-select",14),f("selectedChange",function(c){_(t);let d=s();return g(d.findName(c))}),r()(),a(9,"div",12)(10,"spk-ng-select",15),f("selectedChange",function(c){_(t);let d=s();return g(d.findName(c))}),r()(),a(11,"div",12),v(12,"spk-input",16),r()()(),a(13,"mat-dialog-actions",8),v(14,"app-button",9)(15,"app-button",10),r()()()}if(e&2){let t=s();o(),l("title","Dispatch Config")("closeBtn",!0),o(),l("formGroup",t.dispatchForm),o(4),l("fieldReq",!0),o(2),l("fieldReq",!0)("options",t.options),o(2),l("fieldReq",!0)("options",t.options),o(2),l("fieldReq",!0),o(2),l("buttonType","button")("buttonClass","ti-btn ti-btn-outline-danger m-2")("label","Cancel"),o(),l("buttonType","submit")("buttonClass","ti-btn ti-btn-primary m-0")("disabled",t.api.disabled)("formType","add")("iconClass","ri-save-line")("loadingIconClass","ri-loader-2-fill")}}var O=class e{constructor(i,t,n,c,d,b,j,Gt){this.toastr=i;this.modalData=t;this.dialogRef=n;this.api=c;this.logService=d;this.CommonApiService=b;this.fb=j;this.formValidation=Gt}pointCategoryForm;dispatchForm;pointCategory=[];originalData={};options=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}];ngOnInit(){this.pointCategoryForm=this.fb.group({point_category_id:["",w.required],point_category_name:["",w.required]}),this.dispatchForm=this.fb.group({box_size:["",w.required],qr_genration:["",w.required],box_with_item:["",w.required],uom:["",w.required]}),this.modalData.pageType==="point_category"&&(this.modalData.point_category_id&&(this.originalData={point_category_name:this.modalData.point_category_name},this.pointCategoryForm.patchValue({point_category_id:this.modalData.point_category_id}),this.pointCategoryForm.patchValue({point_category_name:this.modalData.point_category_name}),this.findName(this.pointCategoryForm.value.point_category_id)),this.getPointCategory()),this.modalData.pageType==="dispatch"&&this.modalData.dispatch_config&&(this.modalData.dispatch_config.qr_genration=this.modalData.dispatch_config.qr_genration===!0?"Yes":"No",this.modalData.dispatch_config.box_with_item=this.modalData.dispatch_config.box_with_item===!0?"Yes":"No",this.originalData=this.modalData.dispatch_config,this.dispatchForm.patchValue(this.modalData.dispatch_config))}submit(){if(this.pointCategoryForm.valid){this.pointCategoryForm.value.product_id=this.modalData.product_id;let i=!0;if(i&&this.logService.logActivityOnUpdate(i,this.originalData,{point_category_name:this.pointCategoryForm.value.point_category_name},this.modalData.subModule.sub_module_id,this.modalData.subModule.title,"update",this.modalData.product_id||null,()=>{},this.modalData.subModule.module_type)){this.api.disabled=!1,this.toastr.warning("No changes detected","","toast-top-right");return}this.api.disabled=!0,this.pointCategoryForm.value.point_category_name==="none"&&(this.pointCategoryForm.value.is_delete=1),this.api.post(this.pointCategoryForm.value,"point-category/point-product-map").subscribe(t=>{t.statusCode==200&&(this.dialogRef.close(!0),this.api.disabled=!1,this.toastr.success(t.message,"","toast-top-right"))})}else this.formValidation.markFormGroupTouched(this.pointCategoryForm)}getPointCategory(){this.api.post({module_id:this.modalData.subModule.module_id?this.modalData.subModule.module_id:"",page:1},"point-category/read-dropdown").subscribe(i=>{if(i.statusCode==200){let t={label:"none",value:"none"},n=Array.isArray(i.data)?i.data:[];this.pointCategory=[t,...n]}})}findName(i){let t=this.pointCategory.findIndex(n=>n.value===i);if(t!==-1){let n=this.pointCategory[t].label;this.pointCategoryForm.patchValue({point_category_name:n})}}onSubmit(){if(this.dispatchForm.valid){this.dispatchForm.value.product_id=this.modalData.product_id;let i=!0;if(i&&this.logService.logActivityOnUpdate(i,this.originalData,this.dispatchForm.value,this.modalData.subModule.sub_module_id,this.modalData.subModule.title,"update",this.modalData.product_id||null,()=>{},this.modalData.subModule.module_type)){this.api.disabled=!1,this.toastr.warning("No changes detected","","toast-top-right");return}this.api.disabled=!0,this.dispatchForm.value.qr_genration=this.dispatchForm.value.qr_genration==="Yes",this.dispatchForm.value.box_with_item=this.dispatchForm.value.box_with_item==="Yes",this.api.post(this.dispatchForm.value,"product/save-dispatch-config").subscribe(t=>{t.statusCode==200&&(this.dialogRef.close(!0),this.api.disabled=!1,this.toastr.success(t.message,"","toast-top-right"))})}else this.formValidation.markFormGroupTouched(this.dispatchForm)}closeModal(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||e)(u(V),u(ht),u(vt),u(N),u(R),u(_t),u(dt),u(Ft))};static \u0275cmp=F({type:e,selectors:[["app-product-modal"]],decls:2,vars:2,consts:[["class","mat-dialoge",4,"ngIf"],[1,"mat-dialoge"],[3,"close","title","closeBtn"],[3,"ngSubmit","formGroup"],[1,"mat-typography"],[1,"grid","grid-cols-12","gap-x-6"],[1,"xxl:col-span-12","xl:col-span-12","lg:col-span-12","md:col-span-12","col-span-12"],["formControlName","point_category_id","label","Point Category",3,"selectedChange","fieldReq","options"],["align","end"],["mat-dialog-close","",3,"buttonType","buttonClass","label"],[3,"buttonType","buttonClass","disabled","formType","iconClass","loadingIconClass"],[1,"grid","grid-cols-12","gap-x-4","gap-x-4"],[1,"xxl:col-span-6","xl:col-span-6","lg:col-span-6","md:col-span-6","col-span-12"],["label","Box Size","formControlName","box_size","type","number",1,"remove-default-class",3,"fieldReq"],["formControlName","qr_genration","label","Qr Genration",3,"selectedChange","fieldReq","options"],["formControlName","box_with_item","label","Box With Item",3,"selectedChange","fieldReq","options"],["label","UOM","formControlName","uom","type","text",1,"remove-default-class",3,"fieldReq"]],template:function(t,n){t&1&&m(0,Jt,10,14,"div",0)(1,Xt,16,18,"div",0),t&2&&(l("ngIf",n.modalData.pageType==="point_category"),o(),l("ngIf",n.modalData.pageType==="dispatch"))},dependencies:[Mt,L,E,lt,k,at,st,pt,Et,wt,A,St,bt,yt,xt],encapsulation:2})};var te=()=>["Product"],ee=(e,i)=>({"text-success":e,"text-danger":i}),G=()=>[];function ie(e,i){if(e&1&&(a(0,"div",15)(1,"div")(2,"span",16),p(3),r(),a(4,"span",17),p(5,"Category"),r()()()),e&2){let t=s(2);o(3),h(" ",t.productDetail.sub_category?t.productDetail.sub_category:"--",", ")}}function oe(e,i){if(e&1&&(a(0,"div",15)(1,"div")(2,"span",16),p(3),T(4,"titlecase"),r(),a(5,"span",17),p(6," Updated By "),r()()()),e&2){let t=s(2);o(3),h(" ",t.productDetail.updated_name?B(4,1,t.productDetail.updated_name):"---"," ")}}function ne(e,i){if(e&1&&(a(0,"div",15)(1,"div")(2,"span",16),p(3),T(4,"date"),r(),a(5,"span",17),p(6,"Updated At"),r()()()),e&2){let t=s(2);o(3),M(t.productDetail.updated_at?q(4,1,t.productDetail.updated_at,"dd MMM yyyy hh:mm a"):"---")}}function ae(e,i){if(e&1){let t=C();a(0,"div",23)(1,"div")(2,"span",16),p(3),r(),a(4,"span",17),p(5," Point Category "),r()(),a(6,"app-icon-button",24),f("click",function(){_(t);let c=s(2);return g(c.openModal("point_category"))}),r()()}if(e&2){let t=s(2);o(3),h(" ",t.productDetail.point_category_name?t.productDetail.point_category_name:"---"," "),o(3),l("icon","ri-pencil-line")("buttonClass","btn-wave ti-btn ti-btn-sm ti-btn-soft-primary waves-effect waves-light")}}function re(e,i){if(e&1&&(a(0,"div",15)(1,"div")(2,"span",25),p(3),r(),a(4,"span",17),p(5),r()()()),e&2){let t=i.$implicit;o(3),M(t.value),o(2),M(t.key)}}function le(e,i){if(e&1&&(a(0,"div")(1,"p",12),p(2),r(),v(3,"div",13),a(4,"div",14)(5,"div",15)(6,"div")(7,"span",16),p(8),T(9,"date"),r(),a(10,"span",17),p(11,"Created At"),r()()(),a(12,"div",15)(13,"div")(14,"span",16),p(15),r(),a(16,"span",17),p(17,"Created Name"),r()()(),a(18,"div",15)(19,"div")(20,"span",16),p(21),r(),a(22,"span",17),p(23,"Category"),r()()(),m(24,ie,6,1,"div",18),a(25,"div",15)(26,"div")(27,"span",16),p(28),r(),a(29,"span",17),p(30,"Product Name"),r()()(),a(31,"div",15)(32,"div")(33,"span",16),p(34),r(),a(35,"span",17),p(36,"Product Code"),r()()(),a(37,"div",15)(38,"div")(39,"span",19),p(40),r(),a(41,"span",17),p(42,"Status"),r()()(),m(43,oe,7,3,"div",18)(44,ne,7,4,"div",18)(45,ae,7,3,"div",20),r(),v(46,"div",21),a(47,"div",14),m(48,re,6,2,"div",22),T(49,"keyvalue"),r()()),e&2){let t=s();o(2),z(" ",t.productDetail.category_name?t.productDetail.category_name:"--",", ",t.productDetail.product_name?t.productDetail.product_name:"--",", ",t.productDetail.product_code?t.productDetail.product_code:"--"," "),o(6),M(t.productDetail.created_at?q(9,15,t.productDetail.created_at,"dd MMM yyyy hh:mm a"):""),o(7),M(t.productDetail.created_name),o(6),h(" ",t.productDetail.category_name?t.productDetail.category_name:"--",", "),o(3),l("ngIf",t.productDetail.sub_category),o(4),h(" ",t.productDetail.product_name?t.productDetail.product_name:"--",", "),o(6),h(" ",t.productDetail.product_code?t.productDetail.product_code:"--",", "),o(5),l("ngClass",K(20,ee,t.productDetail.status==="Active",t.productDetail.status==="Inactive")),o(),h(" ",t.productDetail.status," "),o(3),l("ngIf",t.productDetail.updated_name),o(),l("ngIf",t.productDetail.updated_at),o(),l("ngIf",t.orgData==null||t.orgData.org==null?null:t.orgData.org.irp),o(3),l("ngForOf",B(49,18,t.formattedKeysFormData))}}function ce(e,i){e&1&&(a(0,"div",28),v(1,"app-skeleton"),r()),e&2&&(o(),S("w180"))}function se(e,i){e&1&&(a(0,"div")(1,"div",26),m(2,ce,2,2,"div",27),r()()),e&2&&(o(2),l("ngForOf",P(1,G).constructor(10)))}function pe(e,i){if(e&1){let t=C();a(0,"div",31)(1,"spk-product-card",32),f("delete",function(){let c=_(t).$implicit,d=s(2);return g(d.delete(c._id,"product/delete-file","delete"))}),r()()}if(e&2){let t=i.$implicit;o(),l("apiPath","product/get-doc")("imageData",t)("editBtn",!1)("heading",!1)("subHeading",!1)}}function de(e,i){if(e&1&&(a(0,"div",29),m(1,pe,2,5,"div",30),r()),e&2){let t=s();o(),l("ngForOf",t.productDetailImages)}}function me(e,i){e&1&&v(0,"app-data-not-found")}function ue(e,i){if(e&1){let t=C();a(0,"td")(1,"input",38),$("ngModelChange",function(c){let d=_(t).$implicit,b=s(3);return Z(b.priceInputValues[d.label],c)||(b.priceInputValues[d.label]=c),g(c)}),r()()}if(e&2){let t=i.$implicit,n=s(3);o(),U("ngModel",n.priceInputValues[t.label])}}function _e(e,i){if(e&1){let t=C();y(0),a(1,"tr",34),m(2,ue,2,1,"td",35),a(3,"td",36)(4,"app-icon-button",37),f("clickEvent",function(){_(t);let c=s(2);return g(c.saveNetPrice())}),r()()(),D()}if(e&2){let t=s(2);o(2),l("ngForOf",t.priceConfig),o(2),l("icon","ri-save-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-success waves-effect waves-light")}}function ge(e,i){e&1&&(a(0,"td"),v(1,"app-skeleton"),r()),e&2&&(o(),S("h20 bg-skeleton"))}function fe(e,i){if(e&1&&(a(0,"tr",40),m(1,ge,2,2,"td",35),r()),e&2){let t=s(3);o(),l("ngForOf",t.priceConfig)}}function ve(e,i){e&1&&(y(0),m(1,fe,2,1,"tr",39),D()),e&2&&(o(),l("ngForOf",P(1,G).constructor(1)))}function he(e,i){if(e&1&&(y(0),a(1,"spk-reusable-tables",33),m(2,_e,5,3,"ng-container",4)(3,ve,2,2,"ng-container",4),r(),D()),e&2){let t=s();o(),l("columns",t.priceConfig)("showAction",!0),o(),l("ngIf",!t.skLoading),o(),l("ngIf",t.skLoading)}}function Ce(e,i){if(e&1){let t=C();a(0,"td")(1,"input",38),f("ngModelChange",function(c){_(t);let d=s().$implicit,b=s().index,j=s(3);return g(j.onZonePriceChange(c,b,d.label))}),r()()}if(e&2){let t=s().$implicit,n=s().index,c=s(3);o(),l("ngModel",(c.priceInputValues[n]==null?null:c.priceInputValues[n][t.label])||"")}}function be(e,i){if(e&1&&(y(0),m(1,Ce,2,1,"td",4),D()),e&2){let t=i.$implicit;o(),l("ngIf",t.label!=="Zone")}}function xe(e,i){if(e&1&&(a(0,"tr",34)(1,"td"),p(2),r(),m(3,be,2,1,"ng-container",35),r()),e&2){let t=i.$implicit,n=s(3);o(2),h("",t," "),o(),l("ngForOf",n.priceConfig)}}function ye(e,i){if(e&1&&(y(0),m(1,xe,4,2,"tr",44),D()),e&2){let t=s(2);o(),l("ngForOf",t.priceZone)}}function De(e,i){e&1&&(a(0,"td"),v(1,"app-skeleton"),r()),e&2&&(o(),S("h20 bg-skeleton"))}function Se(e,i){if(e&1&&(a(0,"tr",40),m(1,De,2,2,"td",35),r()),e&2){let t=s(3);o(),l("ngForOf",t.priceConfig)}}function Ie(e,i){e&1&&(y(0),m(1,Se,2,1,"tr",39),D()),e&2&&(o(),l("ngForOf",P(1,G).constructor(2)))}function we(e,i){if(e&1){let t=C();y(0),a(1,"spk-reusable-tables",41),m(2,ye,2,1,"ng-container",4)(3,Ie,2,2,"ng-container",4),r(),a(4,"div",42)(5,"app-button",43),f("buttonClick",function(){_(t);let c=s();return g(c.saveNetPrice())}),r()(),D()}if(e&2){let t=s();o(),l("columns",t.priceConfig),o(),l("ngIf",!t.skLoading),o(),l("ngIf",t.skLoading),o(2),l("buttonType","submit")("buttonClass","ti-btn ti-btn-primary m-0")("iconClass","ri-save-line")("loadingIconClass","ri-loader-2-fill")}}function Me(e,i){if(e&1){let t=C();a(0,"app-showcode-card",45),f("action",function(){_(t);let c=s();return g(c.openModal("dispatch"))}),a(1,"ul",46)(2,"li")(3,"div",47)(4,"div",48)(5,"div")(6,"span",49),p(7),r(),a(8,"span",50),p(9," Box Size "),r()()(),a(10,"div",48)(11,"div")(12,"span",49),p(13),r(),a(14,"span",50),p(15," QR Code Genration "),r()()(),a(16,"div",48)(17,"div")(18,"span",49),p(19),r(),a(20,"span",50),p(21," Box Item With QR "),r()()(),a(22,"div",48)(23,"div")(24,"span",49),p(25),r(),a(26,"span",50),p(27," UOM "),r()()()()()()()}if(e&2){let t=s();S("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Dispatch Config")("titleView",!0)("actionIcons",!0)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-pencil-line"),o(7),h(" ",t.dispatchConfig.box_size?t.dispatchConfig.box_size:"---"," "),o(6),h(" ",t.dispatchConfig.qr_genration?"Yes":"No"," "),o(6),h(" ",t.dispatchConfig.box_with_item?"Yes":"No"," "),o(6),h(" ",t.dispatchConfig.uom?t.dispatchConfig.uom:"---"," ")}}var qt=class e{constructor(i,t,n,c,d,b,j,Gt,Pe,Te,Fe){this.lightbox=i;this.router=t;this.alert=n;this.route=c;this.api=d;this.toastr=b;this.moduleService=j;this.logService=Gt;this.comanFuncation=Pe;this.dialog=Te;this.authService=Fe;this.orgData=this.authService.getUser()}FORMID=kt;subModule={};data={};logList=[];productDetail;productPrice;formattedKeysFormData={};formattedKeysRecentActivities={};productDetailFormData;disptachConfig={};productDetailImages=[];skLoading=!1;orgData={};priceInputValues={};dispatchConfig={};posts;originalData=[];updatedData=[];DetailId;ngOnInit(){let i=this.moduleService.getSubModuleByName("Masters","Products");i&&(this.subModule=i),this.route.paramMap.subscribe(t=>{this.DetailId=t.get("id"),this.DetailId&&this.getProductDetail()})}getProductDetail(){this.skLoading=!0,this.api.post({_id:this.DetailId,module_id:this.subModule.module_id,sub_module_id:this.subModule.sub_module_id},"product/detail").subscribe(i=>{i.statusCode===200&&(this.skLoading=!1,this.productDetail=i.data,this.productPrice=i.data?.product_price??{},this.priceInputValues=x({},this.productPrice?.form_data??{}),this.productDetailImages=i.data.files,this.productDetailFormData=i.data.form_data,this.dispatchConfig=i?.data?.dispatch_config??{},this.logService.getLogs(this.subModule.sub_module_id,t=>{this.logList=t},this.DetailId?this.DetailId:"",this.subModule.module_type),this.formattedKeysFormData=this.formatAndPrintFormData(this.productDetailFormData),delete this.formattedKeysFormData.Files,this.getPriceConfig(),this.productPrice?.form_data&&Array.isArray(i.data.product_price.form_data)&&(this.originalData=i.data.product_price.form_data.map((t,n)=>x({zone:this.priceZone[n]},t||{}))))})}formatAndPrintFormData(i){let t={};for(let n in i)if(i.hasOwnProperty(n)){let c=n.split("_").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" ");t[c]=i[n]}return t}delete(i,t,n){this.comanFuncation.delete(i,this.subModule,n,t,"single_action",this.DetailId).subscribe(c=>{c===!0&&this.getProductDetail()})}openModal(i){this.dialog.open(O,{width:i=="point_category"?"400px":"768px",data:Y(x({pageType:i,product_id:this.DetailId},this.dispatchConfig&&{dispatch_config:this.dispatchConfig}),{point_category_name:this.productDetail.point_category_name?this.productDetail.point_category_name:"",point_category_id:this.productDetail.point_category_id?this.productDetail.point_category_id:"",subModule:this.subModule})}).afterClosed().subscribe(n=>{n===!0&&this.getProductDetail()})}editPage(i){this.router.navigate(["/apps/master/products-list/product-details/"+this.DetailId+"/edit"])}priceConfig=[];priceConfigType={};priceZone=[];getPriceConfig(){this.skLoading=!0,this.api.post({},"product/price-config").subscribe(i=>{i.statusCode==200&&(this.skLoading=!1,this.priceConfigType=i.data.price_type,this.priceZone=i.data.zones,this.priceConfig=i.data.result??[])})}onZonePriceChange(i,t,n){if(this.priceInputValues[t]||(this.priceInputValues[t]={}),this.priceInputValues[t][n]=+i,this.priceConfigType===I[4]){let c=this.priceConfig?.find(d=>d.label===n);c?.customer_type_id&&(this.priceInputValues[t][`${n.replace(/net/gi,"").trim().replace(/\s+/g,"_").toLowerCase()}_id`]=c.customer_type_id)}}saveNetPrice(){let i=null;(this.priceConfigType===I[1]||this.priceConfigType===I[2])&&(this.priceConfigType===I[2]&&Object.entries(this.priceInputValues).forEach(([t,n])=>{let c=this.priceConfig?.find(b=>b.label===t),d={};if(d[t]=n,c?.customer_type_id){let b=`${t.replace(/net/gi,"").trim().replace(/\s+/g,"_").toLowerCase()}_id`;d[b]=c.customer_type_id}this.priceInputValues=x(x({},this.priceInputValues),d)}),i=x({},this.priceInputValues)),(this.priceConfigType===I[3]||this.priceConfigType===I[4])&&(this.priceInputValues=Object.values(this.priceInputValues),i=this.priceInputValues.map((t,n)=>x({zone:this.priceZone[n]},t||{}))),this.updatedData=i,this.alert.confirm("Are you sure?","You want to update.","Yes it!").then(t=>{t.isConfirmed&&this.api.post({product_id:this.DetailId,form_data:i},"product/save-price").subscribe(n=>{n.statusCode==200&&this.getProductDetail()})})}static \u0275fac=function(t){return new(t||e)(u(jt),u(it),u(mt),u(et),u(N),u(V),u(ft),u(R),u(Nt),u(Ct),u(ut))};static \u0275cmp=F({type:e,selectors:[["app-product-details"]],decls:16,vars:36,consts:[[3,"buttonClick1","title","title1","activeitem","buttonText","icon","btnShow","buttonValue","buttonText1","icon1","btnShow1","buttonValue1"],[1,"grid","grid-cols-12","gap-x-6"],[1,"xxl:col-span-8","xl:col-span-8","lg:col-span-8","md:col-span-7","col-span-12"],[3,"titleView","view"],[4,"ngIf"],[3,"title","titleView","iconClass","classbody","iconName"],["class","grid grid-cols-12 gap-x-4 gap-4",4,"ngIf"],[3,"title","boxHeader","classbody","titleView"],[1,"table-responsive","overflow-auto","table-bordered-default"],[1,"xxl:col-span-4","xl:col-span-4","lg:col-span-4","md:col-span-5","col-span-12"],[3,"title","class","titleView","actionIcons","iconClass","classbody","iconName","action",4,"ngIf"],[3,"logList","closeBtn"],[1,"text-lg","font-semibold","mb-2"],[1,"dropdown-divider","mb-4"],[1,"flex","gap-5","mb-1","flex-wrap"],[1,"flex","items-center","gap-2"],[1,"block","font-medium"],[1,"text-xs","text-textmuted","dark:text-textmuted/50"],["class","flex items-center gap-2",4,"ngIf"],[1,"block",3,"ngClass"],["class","flex items-center me-2 gap-2 flex-wrap",4,"ngIf"],[1,"dropdown-divider","mb-1"],["class","flex items-center gap-2",4,"ngFor","ngForOf"],[1,"flex","items-center","me-2","gap-2","flex-wrap"],["matTooltip","Change Status",3,"click","icon","buttonClass"],[1,"block","text-[14px]","font-medium"],[1,"flex","gap-2","mb-1","flex-wrap"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"grid","grid-cols-12","gap-x-4","gap-4"],["class","xxl:col-span-2 lg:col-span-4 xl:col-span-4 sm:col-span-6 col-span-6",4,"ngFor","ngForOf"],[1,"xxl:col-span-2","lg:col-span-4","xl:col-span-4","sm:col-span-6","col-span-6"],[3,"delete","apiPath","imageData","editBtn","heading","subHeading"],["tableClass","ti-custom-table ti-custom-table-head ti-custom-table-hover ti-head-primary whitespace-nowrap",3,"columns","showAction"],[1,"product-list","border-b","!border-defaultborder","dark:!border-defaultborder/10"],[4,"ngFor","ngForOf"],[1,"text-center"],[3,"clickEvent","icon","buttonClass"],["type","number","placeholder","Enter here ...",1,"form-control","form-control-light",3,"ngModelChange","ngModel"],["class","border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],[1,"border-b","!border-defaultborder","dark:!border-defaultborder/10"],["tableClass","ti-custom-table ti-custom-table-head ti-custom-table-hover ti-head-primary whitespace-nowrap",3,"columns"],[1,"box-footer","border-t","border-block-start-dashed","sm:flex","justify-end"],[3,"buttonClick","buttonType","buttonClass","iconClass","loadingIconClass"],["class","product-list border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],[3,"action","title","titleView","actionIcons","iconClass","classbody","iconName"],[1,"ti-list-group","list-group-flush","border-0"],[1,"flex","items-center","gap-5","flex-wrap"],[1,"flex","items-center","me-2","flex-wrap"],[1,"block","font-medium","text-primay"],[1,"text-textmuted","dark:text-textmuted/50","font-medium"]],template:function(t,n){t&1&&(a(0,"app-page-header",0),f("buttonClick1",function(d){return n.editPage(d)}),r(),a(1,"div",1)(2,"div",2)(3,"app-showcode-card",3),m(4,le,50,23,"div",4)(5,se,3,2,"div",4),r(),a(6,"app-showcode-card",5),m(7,de,2,1,"div",6)(8,me,1,0,"app-data-not-found",4),r(),a(9,"app-showcode-card",7)(10,"div",8),m(11,he,4,4,"ng-container",4)(12,we,6,7,"ng-container",4),r()()(),a(13,"div",9),m(14,Me,28,12,"app-showcode-card",10),v(15,"app-logs",11),r()()),t&2&&(l("title","Master Modules")("title1",P(35,te))("activeitem","Product Details")("buttonText","Filter")("icon","filter_list")("btnShow",!1)("buttonValue","")("buttonText1","Edit Product")("icon1","edit")("btnShow1",!0)("buttonValue1",""),o(3),l("titleView",!1)("view",!1),o(),l("ngIf",!n.skLoading),o(),l("ngIf",n.skLoading),o(),S("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Product Image")("titleView",!0)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),o(),l("ngIf",n.productDetailImages.length>0),o(),l("ngIf",n.productDetailImages.length===0),o(),S("text-primarytint1color"),l("title","Pricing Config")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),o(2),l("ngIf",n.priceConfigType==="Net Price"||n.priceConfigType==="Mrp"),o(),l("ngIf",n.priceConfigType==="Zone Wise Mrp"||n.priceConfigType==="Zone Wise Net Price"),o(2),l("ngIf",(n.orgData==null||n.orgData.org==null?null:n.orgData.org.wms)||(n.orgData==null||n.orgData.org==null?null:n.orgData.org.irp)),o(),l("logList",n.logList)("closeBtn",!1))},dependencies:[L,H,W,E,nt,ct,k,rt,Lt,gt,Pt,A,Rt,Tt,Dt,Q,J,X,ot,Vt,Bt,Ot,tt,At,It],encapsulation:2})};export{qt as ProductDetailsComponent};
