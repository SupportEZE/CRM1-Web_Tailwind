import{a as ne}from"./chunk-J4NDCUAB.js";import{c as ee}from"./chunk-CIBZCVJQ.js";import{a as Y}from"./chunk-OEHD5D2Y.js";import{a as te}from"./chunk-GLWQGYBC.js";import{F as $,c as j,s as Z}from"./chunk-VHE3PQ3O.js";import{Aa as U,B as O,Ea as z,G as R,Ga as G,Z as W,Za as J,hb as Q,ib as oe,jb as X,va as q,wa as K,z as B}from"./chunk-GYDYF5F3.js";import{f as A,g as N,o as H,t as P}from"./chunk-PD5VTTIY.js";import{Aa as p,Ba as _,Bc as F,Hb as V,Mc as r,Nc as m,Ob as u,Oc as v,Uc as y,Vc as L,Wc as E,Yc as w,_b as s,bc as D,ed as I,fc as x,hd as M,kc as i,lc as n,mc as C,nc as b,oc as k,qc as h,rb as a,sb as S,wc as g,yc as d}from"./chunk-2NSPOFEK.js";import{g as re}from"./chunk-66YHNWRR.js";var T=re(oe());var le=()=>["Check In"],ae=()=>[];function ce(o,c){o&1&&C(0,"app-page-header",9),o&2&&s("title","Check In")("title1",w(3,le))("activeitem","Check In List")}function me(o,c){if(o&1){let e=h();i(0,"button",16),g("click",function(){p(e);let l=d(2);return l.filter.name="",_(l.getDayList())}),i(1,"mat-icon"),r(2,"close"),n()()}}function se(o,c){if(o&1){let e=h();i(0,"button",16),g("click",function(){p(e);let l=d(2);return l.filter.reporting_manager_name="",_(l.getDayList())}),i(1,"mat-icon"),r(2,"close"),n()()}}function de(o,c){if(o&1){let e=h();i(0,"button",16),g("click",function(){p(e);let l=d(2);return l.filter.customer_name="",_(l.getDayList())}),i(1,"mat-icon"),r(2,"close"),n()()}}function pe(o,c){if(o&1&&(i(0,"tr",17)(1,"td",18),r(2),n(),i(3,"td"),r(4),I(5,"date"),n(),i(6,"td"),r(7),n(),i(8,"td")(9,"div",19)(10,"span",20),C(11,"img",21),n(),i(12,"div",22)(13,"span",23),r(14),n(),i(15,"span",24)(16,"span",25),r(17,"Code: "),n(),r(18),n()()()(),i(19,"td"),r(20),n(),i(21,"td")(22,"div",22)(23,"span",23),r(24),n(),i(25,"span",24)(26,"span",25),r(27,"Mobile: "),n(),r(28),n()()(),i(29,"td"),r(30),n(),i(31,"td"),r(32),I(33,"date"),n(),i(34,"td")(35,"span",26),r(36),n()(),i(37,"td"),r(38),I(39,"date"),n(),i(40,"td")(41,"span",26),r(42),n()(),i(43,"td"),r(44),n(),i(45,"td"),r(46),n(),i(47,"td"),r(48),n()()),o&2){let e=c.$implicit,t=c.index;a(2),m(t+1),a(2),m(M(5,18,e==null?null:e.created_at,"d MMM yyyy, hh:mm a","--")),a(3),m((e==null?null:e.created_name)||"--"),a(7),v(" ",(e==null||e.user_info==null?null:e.user_info.name)||"--",""),a(4),v(" ",(e==null||e.user_info==null?null:e.user_info.user_code)||"--",""),a(2),m((e==null||e.user_info==null?null:e.user_info.reporting_manager_name)||"--"),a(4),v(" ",(e==null||e.customer_details==null?null:e.customer_details.customer_name)||"--",""),a(4),v(" ",(e==null||e.customer_details==null?null:e.customer_details.mobile)||"--",""),a(2),m((e==null||e.customer_details==null?null:e.customer_details.customer_type_name)||"--"),a(2),m(M(33,22,e==null?null:e.visit_start,"hh:mm a","--")),a(3),F("matTooltip",e==null?null:e.start_location),a(),m((e==null?null:e.start_location)||"--"),a(2),m(M(39,26,e==null?null:e.visit_end,"hh:mm a","--")),a(3),F("matTooltip",e==null?null:e.end_location),a(),m((e==null?null:e.end_location)||"--"),a(2),m((e==null?null:e.avarage_meeting_time)||"--"),a(2),m((e==null?null:e.check_list)||"--"),a(2),m((e==null?null:e.remark)||"--")}}function _e(o,c){if(o&1){let e=h();b(0),i(1,"tr",10)(2,"td"),r(3,"\xA0"),n(),i(4,"td"),r(5,"\xA0"),n(),i(6,"td")(7,"div",11)(8,"mat-form-field",12)(9,"input",13),E("ngModelChange",function(l){p(e);let f=d();return L(f.filter.name,l)||(f.filter.name=l),_(l)}),g("keyup.enter",function(){p(e);let l=d();return _(l.getDayList())}),n(),u(10,me,3,0,"button",14),n()()(),i(11,"td")(12,"div",11)(13,"mat-form-field",12)(14,"input",13),E("ngModelChange",function(l){p(e);let f=d();return L(f.filter.reporting_manager_name,l)||(f.filter.reporting_manager_name=l),_(l)}),g("keyup.enter",function(){p(e);let l=d();return _(l.getDayList())}),n(),u(15,se,3,0,"button",14),n()()(),i(16,"td")(17,"div",11)(18,"mat-form-field",12)(19,"input",13),E("ngModelChange",function(l){p(e);let f=d();return L(f.filter.customer_name,l)||(f.filter.customer_name=l),_(l)}),g("keyup.enter",function(){p(e);let l=d();return _(l.getDayList())}),n(),u(20,de,3,0,"button",14),n()()(),i(21,"td"),r(22,"\xA0"),n(),i(23,"td"),r(24,"\xA0"),n(),i(25,"td"),r(26,"\xA0"),n(),i(27,"td"),r(28,"\xA0"),n(),i(29,"td"),r(30,"\xA0"),n(),i(31,"td"),r(32,"\xA0"),n(),i(33,"td"),r(34,"\xA0"),n(),i(35,"td"),r(36,"\xA0"),n(),i(37,"td"),r(38,"\xA0"),n()(),u(39,pe,49,30,"tr",15),k()}if(o&2){let e=d();a(9),y("ngModel",e.filter.name),a(),x(e.filter.name?10:-1),a(4),y("ngModel",e.filter.reporting_manager_name),a(),x(e.filter.reporting_manager_name?15:-1),a(4),y("ngModel",e.filter.customer_name),a(),x(e.filter.customer_name?20:-1),a(19),s("ngForOf",e.listingData)}}function ue(o,c){o&1&&(i(0,"td"),C(1,"app-skeleton"),n()),o&2&&(a(),D("h20 bg-skeleton"))}function fe(o,c){o&1&&(i(0,"tr",10),u(1,ue,2,2,"td",28),n()),o&2&&(a(),s("ngForOf",w(1,ae).constructor(11)))}function ge(o,c){o&1&&(b(0),u(1,fe,2,2,"tr",27),k()),o&2&&(a(),s("ngForOf",w(1,ae).constructor(8)))}function Ce(o,c){o&1&&(b(0),C(1,"app-data-not-found"),k())}var ie=class o{constructor(c,e,t){this.api=c;this.commonFunction=e;this.dateService=t}pageHeader=!0;_id;skLoading=!1;filter={};listingData=[];page=1;ngOnInit(){this.getDayList()}dateFilter(){this.getDayList()}onRefresh(){this.filter={},this.getDayList()}PageHeaders=[{label:"Created At"},{label:"Created By"},{label:"User Details"},{label:"Reporting Manager"},{label:"Company Name"},{label:"Customer Type"},{label:"Check In"},{label:"Start Location"},{label:"Check Out"},{label:"End Location"},{label:"Total Time Spend"},{label:"Check List"},{label:"Remark"}];getDayList(){this.skLoading=!0;let c={};c=this.filter,this.filter.date&&(c.filter={},c.filter.activity_date=this.filter.date,this.filter.date=null),c.page=this.page,c=this.commonFunction.removeBlankKeys(c),this.api.post(c,"activity/read").subscribe(e=>{e.statusCode===200&&(this.skLoading=!1,this.listingData=e.data,this.listingData?.map(t=>{t.created_at=t?.created_at?(0,T.default)(t.created_at).utc().format("d MMM yyyy hh:mm a"):"--",t.user_name=t?.user_info?.name||"--",t.user_code=t?.user_info?.user_code||"--",t.reporting_manager_name=t?.user_info?.reporting_manager_name||"--",t.company_name=t?.customer_details?.customer_name||"--",t.type=t?.customer_details?.customer_type_name||"--",t.check_in=t?.visit_start?(0,T.default)(t?.visit_start).utc().format("hh:mm a"):"--",t.start_location=t?.start_location||"Not Available",t.check_out=t?.visit_end?(0,T.default)(t?.visit_end).utc().format("hh:mm a"):"--",t.end_location=t?.end_location||"Not Available",t.total_time_spend=t?.avarage_meeting_time||"--",t.check_list=t?.check_list||"--",t.remark=t?.remark||"--"}))})}goToDetailPage(c){}static \u0275fac=function(e){return new(e||o)(S(W),S(ee),S(X))};static \u0275cmp=V({type:o,selectors:[["app-service-checkin-list"]],inputs:{pageHeader:"pageHeader",_id:"_id"},decls:11,vars:13,consts:[[3,"title","title1","activeitem",4,"ngIf"],[1,"row"],[1,"col-xl-12"],[1,"box"],[3,"onRefresh","pageTitle","listLength","btnShow","refreshLabel"],[1,"box-body","pt-1"],[1,"table-responsive","overflow-auto","table-bordered-default"],["tableClass","ti-custom-table ti-custom-table-head ti-custom-table-hover ti-head-primary whitespace-nowrap",3,"tableHead","showS_No","columns"],[4,"ngIf"],[3,"title","title1","activeitem"],[1,"border-b","!border-defaultborder","dark:!border-defaultborder/10"],[1,"table-search-filters"],[1,"table-input"],["matInput","","type","text","placeholder","Search...",3,"ngModelChange","keyup.enter","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear"],["class","product-list border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"product-list","border-b","!border-defaultborder","dark:!border-defaultborder/10"],[1,"!text-center"],[1,"flex","items-center","gap-2"],[1,"avatar","avatar-sm","avatar-rounded"],["src","./assets/images/faces/12.jpg","alt",""],[1,""],[1,"block","font-medium"],[1,"block"],[1,"text-textmuted","dark:text-textmuted/50","text-[11px]"],[1,"ellipsis",3,"matTooltip"],["class","border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"]],template:function(e,t){e&1&&(u(0,ce,1,4,"app-page-header",0),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-page-sub-header",4),g("onRefresh",function(){return t.onRefresh()}),n(),i(5,"div",5)(6,"div",6)(7,"spk-reusable-tables",7),u(8,_e,40,7,"ng-container",8)(9,ge,2,2,"ng-container",8),n(),u(10,Ce,2,0,"ng-container",8),n()()()()()),e&2&&(s("ngIf",t.pageHeader),a(4),D("pt-2"),s("pageTitle","Check In List")("listLength",t.listingData.length)("btnShow",!0)("refreshLabel","Refresh"),a(3),s("tableHead","border-b")("showS_No",!0)("columns",t.PageHeaders),a(),s("ngIf",!t.skLoading),a(),s("ngIf",t.skLoading),a(),s("ngIf",!(t.listingData!=null&&t.listingData.length)&&!t.skLoading))},dependencies:[Q,U,z,G,K,q,$,A,N,B,O,R,te,j,Z,ne,J,H,P,Y],encapsulation:2})};export{ie as a};
