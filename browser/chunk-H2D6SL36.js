import{a as si}from"./chunk-ULKM6HP7.js";import{a as li}from"./chunk-7A5QBBP4.js";import{a as ci}from"./chunk-SEMHZQHP.js";import{a as oi}from"./chunk-XHKVNZZW.js";import{a as ri}from"./chunk-SMSJGB3X.js";import{a as ii}from"./chunk-GH652WIY.js";import{a as ni}from"./chunk-DUAGJLTF.js";import{a as ai}from"./chunk-4MHSYCQR.js";import{a as Zt}from"./chunk-PLDO6SMJ.js";import{a as ei,b as ti}from"./chunk-4O2GAC75.js";import"./chunk-3V3M5YLS.js";import{a as $t}from"./chunk-HQFW3I2E.js";import{a as qt,b as Kt,c as Jt,d as Xt,e as Qt}from"./chunk-IQQ5YPLB.js";import{a as ge}from"./chunk-MEDDG3L2.js";import{a as Ut}from"./chunk-5QFGLOXN.js";import{a as Pe}from"./chunk-NUEZMFL3.js";import{a as kt,b as Re,c as Ae}from"./chunk-7FUDRD4B.js";import{a as Ht}from"./chunk-J4NDCUAB.js";import{a as Yt}from"./chunk-REKAXM5L.js";import"./chunk-PU6S26UW.js";import"./chunk-54KZ5YIV.js";import{c as Gt,d as zt,e as Wt}from"./chunk-4JVCC6N3.js";import{a as Bt}from"./chunk-PJTW4QXW.js";import{a as qe}from"./chunk-SQZ3YN6N.js";import{b as $e,c as ce}from"./chunk-CIBZCVJQ.js";import{a as Ue}from"./chunk-OTFCGVEU.js";import{a as We}from"./chunk-HPLI5COI.js";import"./chunk-DUVWFXSE.js";import{a as Dt}from"./chunk-CNF4GSI7.js";import{a as j}from"./chunk-OEHD5D2Y.js";import{a as jt}from"./chunk-GLWQGYBC.js";import{a as oe}from"./chunk-DC4QM32I.js";import{B as se,C as Vt,E as Nt,F as le,b as wt,c as R,f as Ft,q as ze,r as Ot,s as H,t as Pt,u as Y,v as Rt,w as At}from"./chunk-VHE3PQ3O.js";import{Aa as Be,B as ae,C as ht,Ea as je,F as vt,G as Le,Ga as He,H as xt,M as Ct,Oa as Tt,P as yt,Pa as Et,Qa as Ye,Ra as It,Ta as Lt,Ua as Mt,V as St,W as N,X as Me,Z as P,Za as Ge,aa as Fe,ca as Oe,hb as B,jb as re,o as S,va as Ve,w as bt,wa as Ne,z as Ie}from"./chunk-GYDYF5F3.js";import{K as gt,M as ft,e as ke,f as O,g as L,k as ut,n as Te,o as Ee,q as _t,t as I}from"./chunk-PD5VTTIY.js";import{$c as ne,Aa as _,Ba as g,Bc as ye,Ca as X,Da as Q,Fc as ot,Gc as rt,Hb as E,Hc as st,Lc as lt,Mc as r,Nc as f,Ob as u,Oc as D,Pc as Se,Rc as ct,Sc as dt,Tc as pt,Uc as ee,Vc as te,Wc as ie,Xc as we,Yc as w,Zb as Ce,Zc as k,_b as l,_c as U,ac as at,ad as _e,bc as y,cc as V,dc as ue,ed as T,fc as Z,fd as F,gc as G,gd as A,ic as z,jc as W,jd as mt,kb as me,kc as i,lb as xe,lc as n,mc as p,nc as v,oc as x,qc as h,qd as De,rb as o,sb as C,wc as b,yc as d,za as ve}from"./chunk-2NSPOFEK.js";import"./chunk-EU2KAMEK.js";import{a as pe}from"./chunk-66YHNWRR.js";var yi=(t,a,e)=>({name:t,label:a,icon:e}),Si=t=>[t],wi=()=>[];function Di(t,a){if(t&1){let e=h();i(0,"app-listing-tab",4),b("tabChange",function(c){_(e);let m=d(2);return g(m.onTabChange(c.tab))}),n()}if(t&2){let e=a.$implicit,s=d(2);l("tabs",k(7,Si,ne(3,yi,e.name,e.label,e.icon)))("activeTab",s.activeTab)("countShow",!1)}}function ki(t,a){if(t&1&&(i(0,"nav",2),u(1,Di,1,9,"app-listing-tab",3),n()),t&2){let e=d();o(),l("ngForOf",e.mainTabs)}}function Ti(t,a){if(t&1&&(i(0,"tr")(1,"td",9),r(2),n(),i(3,"td",10),r(4),T(5,"date"),n(),i(6,"td",11),r(7),n(),i(8,"td",12)(9,"span",13),r(10),n(),r(11),n(),i(12,"td",12)(13,"span",14),r(14),n(),r(15),n(),i(16,"td",15)(17,"span",16),r(18),n()()()),t&2){let e=a.$implicit,s=a.index,c=d(3);o(2),f((c.pagination.cur_page-1)*c.pagination.limit+s+1),o(2),f(e.created_at?A(5,8,e.created_at,"dd MMM yyyy hh:mm a"):"---"),o(3),f(e.creation_type),o(3),D("",e.transaction_type=="credit"?"+"+e.points+"PT":""," "),o(),D(" ",e.transaction_type=="credit"?e.remark:"---"," "),o(3),D(" ",e.transaction_type=="debit"?"-"+e.points+"PT":"---"," PT "),o(),D(" ",e.transaction_type=="debit"?e.remark:""," "),o(3),D("",e.balance," PT")}}function Ei(t,a){if(t&1&&(v(0),u(1,Ti,19,11,"tr",8),x()),t&2){let e=d(2);o(),l("ngForOf",e.ledger)}}function Ii(t,a){t&1&&(i(0,"tr")(1,"td",9),p(2,"app-skeleton"),n(),i(3,"td",10),p(4,"app-skeleton"),n(),i(5,"td",11),p(6,"app-skeleton"),n(),i(7,"td",12),p(8,"app-skeleton"),n(),i(9,"td",12),p(10,"app-skeleton"),n(),i(11,"td",15),p(12,"app-skeleton"),n()()),t&2&&(o(2),y("h20 bg-skeleton"),o(2),y("h20 bg-skeleton"),o(2),y("h20 bg-skeleton"),o(2),y("h20 bg-skeleton"),o(2),y("h20 bg-skeleton"),o(2),y("h20 bg-skeleton"))}function Li(t,a){t&1&&(v(0),u(1,Ii,13,12,"tr",8),x()),t&2&&(o(),l("ngForOf",w(1,wi).constructor(10)))}function Mi(t,a){t&1&&(v(0),p(1,"app-data-not-found"),x())}function Fi(t,a){if(t&1){let e=h();v(0),i(1,"app-showcode-card")(2,"div",5)(3,"spk-reusable-tables",6),u(4,Ei,2,1,"ng-container",1)(5,Li,2,2,"ng-container",1),n()(),u(6,Mi,2,0,"ng-container",1),i(7,"app-pagination-footer",7),b("preButtonClick",function(){_(e);let c=d();return g(c.changeToPagination("Previous"))})("nextButtonClick",function(){_(e);let c=d();return g(c.changeToPagination("Next"))})("pageChange",function(c){_(e);let m=d();return g(m.changeToPage(c))}),n()(),x()}if(t&2){let e=d();o(3),l("columns",e.getColumns())("showCheckbox",!1),o(),l("ngIf",!e.skLoading),o(),l("ngIf",e.skLoading),o(),l("ngIf",!e.ledger.length&&!e.skLoading),o(),l("currentPage",e.pagination.cur_page)("totalPage",e.pagination.total_pages?e.pagination.total_pages:0)("pageLimit",e.pagination.limit)("listLength",e.ledger.length)("preBtn",!e.pagination.prev)("nextBtn",!e.pagination.next)}}function Oi(t,a){if(t&1&&(v(0),p(1,"app-qr-list",17),x()),t&2){let e=d();o(),l("_id",e.basicDetail._id)("detail_page_active",!0)("active_tab","scan_history")}}function Pi(t,a){if(t&1&&(v(0),p(1,"app-redeem-list",18),x()),t&2){let e=d();o(),l("_id",e.basicDetail._id)("detail_page_active",!0)("redeem_type","Gift")}}function Ri(t,a){if(t&1&&(v(0),p(1,"app-redeem-list",18),x()),t&2){let e=d();o(),l("_id",e.basicDetail._id)("detail_page_active",!0)("redeem_type","Cash")}}function Ai(t,a){if(t&1&&(v(0),p(1,"app-purchase-list",19),x()),t&2){let e=d();o(),l("_id",e.basicDetail._id)("customerDetail",e.basicDetail)("pageHeader",!1)}}var Ke=class t{constructor(a,e,s){this.api=a;this.date=e;this.authService=s}basicDetail;activeTab="Ledger";ledger=[];pagination={};skLoading=!1;data_hide=!0;mainTabs=[];orgData={};ngOnInit(){}ngOnChanges(){this.orgData=this.authService.getOrg(),this.mainTabs=this.getTabColumns(),this.basicDetail&&Object.keys(this.basicDetail).length>0&&this.getLedger()}onTabChange(a){this.activeTab=a,a==="Ledger"&&this.getLedger()}getColumns(){return[{label:"S.no.",field:"S.no."},{label:"Date",field:"Date"},{label:"Transaction Type	",field:"Transaction Type	"},{label:"Credit	",field:"Credit	",table_class:"text-right"},{label:"Debit	",field:"Debit	",table_class:"text-right"},{label:"Balance	",field:"Balance	",table_class:"text-right"}]}getTabColumns(){return[{name:"Ledger",label:"Ledger",icon:"ri-file-text-fill"},...this.orgData?.purchase_stock_base?[{name:"Scan History",label:"Scan History",icon:"ri-qr-code-fill"}]:[{name:"Purchase Req",label:"Purchase Req",icon:"ri-file-text-fill"}],{name:"Gift Redeem",label:"Gift Redeem",icon:"ri-gift-line"},{name:"Cash Redeem",label:"Bank Transfer",icon:"ri-wallet-line"}]}getLedger(){this.skLoading=!0,this.api.post({customer_id:this.basicDetail._id,page:this.pagination.cur_page??1},"ledger/read").subscribe(a=>{a.statusCode===200?(this.ledger=a.data,this.pagination=a.pagination,this.skLoading=!1):this.skLoading=!1})}changeToPagination(a){a=="Previous"?this.pagination.prev&&this.pagination.cur_page>1&&(this.pagination.cur_page--,this.getLedger()):this.pagination.next&&(this.pagination.cur_page++,this.getLedger())}changeToPage(a){this.pagination.cur_page=a,this.getLedger()}static \u0275fac=function(e){return new(e||t)(C(P),C(re),C(Fe))};static \u0275cmp=E({type:t,selectors:[["app-wallet-history"]],inputs:{basicDetail:"basicDetail"},features:[ve],decls:6,vars:6,consts:[["class","sm:flex sm:space-x-2 sm:rtl:space-x-reverse gap-1","aria-label","Tabs","role","tablist",4,"ngIf"],[4,"ngIf"],["aria-label","Tabs","role","tablist",1,"sm:flex","sm:space-x-2","sm:rtl:space-x-reverse","gap-1"],[3,"tabs","activeTab","countShow","tabChange",4,"ngFor","ngForOf"],[3,"tabChange","tabs","activeTab","countShow"],[1,"table-responsive","overflow-auto","table-bordered-default"],["tableClass","ti-custom-table ti-custom-table-head ti-custom-table-hover ti-head-primary whitespace-nowrap",3,"columns","showCheckbox"],[3,"preButtonClick","nextButtonClick","pageChange","currentPage","totalPage","pageLimit","listLength","preBtn","nextBtn"],[4,"ngFor","ngForOf"],[1,"w50"],[1,"w120"],[1,"w150"],[1,"text-right"],[1,"text-success","font-bold","block"],[1,"text-danger","font-bold","block"],[1,"w120","text-right"],[1,"font-bold","block"],[3,"_id","detail_page_active","active_tab"],[3,"_id","detail_page_active","redeem_type"],[3,"_id","customerDetail","pageHeader"]],template:function(e,s){e&1&&u(0,ki,2,1,"nav",0)(1,Fi,8,11,"ng-container",1)(2,Oi,2,3,"ng-container",1)(3,Pi,2,3,"ng-container",1)(4,Ri,2,3,"ng-container",1)(5,Ai,2,3,"ng-container",1),e&2&&(l("ngIf",s.data_hide),o(),l("ngIf",s.activeTab=="Ledger"),o(),l("ngIf",s.activeTab=="Scan History"),o(),l("ngIf",s.activeTab=="Gift Redeem"),o(),l("ngIf",s.activeTab=="Cash Redeem"),o(),l("ngIf",s.activeTab=="Purchase Req"))},dependencies:[Y,I,O,L,Ee,se,ze,j,R,H,$t,ai,Zt],encapsulation:2})};function Vi(t,a){if(t&1&&(i(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),r(4),n(),i(5,"div",13),r(6,"Increased By"),n(),i(7,"span",14),p(8,"i",15),r(9),n()(),i(10,"span",16),p(11,"i",17),n()()()),t&2){let e=d();o(4),f(e.increasedAmount),o(5),f(e.increasedPercentage)}}var fe=class t{title="";footer=!0;subtitle="";mainValue="";increasedAmount="";increasedPercentage="";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=E({type:t,selectors:[["app-spk-widget-budget-card"]],inputs:{title:"title",footer:"footer",subtitle:"subtitle",mainValue:"mainValue",increasedAmount:"increasedAmount",increasedPercentage:"increasedPercentage"},decls:14,vars:4,consts:[[1,"box","overflow-hidden"],[1,"widget-card"],[1,"flex","items-start","text-white","flex-wrap","px-2"],[1,"grow","text-center"],[1,"mt-2","items-center","justify-conent-between","text-[21px]","mb-1"],[1,"min-w-fit-content","text-[10px]","ms-1"],[1,"flex","items-center","justify-conent-between"],[1,"grow","text-[1.875rem]","font-semibold","sale-font","counter"],["class","box-body",4,"ngIf"],[1,"box-body"],[1,"flex","items-center","gap-2"],[1,"grow"],[1,"text-[21px]","font-medium","mb-1"],[1,"grow","text-[13px]","mb-2"],[1,"text-xs","text-success"],[1,"ti","ti-arrow-narrow-up"],[1,"avatar","rounded-full","bg-primary/10","!text-primary","ms-auto"],[1,"bx","bx-up-arrow-alt","text-xl"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span"),r(6),n(),i(7,"span",5),r(8),n()(),i(9,"div",6)(10,"span",7),r(11),p(12,"span"),n()()()()(),u(13,Vi,12,2,"div",8),n()),e&2&&(o(6),f(s.title),o(2),f(s.subtitle),o(3),f(s.mainValue),o(2),l("ngIf",s.footer))},dependencies:[I,L],encapsulation:2})};var Ni=t=>({width:t});function Bi(t,a){if(t&1&&(i(0,"div",2),p(1,"spk-sales-cards",119),n()),t&2){let e=a.$implicit;o(),l("card",e)}}function ji(t,a){if(t&1&&(i(0,"li",71)(1,"div",20)(2,"div",120)(3,"p",121),r(4),n(),i(5,"h6",112),r(6),i(7,"span"),r(8),p(9,"i"),n()()(),i(10,"div",122)(11,"div",123),p(12,"spk-apexcharts",10),n()()()()),t&2){let e=a.$implicit;o(4),f(e.expenses),o(2),f(e.price),o(),V("text-xs text-",e.bg," ms-2 font-normal inline-block"),o(),f(e.change),o(),V("ti ti-trending-",e.arrow," mx-1"),o(3),l("chartOptions",e.chartOptions)}}function Hi(t,a){if(t&1&&(i(0,"li")(1,"div",124)(2,"div",125)(3,"span"),p(4,"i"),n(),i(5,"div",126)(6,"p",112),r(7),n(),i(8,"p",127),r(9),n()()(),i(10,"h6",112),r(11),n()(),i(12,"div",128),p(13,"div",129),n()()),t&2){let e=a.$implicit;V("border-0 mb-5 p-0 ti-list-group-item ",e.liClass,""),o(3),ue("avatar avatar-rounded avatar-md bg-",e.iconColor,"/10 !text-",e.iconColor,""),o(),y("fa "+e.icon+" text-lg"),o(3),f(e.title),o(2),f(e.increase),o(2),D("\u20B9",e.value,""),o(),Ce("aria-valuenow",e.progress),o(),V("progress-bar progress-bar-striped progress-bar-animated bg-",e.iconColor,""),l("ngStyle",k(17,Ni,e.progress+"%"))}}var Xe=class t{constructor(a){this.cdr=a}inlineDatePicker=!1;weekNumbers;flatpickrOptions={inline:!0};orderColumns=[{header:"Customer",field:"customer"},{header:"Product",field:"product"},{header:"Quantity",field:"quantity"},{header:"Amount",field:"price"},{header:"Status",field:"status"},{header:"Date Ordered",field:"date"},{header:"Actions",field:"actions"}];rangeValue={from:new Date,to:new Date().fp_incr(10)};ngOnInit(){this.cdr.detectChanges()}ngOnDestroy(){}chartOptions={series:[{name:"Order",type:"column",data:[140,120,190,364,140,230,166,340,260,260,120,320]},{name:"Invoice",type:"area",data:[180,620,476,220,520,680,435,515,638,454,525,230]},{name:"Payment",type:"line",data:[200,330,110,130,380,420,580,335,375,638,454,480]}],chart:{redrawOnWindowResize:!0,height:318,type:"bar",toolbar:{show:!1},dropShadow:{enabled:!0,enabledOnSeries:void 0,top:7,left:0,blur:1,color:["transparent","transparent","rgb(227, 84, 212)"],opacity:.05}},plotOptions:{bar:{horizontal:!1,columnWidth:"18%",borderRadius:2}},grid:{borderColor:"#f1f1f1",strokeDashArray:3},dataLabels:{enabled:!1},stroke:{width:[0,2,2],curve:"smooth"},legend:{show:!0,fontSize:"12px",position:"bottom",horizontalAlign:"center",fontWeight:500,height:40,offsetX:0,offsetY:10,labels:{colors:"#9ba5b7"},markers:{width:7,height:7,shape:"circle",size:3.5,strokeWidth:0,strokeColor:"#fff",fillColors:void 0,radius:12,offsetX:0,offsetY:0}},colors:["rgba(var(--primary-rgb))","rgba(119, 119, 142, 0.05)","rgb(227, 84, 212)"],yaxis:{title:{style:{color:"#adb5be",fontSize:"14px",fontFamily:"poppins, sans-serif",fontWeight:600,cssClass:"apexcharts-yaxis-label"}},labels:{formatter:function(a){return a.toFixed(0)+""},show:!0,style:{colors:"#8c9097",fontSize:"11px",fontWeight:600,cssClass:"apexcharts-xaxis-label"}}},xaxis:{type:"month",categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Agu","Sep","Oct","Nov","Dec"],axisBorder:{show:!0,color:"rgba(119, 119, 142, 0.05)",offsetX:0,offsetY:0},axisTicks:{show:!0,borderType:"solid",color:"rgba(119, 119, 142, 0.05)",width:6,offsetX:0,offsetY:0},labels:{rotate:-90,style:{colors:"#8c9097",fontSize:"11px",fontWeight:600,cssClass:"apexcharts-xaxis-label"}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(a){return typeof a<"u"?a.toFixed(0)+"%":a}}},fill:{colors:void 0,opacity:1,type:["solid","solid"],gradient:{shade:"light",type:"horizontal",shadeIntensity:.5,gradientToColors:["#fdc530"],inverseColors:!0,opacityFrom:.35,opacityTo:.05,stops:[0,50,100],colorStops:["#fdc530"]}}};chartOptions1={series:[1754,634,878,470],labels:["In-review","Inprocess","Dispatched","Rejected"],chart:{height:240,type:"donut"},dataLabels:{enabled:!1},legend:{show:!0,position:"bottom",horizontalAlign:"center",markers:{size:4,shape:void 0,border:"none",strokeWidth:0},offsetY:20},stroke:{show:!0,curve:"smooth",lineCap:"round",colors:"#fff",width:0,dashArray:0},plotOptions:{pie:{startAngle:-90,endAngle:90,offsetY:10,expandOnClick:!1,donut:{size:"80%",background:"transparent",labels:{show:!0,name:{show:!0,fontSize:"20px",color:"#495057",offsetY:-25},value:{show:!0,fontSize:"15px",color:void 0,offsetY:-20},total:{show:!0,showAlways:!0,label:"Total",fontSize:"22px",fontWeight:600,color:"#495057"}}}}},grid:{padding:{bottom:-100}},colors:["rgba(var(--primary-rgb))","rgba(227, 84, 212, 1)","rgba(255, 93, 159, 1)","rgba(255, 142, 111, 1)"]};chartOptions2={series:[{name:"This Year",type:"bar",data:[55,25,25,165,75,64,70,55,25,25,165,75]},{name:"Last Year",type:"bar",data:[71,97,72,52,73,51,71,71,97,72,52,73]}],chart:{width:"100%",height:230,type:"bar",stacked:{enabled:!0},toolbar:{show:!1},zoom:{enabled:!1}},grid:{borderColor:"#f1f1f1",strokeDashArray:3},legend:{show:!0,position:"bottom",horizontalAlign:"center",markers:{shape:"circle",size:4,strokeWidth:0}},stroke:{curve:"smooth",width:[0]},dataLabels:{enabled:!1},plotOptions:{bar:{columnWidth:"30%",borderRadius:[3],borderRadiusWhenStacked:"all"}},colors:["rgba(var(--primary-rgb))","rgba(227, 84, 212, 1)","rgba(255, 142, 111, 1)"],labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tooltip:{shared:!0,intersect:!1}};chartOptions3={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,30,10,35,26,31,14,22,40,12]}],yaxis:{min:0},colors:["rgb(126, 103, 221)"]};chartOptions4={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,20,15,25,15,25,6,25,32,15]}],yaxis:{min:0},colors:["rgb(227, 84, 212)"]};chartOptions5={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,10,30,12,16,25,4,35,26,15]}],colors:["rgb(255, 93, 159)"],yaxis:{min:0}};chartOptions6={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,12,19,26,10,18,8,17,35,14]}],colors:["rgb(255, 142, 111)"],yaxis:{min:0}};chartOptions8={series:[{name:"Last Year",data:[35,36,22,44,48,37,36,26,27,33,32,36]},{name:"This Year",data:[55,53,46,40,45,38,46,37,22,34,40,44]}],chart:{type:"line",height:170,stacked:!0,toolbar:{show:!1},sparkline:{enabled:!1},dropShadow:{enabled:!0,enabledOnSeries:void 0,top:6,left:1,blur:4,color:"#000",opacity:.12},zoom:{enabled:!1}},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:2,right:2,bottom:2,left:2},borderColor:"#f1f1f1",strokeDashArray:3},markers:{size:4,hover:{size:3}},colors:["rgba(227, 84, 212, 1)","rgba(var(--primary-rgb))"],stroke:{curve:"straight",width:2,dashArray:2},legend:{show:!0,position:"bottom",fontSize:"10px",fontFamily:"Poppins",markers:{size:4,shape:void 0,border:"none",strokeWidth:0}},yaxis:{axisBorder:{show:!1,color:"rgba(119, 119, 142, 0.05)",offsetX:0,offsetY:0},axisTicks:{show:!0,borderType:"solid",color:"rgba(119, 119, 142, 0.05)",width:6,offsetX:0,offsetY:0},title:{style:{color:"#adb5be",fontSize:"14px",fontFamily:"poppins, sans-serif",fontWeight:600,cssClass:"apexcharts-yaxis-label"}},labels:{show:!1,formatter:function(a){return a.toFixed(0)+""}}},xaxis:{type:"month",categories:["1","2","3","4","5","6","7","8","9","10","11","12"],axisBorder:{show:!0,color:"rgba(119, 119, 142, 0.05)",offsetX:0,offsetY:0},title:{style:{color:"#adb5be",fontSize:"5px",fontFamily:"poppins, sans-serif",fontWeight:600,cssClass:"apexcharts-yaxis-label"}}}};chartOptions9={series:[85,75],chart:{height:190,type:"radialBar"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:360,hollow:{margin:5,size:"45%",background:"#000000",image:void 0},dataLabels:{name:{show:!0,fontSize:"20px",fontFamily:"Poppins, sans-serif",offsetY:0},value:{show:!0,fontSize:"22px",color:void 0,offsetY:12,fontWeight:600,fontFamily:"Poppins, sans-serif",formatter:function(a){return a+"%"}},total:{show:!0,showAlways:!0,label:"Balance",fontSize:"14px",fontWeight:400,formatter:function(){return 254}}}}},stroke:{lineCap:"round"},grid:{padding:{bottom:-10,top:-10}},colors:["rgba(var(--primary-rgb))","rgba(227, 84, 212, 0.7)"],labels:["Credit Limit","Outstanding"]};handleToggleSelectAll(a){this.allTasksChecked=a}chartOptions7={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,12,19,17,35,14,26,10,18,8]}],colors:["rgb(158, 92, 247)"],yaxis:{min:0}};chartOptions10={series:[1754,1234,878],labels:["Active","Inactive","Lead"],chart:{height:140,type:"donut",zoom:{enabled:!1}},dataLabels:{enabled:!1},legend:{show:!1},stroke:{show:!0,curve:"smooth",lineCap:"round",colors:"#fff",width:0,dashArray:0},plotOptions:{pie:{expandOnClick:!1,donut:{size:"80%",background:"transparent",labels:{show:!0,name:{show:!0,fontSize:"20px",color:"#495057",offsetY:-4},value:{show:!0,fontSize:"18px",color:void 0,offsetY:8,formatter:function(a){return a+"%"}},total:{show:!0,showAlways:!0,label:"Total",fontSize:"22px",fontWeight:600,color:"#495057"}}}}},colors:["rgba(var(--primary-rgb))","rgb(227, 84, 212)","rgba(14, 165, 232, 1)"]};cardData=[{id:1,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Total Products",value:"854/1000",graph:"increased",color:"success",percentage:"2.56%",percentageIcon:"ti ti-arrow-narrow-up fs-16",bg:"primary",icon:"ti ti-shopping-cart",bar:!0},{id:2,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Total Vist",value:"500",graph:"increased",color:"success",percentage:"0.34%",percentageIcon:"ti ti-arrow-narrow-up fs-16",bg:"primarytint1color",icon:"ti ti-users",bar:!1},{id:3,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Order",value:"100",graph:"increased",color:"success",percentage:"7.66%",percentageIcon:"ti ti-arrow-narrow-up fs-16",bg:"primarytint2color",icon:"ti ti-currency-dollar",bar:!1},{id:4,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Outstanding",value:"150",graph:"Last Payment",color:"danger",percentage:"30 day's",percentageIcon:"ti ti-arrow-narrow-down fs-16",bg:"primarytint3color",icon:"ti ti-chart-bar",bar:!1},{id:4,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Sale Target",value:"47%",graph:"Decreased",color:"danger",percentage:"0.74%",percentageIcon:"ti ti-arrow-narrow-down fs-16",bg:"primarytint3color",icon:"ti ti-chart-bar",bar:!0},{id:4,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Active Dealer",value:"600",graph:"Decreased",color:"danger",percentage:"0.74%",percentageIcon:"ti ti-arrow-narrow-down fs-16",bg:"primarytint3color",icon:"ti ti-chart-bar",bar:!0}];allTasksChecked;toggleSelectAll(a){this.allTasksChecked=a.target.checked}statistics=[{expenses:"Credit Limit",price:"\u20B9134,032",bg:"success",arrow:"up",chartOptions:this.chartOptions3,change:"30 Day's"},{expenses:"Outstanding",price:"\u20B974,354",bg:"danger",arrow:"down",chartOptions:this.chartOptions4,change:"3.84%"},{expenses:"Overdue Balance",price:"\u20B970,000",bg:"success",arrow:"up",chartOptions:this.chartOptions5,change:"11"},{expenses:"Last Payment",price:"\u20B97,893",bg:"success",arrow:"up",chartOptions:this.chartOptions6,change:"3 Day's Ago"},{expenses:"Last Invoice",price:"\u20B990,893",bg:"success",arrow:"up",chartOptions:this.chartOptions6,change:"10 Day's Ago"}];metrics=[{title:"Jan-Mar 2025",value:"12,345/25,000",increase:"10% Achievement",progress:80,icon:"fa-inr",iconColor:"primary",liClass:"mb-4"},{title:"Apr-Jun 2025",value:"9,345/25,000",increase:"12% Achievement",progress:75,icon:"fa-inr",iconColor:"secondary",liClass:"mb-4"},{title:"Jul-Sep 2025",value:"9,345/50,0000",increase:"11% Achievement",progress:78,icon:"fa-inr",iconColor:"primarytint1color",liClass:"mb-4"},{title:"Oct-Dec 2025",value:"11,345/50,000",increase:"11% Achievement",progress:68,icon:"fa-inr",iconColor:"primarytint2color",liClass:"mb-2"}];products=[{image:"./assets/images/ecommerce/jpg/4.jpg",name:"SwiftBuds",price:"$39.99",status:"Success",badgeClass:"bg-primary"},{image:"./assets/images/ecommerce/jpg/6.jpg",name:"CozyCloud Pillow",price:"$19.95",status:"Pending",badgeClass:"bg-primarytint1color"},{image:"./assets/images/ecommerce/jpg/3.jpg",name:"AquaGrip Bottle",price:"$9.99",status:"Failed",badgeClass:"bg-primarytint2color"},{image:"./assets/images/ecommerce/jpg/1.jpg",name:"GlowLite Lamp",price:"$24.99",status:"Success",badgeClass:"bg-primarytint3color"},{image:"./assets/images/ecommerce/jpg/2.jpg",name:"Bitvitamin",price:"$26.45",status:"Success",badgeClass:"bg-secondary"},{image:"./assets/images/ecommerce/jpg/5.jpg",name:"FitTrack",price:"$49.95",status:"Success",badgeClass:"bg-warning"}];companiesColumn=[{header:"Product"},{header:"Price"},{header:"Status"}];static \u0275fac=function(e){return new(e||t)(C(De))};static \u0275cmp=E({type:t,selectors:[["app-primary-dashboard"]],features:[we([Oe,fe])],decls:306,vars:23,consts:[[1,"grid","grid-cols-12","gap-x-6"],[1,"xl:col-span-12","col-span-12"],[1,"xxl:col-span-2","xl:col-span-3","col-span-12"],[1,"xl:col-span-8","col-span-12"],[1,"xxl:col-span-8","xl:col-span-6","col-span-12"],[1,"box"],[1,"box-header","justify-between"],[1,"box-title"],[1,"box-body"],["id","sales-overview"],[3,"chartOptions"],[1,"xxl:col-span-4","xl:col-span-6","col-span-12"],[1,"box","overflow-hidden"],[1,"box-header","pb-0","justify-between"],[1,"box-body","py-4","px-3"],[1,"flex","gap-4","mb-3"],[1,"avatar","avatar-md","bg-primary/10","!w-[3rem]"],[1,"ti","ti-trending-up","text-[1.25rem]","text-primary"],[1,"flex-auto","flex","items-start","justify-between","w-full","flex-wrap"],[1,"text-[11px]","mb-1","block","font-medium"],[1,"flex","items-center","justify-between"],[1,"mb-0","flex","items-center"],[1,"text-success","text-xs","ms-2","inline-flex","items-center"],[1,"ti","ti-trending-up","align-middle","me-1"],["id","orders",1,"my-2"],[1,"xl:col-span-4","col-span-12"],[1,"xl:col-span12","col-span-12"],[1,"box-header","justify-between","pb-1"],[1,"box-body","p-0"],[1,"p-4","pb-0"],[1,"progress-stacked","progress-sm","mb-3","flex","gap-1"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","w-[25%]"],["role","progressbar","aria-valuenow","15","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primarytint1color","w-[15%]","!rounded-none"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primarytint2color","!rounded-none","w-[15%]"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primarytint3color","!rounded-none","w-[20%]"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","!rounded-none","!rounded-tr-md","!rounded-br-md","bg-secondary","w-[25%]"],[1,"flex","items-center","justify-between","mb-2"],[1,"h6","mb-0"],[1,"text-success","me-2","text-[11px]"],[1,"ti","ti-arrow-narrow-up"],[1,"table-responsive","top-categories"],[1,"table","text-nowrap"],[1,"border-b","border-defaultborder","dark:border-defaultborder/10"],[1,"font-medium","top-category-name","one"],[1,"font-medium"],[1,"text-center"],[1,"text-textmuted","dark:text-textmuted/50","text-xs"],[1,"!text-end"],[1,"badge","bg-success","me-1"],[1,"ti","ti-trending-up","ms-1"],[1,"font-medium","top-category-name","two"],[1,"badge","bg-warning","me-1"],[1,"font-medium","top-category-name","three"],[1,"badge","bg-secondary","me-1"],[1,"font-medium","top-category-name","four"],[1,"badge","bg-primarytint1color","me-1"],[1,"ti","ti-trending-down","ms-1"],[1,"border-b-0"],[1,"font-medium","top-category-name","five"],[1,"text-center","border-b-0"],[1,"!text-end","border-b-0"],[1,"badge","bg-primary","me-1"],[1,"xxl:col-span-5","xl:col-span-5","col-span-12"],[1,"flex","flex-wrap","gap-2","justify-between","flex-auto"],[1,"py-2","px-4","h60","rounded-sm","border","border-defaultborder","dark:border-defaultborder/10","border-dashed","bg-light"],[1,"font-medium","text-[14px]","mb-0"],[1,"text-success","font-medium","text-[14px]","mb-0"],[1,"text-danger","font-medium","text-[14px]","mb-0"],["id","sales-statistics"],[1,"xxl:col-span-4","xl:col-span-4","col-span-12"],[1,"ti-list-group","activity-feed"],[1,"ti-list-group-item","!m-0"],[1,"xxl:col-span-3","xl:col-span-3","col-span-12"],[1,"box-header","justify-between","pb-0"],[1,"box-body","pb-1"],[1,"flex","items-center","p-4","bg-light","rounded-sm"],[1,"mb-1","text-[13px]"],[1,"text-textmuted","dark:text-textmuted/50","text-xs","mb-2"],[1,"text-success"],[1,"ti","ti-arrow-narrow-up","text-[16px]"],[1,"mb-0"],[1,"ms-auto"],[1,"p-2","bg-primary/10","rounded-full"],[1,"avatar-md","avatar","bg-primary","svg-white","avatar-rounded","shadow-sm","mb-0"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V156.69l50.34-50.35a8,8,0,0,1,11.32,0L128,132.69,180.69,80H160a8,8,0,0,1,0-16h40a8,8,0,0,1,8,8v40a8,8,0,0,1-16,0V91.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31l-56,56V200H224A8,8,0,0,1,232,208Z"],["id","sales-growth",1,"mt-1"],["id","balanceAnalysis",1,""],[3,"series","chart","legend","xaxis","colors","markers","stroke","tooltip","fill","labels","dataLabels","grid","plotOptions","yaxis"],[1,"border-t","border-dashed","p-4","border-defaultborder","dark:border-defaultborder/10"],[1,"flex","items-center","gap-4","mb-3"],[1,"avatar","avatar-md","bg-primary"],[1,"ri-wallet-3-line","text-xl"],[1,"font-medium","text-textmuted","dark:text-textmuted/50","opacity-70"],[1,"text-success","font-medium"],[1,"ri-arrow-up-s-fill","me-1","align-middle"],[1,"flex","items-center","justify-center","gap-4","pt-1","mb-1"],[1,"avatar","avatar-md","bg-primarytint1color"],[1,"ri-arrow-up-down-line","text-xl"],[1,"text-danger","font-medium"],[1,"ri-arrow-down-s-fill","me-1","align-middle"],[1,"list-none","mb-0"],[3,"class"],[1,"box","overflow-hidden","mb-5"],[1,"grid","grid-cols-12","p-4","pt-2"],[1,"xl:col-span-6","col-span-12","px-0"],["id","follow-on-device"],[1,"xl:col-span-6","col-span-12"],[1,"ti-list-group","list-group-flush","border","border-t","mt-3"],[1,"ti-list-group-item"],[1,"flex","items-start","justify-between"],[1,"session-type","leading-none","mobile"],[1,"font-medium","mb-0"],[1,"leading-none","text-end"],[1,"block","text-xs","text-textmuted","dark:text-textmuted/50","mb-1"],[1,"block","font-semibold","mb-0"],[1,"session-type","leading-none","tablet"],[1,"session-type","desktop","leading-none"],[3,"title","subtitle","mainValue","footer"],[3,"card"],[1,"leading-none"],[1,"mb-2","text-[13px]","text-textmuted","dark:text-textmuted/50"],[1,"text-end"],["id","line-graph1"],[1,"flex","justify-between","items-top"],[1,"flex"],[1,"flex","flex-col","ms-2"],[1,"text-xs","text-textmuted","dark:text-textmuted/50","mb-0"],["role","progressbar","aria-label","Basic example","aria-valuenow","80","aria-valuemin","0","aria-valuemax","100",1,"progress","progress-xs","mt-2","mb-0"],[3,"ngStyle"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",0),z(3,Bi,2,1,"div",2,G),n()()(),i(5,"div",0)(6,"div",3)(7,"div",0)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7),r(12," Sales Overview "),n()(),i(13,"div",8)(14,"div",9),p(15,"spk-apexcharts",10),n()()()(),i(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",7),r(20," Order Statistics "),n()(),i(21,"div",14)(22,"div",15)(23,"div",16),p(24,"i",17),n(),i(25,"div",18)(26,"div")(27,"span",19),r(28,"TOTAL ORDERS"),n(),i(29,"div",20)(30,"h4",21),r(31,"3,736"),i(32,"span",22),p(33,"i",23),r(34,"0.57%"),n()()()()()(),i(35,"div",24),p(36,"spk-apexcharts",10),n()()()()()(),i(37,"div",25)(38,"div",0)(39,"div",26)(40,"div",12)(41,"div",27)(42,"div",7),r(43," Top Selling Categories "),n()(),i(44,"div",28)(45,"div",29)(46,"div",30),p(47,"div",31)(48,"div",32)(49,"div",33)(50,"div",34)(51,"div",35),n(),i(52,"div",36)(53,"div"),r(54,"Overall Sales"),n(),i(55,"div",37)(56,"span",38),r(57,"2.74%"),p(58,"i",39),n(),r(59,"1,25,875"),n()()(),i(60,"div",40)(61,"table",41)(62,"tbody")(63,"tr",42)(64,"td")(65,"span",43),r(66,"Clothing"),n()(),i(67,"td")(68,"span",44),r(69,"31,245"),n()(),i(70,"td",45)(71,"span",46),r(72,"25% Gross"),n()(),i(73,"td",47)(74,"span",48),r(75," 0.45% "),p(76,"i",49),n()()(),i(77,"tr",42)(78,"td")(79,"span",50),r(80,"Electronics"),n()(),i(81,"td")(82,"span",44),r(83,"29,553"),n()(),i(84,"td",45)(85,"span",46),r(86,"16% Gross"),n()(),i(87,"td",47)(88,"span",51),r(89," 0.27% "),p(90,"i",49),n()()(),i(91,"tr",42)(92,"td")(93,"span",52),r(94,"Grocery"),n()(),i(95,"td")(96,"span",44),r(97,"24,577"),n()(),i(98,"td",45)(99,"span",46),r(100,"22% Gross"),n()(),i(101,"td",47)(102,"span",53),r(103," 0.63% "),p(104,"i",49),n()()(),i(105,"tr",42)(106,"td")(107,"span",54),r(108,"Automobiles"),n()(),i(109,"td")(110,"span",44),r(111,"19,278"),n()(),i(112,"td",45)(113,"span",46),r(114,"18% Gross"),n()(),i(115,"td",47)(116,"span",55),r(117," 1.14% "),p(118,"i",56),n()()(),i(119,"tr")(120,"td",57)(121,"span",58),r(122,"others"),n()(),i(123,"td",57)(124,"span",44),r(125,"15,934"),n()(),i(126,"td",59)(127,"span",46),r(128,"15% Gross"),n()(),i(129,"td",60)(130,"span",61),r(131," 3.87% "),p(132,"i",49),n()()(),i(133,"tr",42)(134,"td")(135,"span",52),r(136,"Grocery"),n()(),i(137,"td")(138,"span",44),r(139,"24,577"),n()(),i(140,"td",45)(141,"span",46),r(142,"22% Gross"),n()(),i(143,"td",47)(144,"span",53),r(145," 0.63% "),p(146,"i",49),n()()(),i(147,"tr",42)(148,"td")(149,"span",54),r(150,"Automobiles"),n()(),i(151,"td")(152,"span",44),r(153,"19,278"),n()(),i(154,"td",45)(155,"span",46),r(156,"18% Gross"),n()(),i(157,"td",47)(158,"span",55),r(159," 1.14% "),p(160,"i",56),n()()()()()()()()()()()(),i(161,"div",0)(162,"div",62)(163,"div",5)(164,"div",6)(165,"div",7),r(166," Sales Statistics "),n()(),i(167,"div",8)(168,"div",63)(169,"div",64)(170,"span"),r(171,"Total Sales"),n(),i(172,"p",65),r(173,"\u20B93.478B"),n()(),i(174,"div",64)(175,"span"),r(176,"This Year"),n(),i(177,"p",66),r(178,"4,25,349"),n()(),i(179,"div",64)(180,"span"),r(181,"Last Year"),n(),i(182,"p",67),r(183,"3,41,622"),n()()(),i(184,"div",68),p(185,"spk-apexcharts",10),n()()()(),i(186,"div",69)(187,"div",12)(188,"div",13)(189,"div",7),r(190," Accounts Statistics "),n()(),i(191,"div",8)(192,"ul",70),z(193,ji,13,10,"li",71,G),n()()()(),i(195,"div",72)(196,"div",5)(197,"div",73)(198,"div",7),r(199," Sales Growth Rate "),n()(),i(200,"div",74)(201,"div",75)(202,"div")(203,"p",76),r(204,"Comparison: 2025 vs. 2024"),n(),i(205,"div",77),r(206,"Increased By "),i(207,"span",78),r(208," 2.62%"),p(209,"i",79),n()(),i(210,"h5",80),r(211,"20%"),n()(),i(212,"div",81)(213,"div",82)(214,"div",83),X(),i(215,"svg",84),p(216,"path",85),n()()()()(),Q(),i(217,"div",86),p(218,"spk-apexcharts",10),n()()()()(),i(219,"div",0)(220,"div",69)(221,"div",12)(222,"div",6)(223,"div",7),r(224,"Credit Limit V/S Outstanding"),n()(),i(225,"div",28)(226,"div",87),p(227,"apx-chart",88),n(),i(228,"div",89)(229,"div",90)(230,"span",91),p(231,"i",92),n(),i(232,"div")(233,"div",93),r(234," Credit Limit"),n(),i(235,"h5",80),r(236,"\u20B954,784 "),n()(),i(237,"div",81)(238,"div",94),p(239,"i",95),r(240,"1.05%"),n()()(),i(241,"div",96)(242,"span",97),p(243,"i",98),n(),i(244,"div")(245,"div",93),r(246," Outstanding"),n(),i(247,"h5",80),r(248,"\u20B923,489 "),n()(),i(249,"div",81)(250,"div",99),p(251,"i",100),r(252,"1.05%"),n()()()()()()(),i(253,"div",69)(254,"div",5)(255,"div",6)(256,"div",7),r(257,"Target/Achievement By Sale"),n()(),i(258,"div",8)(259,"ul",101),z(260,Hi,14,19,"li",102,G),n()()()(),i(262,"div",69)(263,"div",103)(264,"div",6)(265,"div",7),r(266," Secondary Customer Network "),n()(),i(267,"div",28)(268,"div",104)(269,"div",105)(270,"div",106),p(271,"spk-apexcharts",10),n()(),i(272,"div",107)(273,"ul",108)(274,"li",109)(275,"div",110)(276,"div",111)(277,"div",112),r(278,"Active"),n()(),i(279,"div",113)(280,"span",114),r(281,"Total"),n(),i(282,"span",115),r(283,"1,754"),n()()()(),i(284,"li",109)(285,"div",110)(286,"div",116)(287,"div",112),r(288,"Inactive"),n()(),i(289,"div",113)(290,"span",114),r(291,"Total"),n(),i(292,"span",115),r(293,"1,234"),n()()()(),i(294,"li",109)(295,"div",110)(296,"div",117)(297,"div",112),r(298,"Lead"),n()(),i(299,"div",113)(300,"span",114),r(301,"Total"),n(),i(302,"span",115),r(303,"878"),n()()()()()()()()(),i(304,"div"),p(305,"app-spk-widget-budget-card",118),n()()()),e&2&&(o(3),W(s.cardData),o(12),l("chartOptions",s.chartOptions),o(21),l("chartOptions",s.chartOptions1),o(149),l("chartOptions",s.chartOptions2),o(8),W(s.statistics),o(25),l("chartOptions",s.chartOptions8),o(9),l("series",s.chartOptions9.series)("chart",s.chartOptions9.chart)("legend",s.chartOptions9.legend)("xaxis",s.chartOptions9.xaxis)("colors",s.chartOptions9.colors)("markers",s.chartOptions9.markers)("stroke",s.chartOptions9.stroke)("tooltip",s.chartOptions9.tooltip)("fill",s.chartOptions9.fill)("labels",s.chartOptions9.labels)("dataLabels",s.chartOptions9.dataLabels)("grid",s.chartOptions9.grid)("plotOptions",s.chartOptions9.plotOptions)("yaxis",s.chartOptions1.yaxis),o(33),W(s.metrics),o(11),l("chartOptions",s.chartOptions10),o(34),l("title","Branding Expense")("subtitle","")("mainValue","\u20B978,985")("footer",!1))},dependencies:[I,ut,Pe,Ae,N,Re,kt,fe],encapsulation:2,changeDetection:0})};function Yi(t,a){if(t&1&&(i(0,"div",2),p(1,"spk-sales-cards",83),n()),t&2){let e=a.$implicit;o(),l("card",e)}}function Gi(t,a){if(t&1&&(i(0,"tr")(1,"td")(2,"div",84)(3,"div",85)(4,"span",86),p(5,"img",87),n()(),i(6,"div",44),r(7),n()()(),i(8,"td")(9,"span",44),r(10),n()(),i(11,"td")(12,"span",88),r(13),n()()()),t&2){let e=a.$implicit;o(5),ye("alt",e.name),l("src",e.image,xe),o(2),f(e.name),o(3),f(e.price),o(2),l("ngClass",e.badgeClass),o(),f(e.status)}}var Qe=class t{constructor(a){this.cdr=a}inlineDatePicker=!1;weekNumbers;flatpickrOptions={inline:!0};orderColumns=[{header:"Customer",field:"customer"},{header:"Product",field:"product"},{header:"Quantity",field:"quantity"},{header:"Amount",field:"price"},{header:"Status",field:"status"},{header:"Date Ordered",field:"date"},{header:"Actions",field:"actions"}];rangeValue={from:new Date,to:new Date().fp_incr(10)};ngOnInit(){this.cdr.detectChanges()}ngOnDestroy(){}chartOptions={series:[{name:"Check In",data:[15,16,25,41,53,51,15,67,20,24,53,16,22,41,53]}],chart:{height:320,type:"line",zoom:{enabled:!1},events:{mounted:a=>{a.windowResizeHandler()}}},colors:["#5c67f7"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:6},grid:{borderColor:"#f2f5f7"},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],shadeIntensity:1,type:"horizontal",opacityFrom:1,opacityTo:1,stops:[0,100,100,100]}},markers:{size:4,colors:["#FFA41B"],strokeColors:"#fff",strokeWidth:2,hover:{size:7}},xaxis:{categories:["1 Mar","2 Mar","3 Mar","4 Mar","5 Mar","6 Mar","7 Mar","8 Mar","9 Mar","10 Mar","11 Mar","12 Mar","13 Mar","14 Mar","15 Mar"],labels:{show:!0,style:{colors:"#8c9097",fontSize:"11px",fontWeight:600,cssClass:"apexcharts-xaxis-label"}}},yaxis:{categories:["16","58","100"],labels:{show:!0,style:{colors:"#8c9097",fontSize:"11px",fontWeight:600,cssClass:"apexcharts-yaxis-label"}}}};chartOptions1={series:[1754,634,878,470],labels:["Scan/Purchase","Bonus","Refferal","Social"],chart:{height:260,type:"donut"},dataLabels:{enabled:!1},legend:{show:!0,position:"bottom",horizontalAlign:"center",markers:{size:4,shape:void 0,border:"none",strokeWidth:0},offsetY:20},stroke:{show:!0,curve:"smooth",lineCap:"round",colors:"#fff",width:0,dashArray:0},plotOptions:{pie:{startAngle:-90,endAngle:90,offsetY:10,expandOnClick:!1,donut:{size:"80%",background:"transparent",labels:{show:!0,name:{show:!0,fontSize:"20px",color:"#495057",offsetY:-25},value:{show:!0,fontSize:"15px",color:void 0,offsetY:-20},total:{show:!0,showAlways:!0,label:"Total",fontSize:"22px",fontWeight:600,color:"#495057"}}}}},grid:{padding:{bottom:-100}},colors:["rgba(var(--primary-rgb))","rgba(227, 84, 212, 1)","rgba(255, 93, 159, 1)","rgba(255, 142, 111, 1)"]};chartOptions2={series:[{name:"Point Earning",type:"bar",data:[55,25,25,165,75,64,70,55,25,25,165,75]},{name:"Point Redeem",type:"bar",data:[71,97,72,52,73,51,71,71,97,72,52,73]}],chart:{width:"100%",height:230,type:"bar",stacked:{enabled:!0},toolbar:{show:!1},zoom:{enabled:!1}},grid:{borderColor:"#f1f1f1",strokeDashArray:3},legend:{show:!0,position:"bottom",horizontalAlign:"center",markers:{shape:"circle",size:4,strokeWidth:0}},stroke:{curve:"smooth",width:[0]},dataLabels:{enabled:!1},plotOptions:{bar:{columnWidth:"30%",borderRadius:[3],borderRadiusWhenStacked:"all"}},colors:["rgba(var(--primary-rgb))","rgba(227, 84, 212, 1)","rgba(255, 142, 111, 1)"],labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tooltip:{shared:!0,intersect:!1}};chartOptions3={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,30,10,35,26,31,14,22,40,12]}],yaxis:{min:0},colors:["rgb(126, 103, 221)"]};chartOptions4={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,20,15,25,15,25,6,25,32,15]}],yaxis:{min:0},colors:["rgb(227, 84, 212)"]};chartOptions5={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,10,30,12,16,25,4,35,26,15]}],colors:["rgb(255, 93, 159)"],yaxis:{min:0}};chartOptions6={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,12,19,26,10,18,8,17,35,14]}],colors:["rgb(255, 142, 111)"],yaxis:{min:0}};chartOptions8={series:[{name:"",data:[35,36,22,44,48,37,36,26,27,33,32,36]},{name:"This Year",data:[55,53,46,40,45,38,46,37,22,34,40,44]}],chart:{type:"line",height:170,stacked:!0,toolbar:{show:!1},sparkline:{enabled:!1},dropShadow:{enabled:!0,enabledOnSeries:void 0,top:6,left:1,blur:4,color:"#000",opacity:.12},zoom:{enabled:!1}},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:2,right:2,bottom:2,left:2},borderColor:"#f1f1f1",strokeDashArray:3},markers:{size:4,hover:{size:3}},colors:["rgba(227, 84, 212, 1)","rgba(var(--primary-rgb))"],stroke:{curve:"straight",width:2,dashArray:2},legend:{show:!0,position:"bottom",fontSize:"10px",fontFamily:"Poppins",markers:{size:4,shape:void 0,border:"none",strokeWidth:0}},yaxis:{axisBorder:{show:!1,color:"rgba(119, 119, 142, 0.05)",offsetX:0,offsetY:0},axisTicks:{show:!0,borderType:"solid",color:"rgba(119, 119, 142, 0.05)",width:6,offsetX:0,offsetY:0},title:{style:{color:"#adb5be",fontSize:"14px",fontFamily:"poppins, sans-serif",fontWeight:600,cssClass:"apexcharts-yaxis-label"}},labels:{show:!1,formatter:function(a){return a.toFixed(0)+""}}},xaxis:{type:"month",categories:["1","2","3","4","5","6","7","8","9","10","11","12"],axisBorder:{show:!0,color:"rgba(119, 119, 142, 0.05)",offsetX:0,offsetY:0},title:{style:{color:"#adb5be",fontSize:"5px",fontFamily:"poppins, sans-serif",fontWeight:600,cssClass:"apexcharts-yaxis-label"}}}};handleToggleSelectAll(a){this.allTasksChecked=a}chartOptions7={chart:{type:"line",height:30,width:100,sparkline:{enabled:!0},dropShadow:{enabled:!1,blur:3,opacity:.2}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},fill:{gradient:{enabled:!1}},series:[{name:"Total Income",data:[0,12,19,17,35,14,26,10,18,8]}],colors:["rgb(158, 92, 247)"],yaxis:{min:0}};cardData=[{id:1,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Profile Completed",value:"87%",graph:"increased",color:"success",percentage:"2.56%",percentageIcon:"ti ti-arrow-narrow-up fs-16",bg:"primary",icon:"ti ti-shopping-cart",bar:!0},{id:2,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Rank",value:"15",graph:"increased",color:"success",percentage:"0.34%",percentageIcon:"ti ti-arrow-narrow-up fs-16",bg:"primarytint1color",icon:"ti ti-users",bar:!1},{id:3,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Refferal",value:"2",graph:"Last refer",color:"success",percentage:"7.66%",percentageIcon:"ti ti-arrow-narrow-up fs-16",bg:"primarytint2color",icon:"ti ti-currency-dollar",bar:!1},{id:4,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Complaint",value:"2",graph:"Last Complaint",color:"danger",percentage:"30 day's",percentageIcon:"ti ti-arrow-narrow-down fs-16",bg:"primarytint3color",icon:"ti ti-chart-bar",bar:!1},{id:4,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Scan/Purchase",value:"40",graph:"Last Scan 1 day ago",color:"danger",percentage:"0.74%",percentageIcon:"ti ti-arrow-narrow-down fs-16",bg:"primarytint3color",icon:"ti ti-chart-bar",bar:!0},{id:4,cardClass:"overflow-hidden main-content-card",customClass:"justify-content-between align-items-start  mb-2",valueClass:"fw-medium mb-0",titleClass:"d-block mb-1",title:"Spin & Win",value:"40",graph:"Last Spin 12 day's",color:"danger",percentage:"0.74%",percentageIcon:"ti ti-arrow-narrow-down fs-16",bg:"primarytint3color",icon:"ti ti-chart-bar",bar:!0}];allTasksChecked;toggleSelectAll(a){this.allTasksChecked=a.target.checked}products=[{image:"./assets/images/ecommerce/jpg/4.jpg",name:"SwiftBuds",price:"$39.99",status:"Success",badgeClass:"bg-primary"},{image:"./assets/images/ecommerce/jpg/6.jpg",name:"CozyCloud Pillow",price:"$19.95",status:"Pending",badgeClass:"bg-primarytint1color"},{image:"./assets/images/ecommerce/jpg/3.jpg",name:"AquaGrip Bottle",price:"$9.99",status:"Failed",badgeClass:"bg-primarytint2color"},{image:"./assets/images/ecommerce/jpg/1.jpg",name:"GlowLite Lamp",price:"$24.99",status:"Success",badgeClass:"bg-primarytint3color"},{image:"./assets/images/ecommerce/jpg/2.jpg",name:"Bitvitamin",price:"$26.45",status:"Success",badgeClass:"bg-secondary"},{image:"./assets/images/ecommerce/jpg/5.jpg",name:"FitTrack",price:"$49.95",status:"Success",badgeClass:"bg-warning"}];companiesColumn=[{label:"Name"},{label:"Points"},{label:"Profile Status"}];static \u0275fac=function(e){return new(e||t)(C(De))};static \u0275cmp=E({type:t,selectors:[["app-influencer-dashboard"]],features:[we([Oe])],decls:178,vars:6,consts:[[1,"grid","grid-cols-12","gap-x-6"],[1,"xl:col-span-12","col-span-12"],[1,"xxl:col-span-2","xl:col-span-3","col-span-12"],[1,"xl:col-span-8","col-span-12"],[1,"xxl:col-span-8","xl:col-span-6","col-span-12"],[1,"box"],[1,"box-header","justify-between"],[1,"box-title"],[1,"box-body"],["id","sales-overview"],[3,"chartOptions"],[1,"xxl:col-span-4","xl:col-span-6","col-span-12"],[1,"box","overflow-hidden"],[1,"box-header","pb-0","justify-between"],[1,"box-body","py-4","px-3"],[1,"flex","gap-4","mb-3"],[1,"avatar","avatar-md","bg-primary/10","!w-[3rem]"],[1,"ti","ti-trending-up","text-[1.25rem]","text-primary"],[1,"flex-auto","flex","items-start","justify-between","w-full","flex-wrap"],[1,"text-[11px]","mb-1","block","font-medium"],[1,"flex","items-center","justify-between"],[1,"mb-0","flex","items-center"],[1,"text-success","text-xs","ms-2","inline-flex","items-center"],[1,"ti","ti-trending-up","align-middle","me-1"],["id","orders",1,"my-2"],[1,"xl:col-span-4","col-span-12"],[1,"xl:col-span12","col-span-12"],[1,"box-header","justify-between","pb-1"],[1,"box-body","p-0"],[1,"p-4","pb-0"],[1,"progress-stacked","progress-sm","mb-3","flex","gap-1"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","w-[25%]"],["role","progressbar","aria-valuenow","15","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primarytint1color","w-[15%]","!rounded-none"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primarytint2color","!rounded-none","w-[15%]"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primarytint3color","!rounded-none","w-[20%]"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","!rounded-none","!rounded-tr-md","!rounded-br-md","bg-secondary","w-[25%]"],[1,"flex","items-center","justify-between","mb-2"],[1,"h6","mb-0"],[1,"text-success","me-2","text-[11px]"],[1,"ti","ti-arrow-narrow-up"],[1,"table-responsive","top-categories"],[1,"table","text-nowrap"],[1,"border-b","border-defaultborder","dark:border-defaultborder/10"],[1,"font-medium","top-category-name","one"],[1,"font-medium"],[1,"text-center"],[1,"text-textmuted","dark:text-textmuted/50","text-xs"],[1,"!text-end"],[1,"badge","bg-success","me-1"],[1,"ti","ti-trending-up","ms-1"],[1,"font-medium","top-category-name","two"],[1,"badge","bg-warning","me-1"],[1,"font-medium","top-category-name","three"],[1,"badge","bg-secondary","me-1"],[1,"font-medium","top-category-name","four"],[1,"badge","bg-primarytint1color","me-1"],[1,"ti","ti-trending-down","ms-1"],[1,"xxl:col-span-5","xl:col-span-5","col-span-12"],[1,"flex","flex-wrap","gap-2","justify-between","flex-auto"],[1,"py-2","px-4","h60","rounded-sm","border","border-defaultborder","dark:border-defaultborder/10","border-dashed","bg-light"],[1,"font-medium","text-[14px]","mb-0"],[1,"text-success","font-medium","text-[14px]","mb-0"],[1,"text-danger","font-medium","text-[14px]","mb-0"],["id","sales-statistics"],[1,"xxl:col-span-4","xl:col-span-4","col-span-12"],[1,"box-body","p-0","pb-1"],[1,"table-responsive"],["tableClass","ti-custom-table text-nowrap","checkboxClass","text-center",3,"columns","showCheckbox"],[1,"xxl:col-span-3","xl:col-span-3","col-span-12"],[1,"box-header","justify-between","pb-0"],[1,"box-body","pb-1"],[1,"flex","items-center","p-4","bg-light","rounded-sm"],[1,"mb-1","text-[13px]"],[1,"text-textmuted","dark:text-textmuted/50","text-xs","mb-2"],[1,"text-success"],[1,"ti","ti-arrow-narrow-up","text-[16px]"],[1,"mb-0"],[1,"ms-auto"],[1,"p-2","bg-primary/10","rounded-full"],[1,"avatar-md","avatar","bg-primary","svg-white","avatar-rounded","shadow-sm","mb-0"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V156.69l50.34-50.35a8,8,0,0,1,11.32,0L128,132.69,180.69,80H160a8,8,0,0,1,0-16h40a8,8,0,0,1,8,8v40a8,8,0,0,1-16,0V91.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31l-56,56V200H224A8,8,0,0,1,232,208Z"],["id","sales-growth",1,"mt-1"],[3,"card"],[1,"flex","items-center","gap-2"],[1,"leading-none"],[1,"avatar","avatar-sm"],[3,"src","alt"],[1,"badge",3,"ngClass"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",0),z(3,Yi,2,1,"div",2,G),n()()(),i(5,"div",0)(6,"div",3)(7,"div",0)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7),r(12," Last 15 day's scanning "),n()(),i(13,"div",8)(14,"div",9),p(15,"spk-apexcharts",10),n()()()(),i(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",7),r(20," Point Earning Statistics "),n()(),i(21,"div",14)(22,"div",15)(23,"div",16),p(24,"i",17),n(),i(25,"div",18)(26,"div")(27,"span",19),r(28,"TOTAL POINTS"),n(),i(29,"div",20)(30,"h4",21),r(31,"3,736"),i(32,"span",22),p(33,"i",23),r(34,"0.57%"),n()()()()()(),i(35,"div",24),p(36,"spk-apexcharts",10),n()()()()()(),i(37,"div",25)(38,"div",0)(39,"div",26)(40,"div",12)(41,"div",27)(42,"div",7),r(43," Points Earning By Categories "),n()(),i(44,"div",28)(45,"div",29)(46,"div",30),p(47,"div",31)(48,"div",32)(49,"div",33)(50,"div",34)(51,"div",35),n(),i(52,"div",36)(53,"div"),r(54,"Overall Sales"),n(),i(55,"div",37)(56,"span",38),r(57,"2.74%"),p(58,"i",39),n(),r(59,"1,25,875"),n()()(),i(60,"div",40)(61,"table",41)(62,"tbody")(63,"tr",42)(64,"td")(65,"span",43),r(66,"Scan/Purchase"),n()(),i(67,"td")(68,"span",44),r(69,"31,245"),n()(),i(70,"td",45)(71,"span",46),r(72,"25% Gross"),n()(),i(73,"td",47)(74,"span",48),r(75,"1 day"),p(76,"i",49),n()()(),i(77,"tr",42)(78,"td")(79,"span",50),r(80,"Bonus"),n()(),i(81,"td")(82,"span",44),r(83,"553"),n()(),i(84,"td",45)(85,"span",46),r(86,"16% Gross"),n()(),i(87,"td",47)(88,"span",51),r(89," 4 day "),p(90,"i",49),n()()(),i(91,"tr",42)(92,"td")(93,"span",52),r(94,"Refferal"),n()(),i(95,"td")(96,"span",44),r(97,"24,577"),n()(),i(98,"td",45)(99,"span",46),r(100,"22% Gross"),n()(),i(101,"td",47)(102,"span",53),r(103,"6 day "),p(104,"i",49),n()()(),i(105,"tr",42)(106,"td")(107,"span",54),r(108,"Social"),n()(),i(109,"td")(110,"span",44),r(111,"19,278"),n()(),i(112,"td",45)(113,"span",46),r(114,"18% Gross"),n()(),i(115,"td",47)(116,"span",55),r(117," 1 day"),p(118,"i",56),n()()()()()()()()()()()(),i(119,"div",0)(120,"div",57)(121,"div",5)(122,"div",6)(123,"div",7),r(124," Redeem Statistics "),n()(),i(125,"div",8)(126,"div",58)(127,"div",59)(128,"span"),r(129,"Total Earning"),n(),i(130,"p",60),r(131,"1500 PT"),n()(),i(132,"div",59)(133,"span"),r(134,"Total Redeem"),n(),i(135,"p",61),r(136,"600 PT"),n()(),i(137,"div",59)(138,"span"),r(139,"Balance"),n(),i(140,"p",62),r(141,"900 PT"),n()()(),i(142,"div",63),p(143,"spk-apexcharts",10),n()()()(),i(144,"div",64)(145,"div",12)(146,"div",6)(147,"div",7),r(148," Refferal Performance "),n()(),i(149,"div",65)(150,"div",66)(151,"spk-reusable-tables",67),z(152,Gi,14,6,"tr",null,G),n()()()()(),i(154,"div",68)(155,"div",5)(156,"div",69)(157,"div",7),r(158," Growth Rate "),n()(),i(159,"div",70)(160,"div",71)(161,"div")(162,"p",72),r(163,"Comparison: 2025 vs. 2024"),n(),i(164,"div",73),r(165,"Increased By "),i(166,"span",74),r(167," 2.62%"),p(168,"i",75),n()(),i(169,"h5",76),r(170,"20%"),n()(),i(171,"div",77)(172,"div",78)(173,"div",79),X(),i(174,"svg",80),p(175,"path",81),n()()()()(),Q(),i(176,"div",82),p(177,"spk-apexcharts",10),n()()()()()),e&2&&(o(3),W(s.cardData),o(12),l("chartOptions",s.chartOptions),o(21),l("chartOptions",s.chartOptions1),o(107),l("chartOptions",s.chartOptions2),o(8),l("columns",s.companiesColumn)("showCheckbox",!1),o(),W(s.products),o(25),l("chartOptions",s.chartOptions8))},dependencies:[I,ke,Pe,Ae,N,Re,j],encapsulation:2,changeDetection:0})};var Wi=()=>[];function Ui(t,a){t&1&&(i(0,"div",8),p(1,"app-skeleton"),n())}function $i(t,a){t&1&&(i(0,"div",4)(1,"div",5)(2,"div",6),u(3,Ui,2,0,"div",7),n()()()),t&2&&(o(3),l("ngForOf",w(1,Wi).constructor(4)))}function qi(t,a){if(t&1&&(i(0,"div",15),p(1,"spk-input",16),n()),t&2){let e=a.$implicit,s=d(2);o(),l("label",s.getLabel(e))("formControlName",e)}}function Ki(t,a){if(t&1){let e=h();v(0),i(1,"form",9),b("ngSubmit",function(){_(e);let c=d();return g(c.update())}),i(2,"mat-dialog-content",10)(3,"div",6),u(4,qi,2,2,"div",11),n()(),i(5,"mat-dialog-actions",12),p(6,"app-button",13)(7,"app-button",14),n()(),x()}if(t&2){let e=d();o(),l("formGroup",e.addForm),o(3),l("ngForOf",e.objectKeys(e.formDataFields)),o(2),l("buttonType","button")("buttonClass","ti-btn ti-btn-outline-danger m-2")("label","Cancel"),o(),l("buttonType","submit")("buttonClass","ti-btn ti-btn-primary m-0")("disabled",e.api.disabled)("formType",e.pageType)("iconClass","ri-save-line")("loadingIconClass","ri-loader-2-fill")}}var Ze=class t{constructor(a,e,s,c,m,M,hi,vi,xi){this.modalData=a;this.dialogRef=e;this.toastr=s;this.fb=c;this.moduleService=m;this.api=M;this.logService=hi;this.CommonApiService=vi;this.formValidation=xi}FORMID=We;skLoading=!1;pageType="add";activeTab="";addForm;formDataFields={};originalData={};subModule={};moduleTableId=0;categoryModuleTableId=0;moduleFormId=0;categoryModuleFormId=0;tableHeader=[];ngOnInit(){this.pageType=this.modalData.formType,this.activeTab=this.modalData.activeTab;let a=this.moduleService.getFormById("Masters","Discount Master",this.FORMID.ID.DisMasterProductForm),e=this.moduleService.getTableById("Masters","Discount Master",this.FORMID.ID.DisMasterProductTable),s=this.moduleService.getFormById("Masters","Discount Master",this.FORMID.ID.DisMasterCategoryForm),c=this.moduleService.getTableById("Masters","Discount Master",this.FORMID.ID.DisMasterCategoryTable);a&&(this.moduleFormId=a.form_id),s&&(this.categoryModuleFormId=s.form_id),e&&(this.moduleTableId=e.table_id),c&&(this.categoryModuleTableId=c.table_id),this.getHeaderConfigListing();let m=this.moduleService.getModuleByName("Customers");m&&(this.subModule=m),this.pageType==="edit"&&(this.modalData?.formData?.customer_form_data===null?this.originalData=pe(pe({},this.modalData.formData),this.modalData.formData.form_data):this.originalData=pe(pe({},this.modalData.formData),this.modalData.formData.customer_form_data)),this.addForm=this.fb.group({})}initForm(){this.modalData?.formData?.customer_form_data===null?this.modalData.formData.form_data===null?(this.formDataFields={},this.tableHeader.filter(a=>a.is_show).forEach(a=>{a.name&&(this.formDataFields[a.name]=0)})):this.formDataFields=this.modalData.formData.form_data:this.formDataFields=this.modalData.formData.customer_form_data,Object.keys(this.formDataFields).forEach(a=>{this.addForm.addControl(a,new vt(this.formDataFields[a]))})}getLabel(a){return a.replace(/_/g," ").replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}update(){let a=this.addForm.value,e={};for(let m in a)a.hasOwnProperty(m)&&(e[m]=+a[m]);this.formValidation.removeEmptyFields(e),this.api.disabled=!0;let s={discount_type:this.modalData.activeTab,discount_id:this.modalData.formData._id,discount_name:this.modalData.activeTab==="Product"?this.modalData.formData.product_name:this.modalData.formData.category_name,customer_type_name:this.modalData.basicDetail.customer_type_name,customer_type_id:this.modalData.basicDetail.customer_type_id,customer_id:this.modalData.basicDetail._id,form_data:e},c=this.pageType==="edit";if(c&&this.logService.logActivityOnUpdate(c,this.originalData,e,this.subModule.module_id,this.subModule.title,"update",this.originalData._id||null,()=>{},this.subModule.module_type)){this.api.disabled=!1,this.toastr.warning("No changes detected","","toast-top-right");return}this.api.post(s,ge.CUSTOMER.CUSTOMER_SAVE_DIS).subscribe(m=>{m.statusCode==200&&(this.api.disabled=!1,this.dialogRef.close(!0),this.toastr.success(m.message,"","toast-top-right"))})}objectKeys(a){return a?Object.keys(a):[]}close(){this.dialogRef.close()}getModuleConfigByTab(a){return{formId:a==="Product"?this.moduleFormId:this.categoryModuleFormId,tableId:a==="Product"?this.moduleTableId:this.categoryModuleTableId}}getHeaderConfigListing(){this.skLoading=!0;let a=this.getModuleConfigByTab(this.activeTab);this.CommonApiService.getHeaderConfigListing(a.tableId,a.formId).subscribe(e=>{this.skLoading=!1,this.tableHeader=e.data.table_data.tableHead,this.initForm()})}static \u0275fac=function(e){return new(e||t)(C(Et),C(Tt),C(bt),C(St),C(oe),C(P),C(Ue),C(Dt),C(Rt))};static \u0275cmp=E({type:t,selectors:[["app-customer-discount-add"]],decls:4,vars:4,consts:[[1,"mat-dialoge"],[3,"close","title","closeBtn"],["class","box",4,"ngIf"],[4,"ngIf"],[1,"box"],[1,"p-4"],[1,"grid","grid-cols-12","gap-x-6"],["class","xl:col-span-3 col-span-12 mb-4",4,"ngFor","ngForOf"],[1,"xl:col-span-3","col-span-12","mb-4"],[3,"ngSubmit","formGroup"],[1,"mat-typography"],["class","xxl:col-span-4 xl:col-span-6 lg:col-span-6 md:col-span-12 col-span-12",4,"ngFor","ngForOf"],["align","end"],["mat-dialog-close","",3,"buttonType","buttonClass","label"],[3,"buttonType","buttonClass","disabled","formType","iconClass","loadingIconClass"],[1,"xxl:col-span-4","xl:col-span-6","lg:col-span-6","md:col-span-12","col-span-12"],["type","number",1,"remove-default-class",3,"label","formControlName"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"app-modal-header",1),b("close",function(){return s.close()}),n(),u(2,$i,4,2,"div",2)(3,Ki,8,11,"ng-container",3),n()),e&2&&(o(),l("title","Update "+s.modalData.activeTab+" ("+(s.modalData.activeTab==="Product"?s.modalData.formData.product_name:s.modalData.formData.category_name)+")")("closeBtn",!0),o(),l("ngIf",s.skLoading),o(),l("ngIf",!s.skLoading))},dependencies:[I,O,L,le,xt,ae,ht,Ct,yt,At,R,Vt,Me,B,It,Mt,Lt,Ot],encapsulation:2})};var be=()=>[],on=(t,a,e)=>({name:t,label:a,icon:e}),rn=t=>[t];function sn(t,a){t&1&&p(0,"app-skeleton"),t&2&&y("w100 h30 bg-skeleton")}function ln(t,a){t&1&&(v(0),i(1,"div",7),u(2,sn,1,2,"app-skeleton",8),n(),x()),t&2&&(o(2),l("ngForOf",w(1,be).constructor(2)))}function cn(t,a){if(t&1){let e=h();i(0,"app-listing-tab",10),b("tabChange",function(c){_(e);let m=d(2);return g(m.onTabChange(c.tab))}),n()}if(t&2){let e=a.$implicit,s=d(2);l("tabs",k(7,rn,ne(3,on,e.label,e.label,e.icon)))("activeTab",s.activeTab)("countShow",!1)}}function dn(t,a){if(t&1&&(v(0),i(1,"nav",1),u(2,cn,1,9,"app-listing-tab",9),n(),x()),t&2){let e=d();o(2),l("ngForOf",e.mainTabs)}}function pn(t,a){if(t&1){let e=h();i(0,"button",18),b("click",function(){_(e);let c=d(3);return c.filter.product_name="",g(c.getProductDisList())}),i(1,"mat-icon"),r(2,"close"),n()()}}function mn(t,a){if(t&1){let e=h();i(0,"app-icon-button",24),b("clickEvent",function(){_(e);let c=d().$implicit,m=d(3);return g(m.update(c))}),n()}t&2&&l("icon","ri-edit-line")("buttonClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-success waves-effect waves-light")}function un(t,a){if(t&1){let e=h();i(0,"tr",19)(1,"td",20),r(2),n(),i(3,"td"),r(4),n(),i(5,"td"),p(6,"span",21),n(),i(7,"td"),p(8,"span",21),n(),i(9,"td",20),u(10,mn,1,2,"app-icon-button",22),i(11,"app-icon-button",23),b("clickEvent",function(){let c=_(e).$implicit,m=d(3);return g(m.openMainLogModal(c._id))}),n()()()}if(t&2){let e=a.$implicit,s=a.index,c=d(3);o(2),f(s+1),o(2),f(e.product_name?e.product_name:"--"),o(2),l("innerHTML",c.getDiscountSumHtml(e.form_data),me),o(2),l("innerHTML",c.getDiscountSumHtml(e.customer_form_data),me),o(2),l("ngIf",c.accessRight==null?null:c.accessRight.modifyRight),o(),l("icon","ri-file-list-line")("buttonClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")}}function _n(t,a){if(t&1){let e=h();v(0),i(1,"tr",12)(2,"td"),r(3,"\xA0"),n(),i(4,"td")(5,"div",13)(6,"mat-form-field",14)(7,"input",15),ie("ngModelChange",function(c){_(e);let m=d(2);return te(m.filter.product_name,c)||(m.filter.product_name=c),g(c)}),b("keyup.enter",function(){_(e);let c=d(2);return g(c.getProductDisList())}),n(),u(8,pn,3,0,"button",16),n()()(),i(9,"td"),r(10,"\xA0"),n(),i(11,"td"),r(12,"\xA0"),n(),i(13,"td"),r(14,"\xA0"),n()(),u(15,un,12,7,"tr",17),x()}if(t&2){let e=d(2);o(7),ee("ngModel",e.filter.product_name),o(),Z(e.filter.product_name?8:-1),o(7),l("ngForOf",e.productListing)}}function gn(t,a){t&1&&(i(0,"td"),p(1,"app-skeleton"),n()),t&2&&(o(),y("h20 bg-skeleton"))}function fn(t,a){t&1&&(i(0,"tr",12),u(1,gn,2,2,"td",26),n()),t&2&&(o(),l("ngForOf",w(1,be).constructor(5)))}function bn(t,a){t&1&&(v(0),u(1,fn,2,2,"tr",25),x()),t&2&&(o(),l("ngForOf",w(1,be).constructor(8)))}function hn(t,a){t&1&&(v(0),p(1,"app-data-not-found"),x())}function vn(t,a){if(t&1&&(v(0),i(1,"spk-reusable-tables",11),u(2,_n,16,3,"ng-container",2)(3,bn,2,2,"ng-container",2),n(),u(4,hn,2,0,"ng-container",2),x()),t&2){let e=d();o(),l("tableHead","border-b")("showS_No",!0)("showAction",!0)("columns",e.PageHeaders),o(),l("ngIf",!e.skLoading),o(),l("ngIf",e.skLoading),o(),l("ngIf",!e.productListing.length&&!e.skLoading)}}function xn(t,a){if(t&1){let e=h();i(0,"button",18),b("click",function(){_(e);let c=d(3);return c.filter.category_name="",g(c.getCategoryDisList())}),i(1,"mat-icon"),r(2,"close"),n()()}}function Cn(t,a){if(t&1){let e=h();i(0,"app-icon-button",24),b("clickEvent",function(){_(e);let c=d().$implicit,m=d(3);return g(m.update(c))}),n()}t&2&&l("icon","ri-edit-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-success waves-effect waves-light")}function yn(t,a){if(t&1){let e=h();i(0,"tr",19)(1,"td",20),r(2),n(),i(3,"td"),r(4),n(),i(5,"td"),p(6,"span",21),n(),i(7,"td"),p(8,"span",21),n(),i(9,"td",20),u(10,Cn,1,2,"app-icon-button",22),i(11,"app-icon-button",23),b("clickEvent",function(){let c=_(e).$implicit,m=d(3);return g(m.openMainLogModal(c._id))}),n()()()}if(t&2){let e=a.$implicit,s=a.index,c=d(3);o(2),f(s+1),o(2),f(e.category_name?e.category_name:"--"),o(2),l("innerHTML",c.getDiscountSumHtml(e.form_data),me),o(2),l("innerHTML",c.getDiscountSumHtml(e.customer_form_data),me),o(2),l("ngIf",c.accessRight==null?null:c.accessRight.modifyRight),o(),l("icon","ri-file-list-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-primary waves-effect waves-light")}}function Sn(t,a){if(t&1){let e=h();v(0),i(1,"tr",12)(2,"td"),r(3,"\xA0"),n(),i(4,"td")(5,"div",13)(6,"mat-form-field",14)(7,"input",15),ie("ngModelChange",function(c){_(e);let m=d(2);return te(m.filter.category_name,c)||(m.filter.category_name=c),g(c)}),b("keyup.enter",function(){_(e);let c=d(2);return g(c.getCategoryDisList())}),n(),u(8,xn,3,0,"button",16),n()()(),i(9,"td"),r(10,"\xA0"),n(),i(11,"td"),r(12,"\xA0"),n(),i(13,"td"),r(14,"\xA0"),n()(),u(15,yn,12,7,"tr",17),x()}if(t&2){let e=d(2);o(7),ee("ngModel",e.filter.category_name),o(),Z(e.filter.category_name?8:-1),o(7),l("ngForOf",e.categoryListing)}}function wn(t,a){t&1&&(i(0,"td"),p(1,"app-skeleton"),n()),t&2&&(o(),y("h20 bg-skeleton"))}function Dn(t,a){t&1&&(i(0,"tr",12),u(1,wn,2,2,"td",26),n()),t&2&&(o(),l("ngForOf",w(1,be).constructor(5)))}function kn(t,a){t&1&&(v(0),u(1,Dn,2,2,"tr",25),x()),t&2&&(o(),l("ngForOf",w(1,be).constructor(8)))}function Tn(t,a){t&1&&(v(0),p(1,"app-data-not-found"),x())}function En(t,a){if(t&1&&(v(0),i(1,"spk-reusable-tables",11),u(2,Sn,16,3,"ng-container",2)(3,kn,2,2,"ng-container",2),n(),u(4,Tn,2,0,"ng-container",2),x()),t&2){let e=d();o(),l("tableHead","border-b")("showS_No",!0)("showAction",!0)("columns",e.PageHeaders1),o(),l("ngIf",!e.skLoading),o(),l("ngIf",e.skLoading),o(),l("ngIf",!e.categoryListing.length&&!e.skLoading)}}var et=class t{constructor(a,e,s,c){this.api=a;this.comanFuncation=e;this.dialog=s;this.moduleService=c}basicDetail;page=1;pagination={};skLoading=!1;filter={};activeTab="Category";subModule={};accessRight={};ngOnInit(){let a=this.moduleService.getAccessMap("Customers");a&&(this.accessRight=a);let e=this.moduleService.getModuleByName("Customers");e&&(this.subModule=e),this.getCategoryDisList()}onRefresh(){this.filter={},this.activeTab==="Product"?this.getProductDisList():this.getCategoryDisList()}onTabChange(a){this.activeTab=a,this.activeTab==="Product"?this.getProductDisList():this.getCategoryDisList()}productListing=[];getProductDisList(){this.skLoading=!0,this.api.post({customer_id:this.basicDetail._id,customer_type_id:this.basicDetail.customer_type_id,filters:this.filter,page:this.pagination.cur_page??1},ge.CUSTOMER_DISCOUNT.PRODUCT_DISCOUNT).subscribe(a=>{a.statusCode=="200"&&(this.skLoading=!1,this.productListing=a.data,this.pagination=a.pagination)})}categoryListing=[];getCategoryDisList(){this.skLoading=!0,this.api.post({customer_id:this.basicDetail._id,customer_type_id:this.basicDetail.customer_type_id,filters:this.filter,page:this.pagination.cur_page??1},ge.CUSTOMER_DISCOUNT.CATEGORY_DISCOUNT).subscribe(a=>{a.statusCode=="200"&&(this.skLoading=!1,this.categoryListing=a.data,this.pagination=a.pagination)})}getDiscountSumHtml(a){return!a||typeof a!="object"?"0":Object.entries(a).filter(([s,c])=>typeof c=="number").map(([s,c])=>`${this.formatLabel(s)}: <span class="font-semibold text-[13px] mx-1 text-primary my-1">${c}</span>`).join(" + ")}formatLabel(a){return a.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}update(a){this.dialog.open(Ze,{width:"768px",data:{lastPage:"discount-master-add",formType:a?"edit":"create",formData:a||{},activeTab:this.activeTab,basicDetail:this.basicDetail}}).afterClosed().subscribe(s=>{s===!0&&(this.activeTab==="Product"?this.getProductDisList():this.getCategoryDisList())})}openMainLogModal(a){this.comanFuncation.listLogsModal(this.subModule.module_id,a,this.subModule.module_type).subscribe(e=>{})}mainTabs=[{name:"Category",label:"Category",icon:"ri-apps-fill"},{name:"Product",label:"Product",icon:"ri-box-3-fill"}];PageHeaders=[{label:"Product"},{label:"Default (%)"},{label:"Customize (%)"}];PageHeaders1=[{label:"Category"},{label:"Default (%)"},{label:"Customize (%)"}];static \u0275fac=function(e){return new(e||t)(C(P),C(ce),C(Ye),C(oe))};static \u0275cmp=E({type:t,selectors:[["app-customer-discount-list"]],inputs:{basicDetail:"basicDetail"},decls:10,vars:10,consts:[[1,"box","py-3","px-4"],["aria-label","Tabs","role","tablist",1,"sm:flex","sm:space-x-2","sm:rtl:space-x-reverse","gap-1"],[4,"ngIf"],[1,"row"],[1,"col-xl-12"],[3,"onRefresh","pageTitle","listLength","btnShow","refreshLabel"],[1,"table-responsive","overflow-auto","table-bordered-default"],[1,"flex","items-center","gap-3"],[3,"class",4,"ngFor","ngForOf"],[3,"tabs","activeTab","countShow","tabChange",4,"ngFor","ngForOf"],[3,"tabChange","tabs","activeTab","countShow"],["tableClass","ti-custom-table ti-custom-table-head ti-custom-table-hover ti-head-primary whitespace-nowrap",3,"tableHead","showS_No","showAction","columns"],[1,"border-b","!border-defaultborder","dark:!border-defaultborder/10"],[1,"table-search-filters"],[1,"table-input"],["matInput","","type","text","placeholder","Search...",3,"ngModelChange","keyup.enter","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear"],["class","product-list border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"product-list","border-b","!border-defaultborder","dark:!border-defaultborder/10"],[1,"!text-center"],[1,"badge","bg-light","text-textmuted","dark:text-textmuted/50","m-1","border","border-defaultborder","dark:border-defaultborder/10","flex-wrap",3,"innerHTML"],["matTooltip","Update Discount",3,"icon","buttonClass","clickEvent",4,"ngIf"],[3,"clickEvent","icon","buttonClass"],["matTooltip","Update Discount",3,"clickEvent","icon","buttonClass"],["class","border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"nav",1),u(2,ln,3,2,"ng-container",2)(3,dn,3,1,"ng-container",2),n(),i(4,"div",3)(5,"div",4)(6,"app-page-sub-header",5),b("onRefresh",function(){return s.onRefresh()}),n(),i(7,"div",6),u(8,vn,5,7,"ng-container",2)(9,En,5,7,"ng-container",2),n()()()()),e&2&&(o(2),l("ngIf",s.skLoading),o(),l("ngIf",!s.skLoading),o(3),y("p-0 pt-3"),l("pageTitle","Customer Discount")("listLength",s.pagination.total)("btnShow",!0)("refreshLabel","Refresh"),o(2),l("ngIf",s.activeTab==="Product"),o(),l("ngIf",s.activeTab==="Category"))},dependencies:[le,O,L,Ie,ae,Le,R,H,Ht,qe,Y,Ge,I,j,B,Be,je,He,Ne,Ve],encapsulation:2})};var Ln=(t,a,e)=>({name:t,label:a,icon:e}),Mn=t=>[t],Fn=()=>[];function On(t,a){if(t&1){let e=h();i(0,"app-listing-tab",3),b("tabChange",function(c){_(e);let m=d();return g(m.onTabChange(c.tab))}),n()}if(t&2){let e=a.$implicit,s=d();l("tabs",k(7,Mn,ne(3,Ln,e.name,e.label,e.icon)))("activeTab",s.activeTab)("countShow",!1)}}function Pn(t,a){if(t&1){let e=h();i(0,"button",15),b("click",function(){_(e);let c=d(2);return c.filter.product_name="",g(c.getStock())}),i(1,"mat-icon"),r(2,"close"),n()()}}function Rn(t,a){if(t&1){let e=h();i(0,"button",15),b("click",function(){_(e);let c=d(2);return c.filter.product_code="",g(c.getStock())}),i(1,"mat-icon"),r(2,"close"),n()()}}function An(t,a){if(t&1&&(i(0,"tr")(1,"td",7),r(2),n(),i(3,"td"),r(4),T(5,"titlecase"),n(),i(6,"td",12),r(7),n(),i(8,"td",13),r(9),n()()),t&2){let e=a.$implicit,s=a.index,c=d(3);o(2),f((c.pagination.cur_page-1)*c.pagination.limit+s+1),o(2),f(e.product_name?F(5,4,e.product_name):"---"),o(3),f(e.product_code?e.product_code:"---"),o(2),f(e.total_quantity?e.total_quantity:"0")}}function Vn(t,a){if(t&1&&(v(0),u(1,An,10,6,"tr",16),x()),t&2){let e=d(2);o(),l("ngForOf",e.stockList)}}function Nn(t,a){t&1&&(i(0,"tr")(1,"td",7),p(2,"app-skeleton"),n(),i(3,"td"),p(4,"app-skeleton"),n(),i(5,"td",12),p(6,"app-skeleton"),n(),i(7,"td",12),p(8,"app-skeleton"),n()()),t&2&&(o(2),y("h20 bg-skeleton"),o(2),y("h20 bg-skeleton"),o(2),y("h20 bg-skeleton"),o(2),y("h20 bg-skeleton"))}function Bn(t,a){t&1&&(v(0),u(1,Nn,9,8,"tr",16),x()),t&2&&(o(),l("ngForOf",w(1,Fn).constructor(10)))}function jn(t,a){t&1&&(v(0),p(1,"app-data-not-found"),x())}function Hn(t,a){if(t&1){let e=h();v(0),i(1,"div",4)(2,"spk-reusable-tables",5)(3,"tr",6)(4,"td",7),r(5,"\xA0"),n(),i(6,"td")(7,"div",8)(8,"mat-form-field",9)(9,"input",10),ie("ngModelChange",function(c){_(e);let m=d();return te(m.filter.product_name,c)||(m.filter.product_name=c),g(c)}),b("keyup.enter",function(){_(e);let c=d();return g(c.getStock())}),n(),u(10,Pn,3,0,"button",11),n()()(),i(11,"td",12)(12,"div",8)(13,"mat-form-field",9)(14,"input",10),ie("ngModelChange",function(c){_(e);let m=d();return te(m.filter.product_code,c)||(m.filter.product_code=c),g(c)}),b("keyup.enter",function(){_(e);let c=d();return g(c.getStock())}),n(),u(15,Rn,3,0,"button",11),n()()(),i(16,"td",13),r(17,"\xA0"),n()(),u(18,Vn,2,1,"ng-container",2)(19,Bn,2,2,"ng-container",2),n()(),u(20,jn,2,0,"ng-container",2),i(21,"app-pagination-footer",14),b("preButtonClick",function(){_(e);let c=d();return g(c.changeToPagination("Previous"))})("nextButtonClick",function(){_(e);let c=d();return g(c.changeToPagination("Next"))})("pageChange",function(c){_(e);let m=d();return g(m.changeToPage(c))}),n(),x()}if(t&2){let e=d();o(2),l("columns",e.getColumns())("showCheckbox",!1),o(7),ee("ngModel",e.filter.product_name),o(),Z(e.filter.product_name?10:-1),o(4),ee("ngModel",e.filter.product_code),o(),Z(e.filter.product_code?15:-1),o(3),l("ngIf",!e.skLoading),o(),l("ngIf",e.skLoading),o(),l("ngIf",e.stockList.length===0&&!e.skLoading),o(),l("currentPage",e.pagination.cur_page)("totalPage",e.pagination.total_pages?e.pagination.total_pages:0)("pageLimit",e.pagination.limit)("listLength",e.stockList.length)("preBtn",!e.pagination.prev)("nextBtn",!e.pagination.next)}}function Yn(t,a){if(t&1&&(v(0),p(1,"app-company-stock-transfer-list",17),x()),t&2){let e=d();o(),l("pageHeader",!1)("stockType","company")("_id",e.basicDetail._id)}}function Gn(t,a){if(t&1&&(v(0),p(1,"app-customer-stock-transfer-list",18),x()),t&2){let e=d();o(),l("pageHeader",!1)("btnLabel",e.activeTab==="Purchase Request"?"Purchase Request":"Stock Transfer")("stockType","customer")("mainTab",e.activeTab)("customerDetail",e.basicDetail)("_id",e.basicDetail._id)}}function zn(t,a){if(t&1&&(v(0),p(1,"app-stock-return-list",19),x()),t&2){let e=d();o(),l("pageHeader",!1)("_id",e.basicDetail._id)}}function Wn(t,a){if(t&1&&(v(0),p(1,"app-customer-stock-return-list",20),x()),t&2){let e=d();o(),l("pageHeader",!1)("tabView",e.basicDetail.login_type_id!==e.LOGIN_TYPES.INFLUENCER)("customerDetail",e.basicDetail)("_id",e.basicDetail._id)}}var tt=class t{constructor(a,e,s,c){this.api=a;this.comanFuncation=e;this.highlightService=s;this.date=c}basicDetail;activeTab="Stock";pagination={};skLoading=!1;data_hide=!0;stockList=[];filter={};pageKey="stock";LOGIN_TYPES=S;ngOnInit(){let a=this.highlightService.getHighlight(this.pageKey);a!=null?(this.activeTab=a.tab,this.highlightService.clearHighlight(this.pageKey)):this.basicDetail.login_type_id===S.PRIMARY||this.basicDetail.login_type_id===S.SUB_PRIMARY?(this.activeTab="Stock",this.getStock()):(this.activeTab="Purchase Request",this.basicDetail.pageFrom=this.activeTab)}ngOnChanges(){}mainTabs(){return[...this.showForLoginTypes([S.PRIMARY,S.SUB_PRIMARY,S.SALES_VENDOR])?[{name:"Stock",label:"In Stock",icon:"ri-checkbox-circle-fill"},{name:"Out of stock",label:"Out of Stock",icon:"ri-close-circle-fill"},{name:"Company To Customer",label:"Purchase",icon:"ri-exchange-box-fill"}]:[],...this.showForLoginTypes([S.PRIMARY,S.SUB_PRIMARY])?[{name:"Purchase Return",label:"Purchase Return",icon:"ri-arrow-go-back-fill"}]:[],...this.showForLoginTypes([S.INFLUENCER,S.SECONDARY])?[{name:"Purchase Request",label:"Purchase Request",icon:"ri-exchange-box-fill"}]:[],...this.showForLoginTypes([S.PRIMARY,S.SUB_PRIMARY,S.SECONDARY])?[{name:"Stock Transfer",label:"Stock Transfer",icon:"ri-checkbox-circle-fill"}]:[],...this.showForLoginTypes([S.INFLUENCER,S.PRIMARY,S.SUB_PRIMARY,S.SECONDARY])?[{name:"Stock Return",label:"Stock Return",icon:"ri-arrow-go-back-fill"}]:[]]}onTabChange(a){this.activeTab=a,(a==="Stock"||a==="Out of stock")&&this.getStock(),(a==="Stock Transfer"||a==="Purchase Request")&&(this.basicDetail.pageFrom=a),this.setHighLight()}getColumns(){return[{label:"S.no.",field:"S.no."},{label:"Product Name",field:"Product Name"},{label:"Product Code",field:"Product Code"},{label:"Qty	",field:"Qty",tableHeadColumn:"text-center"}]}getStock(){this.skLoading=!0,this.api.post({filters:this.filter,customer_id:this.basicDetail._id,activeTab:this.activeTab,page:this.pagination.cur_page??1},"stock-transfer/stock").subscribe(a=>{a.statusCode===200&&(this.stockList=a.data.result,this.pagination=a.pagination,this.skLoading=!1)})}setHighLight(){this.comanFuncation.setHighLight(this.pageKey,"",this.activeTab,"","")}changeToPagination(a){a=="Previous"?this.pagination.prev&&this.pagination.cur_page>1&&(this.pagination.cur_page--,this.getStock()):this.pagination.next&&(this.pagination.cur_page++,this.getStock())}changeToPage(a){this.pagination.cur_page=a,this.getStock()}showForLoginTypes(a,e={}){let s=a.includes(this.basicDetail.login_type_id);return e.exclude?!s:s}static \u0275fac=function(e){return new(e||t)(C(P),C(ce),C($e),C(re))};static \u0275cmp=E({type:t,selectors:[["app-stock"]],inputs:{basicDetail:"basicDetail"},features:[ve],decls:8,vars:6,consts:[["aria-label","Tabs","role","tablist",1,"sm:flex","sm:space-x-2","sm:rtl:space-x-reverse","gap-1"],[3,"tabs","activeTab","countShow","tabChange",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"tabChange","tabs","activeTab","countShow"],[1,"table-responsive","overflow-auto","table-bordered-default"],["tableClass","ti-custom-table ti-custom-table-head ti-custom-table-hover ti-head-primary whitespace-nowrap",3,"columns","showCheckbox"],[1,"todo-box","border-b","!border-defaultborder","dark:!border-defaultborder/10"],[1,"w50"],[1,"table-search-filters"],[1,"table-input"],["matInput","","type","text","placeholder","Search...",3,"ngModelChange","keyup.enter","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear"],[1,"w150"],[1,"w120","text-center"],[3,"preButtonClick","nextButtonClick","pageChange","currentPage","totalPage","pageLimit","listLength","preBtn","nextBtn"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[4,"ngFor","ngForOf"],[3,"pageHeader","stockType","_id"],[3,"pageHeader","btnLabel","stockType","mainTab","customerDetail","_id"],[3,"pageHeader","_id"],[3,"pageHeader","tabView","customerDetail","_id"]],template:function(e,s){e&1&&(i(0,"app-showcode-card")(1,"nav",0),u(2,On,1,9,"app-listing-tab",1),n(),u(3,Hn,22,15,"ng-container",2)(4,Yn,2,3,"ng-container",2)(5,Gn,2,6,"ng-container",2)(6,zn,2,2,"ng-container",2)(7,Wn,2,4,"ng-container",2),n()),e&2&&(o(2),l("ngForOf",s.mainTabs()),o(),l("ngIf",s.activeTab==="Stock"||s.activeTab==="Out of stock"),o(),l("ngIf",s.activeTab==="Company To Customer"),o(),l("ngIf",s.activeTab==="Purchase Request"||s.activeTab==="Stock Transfer"),o(),l("ngIf",s.activeTab==="Purchase Return"),o(),l("ngIf",s.activeTab==="Stock Return"))},dependencies:[Y,I,O,L,Te,se,ze,j,R,H,B,Be,je,He,Ne,Ve,N,Ie,ae,Le,ti,ei,ni,ii],encapsulation:2})};var Un=["swiperContainer"],$n=()=>["Customer Detail"],he=t=>[t],J=()=>({exclude:!0}),de=(t,a)=>[t,a],bi=(t,a,e,s)=>({"text-success":t,"text-warning":a,"text-danger":e,"text-primary":s}),qn=(t,a,e,s)=>[t,a,e,s],Kn=(t,a,e,s)=>({"ribbon-success":t,"ribbon-warning":a,"ribbon-danger":e,"ribbon-primary":s}),it=()=>[],nt=t=>({active:t});function Jn(t,a){if(t&1&&(i(0,"div",50)(1,"span"),r(2),n()()),t&2){let e=d(3);l("ngClass",_e(2,Kn,e.basicDetail.profile_status==="Approved",e.basicDetail.profile_status==="Pending",e.basicDetail.profile_status==="Reject",e.basicDetail.profile_status==="Reject")),o(2),f(e.basicDetail.profile_status?e.basicDetail.profile_status:"")}}function Xn(t,a){if(t&1&&(i(0,"div",54)(1,"div")(2,"span"),p(3,"i"),n()(),i(4,"div")(5,"span",30),r(6),n()(),i(7,"div",55)(8,"span"),p(9,"i",56),n()()()),t&2){let e=a.$implicit,s=d(4);o(2),ue("avatar avatar-sm bg-",s.comanFuncation.getSocialStyles(e.title).bg,"/10 !text-",s.comanFuncation.getSocialStyles(e.title).bg,""),o(),ue("ri-",s.comanFuncation.getSocialStyles(e.title).icon,"-fill text-[1rem] text-",s.comanFuncation.getSocialStyles(e.title).textcolor,""),o(3),f(e.title)}}function Qn(t,a){t&1&&(i(0,"div")(1,"p"),r(2,"No Data Available"),n()())}function Zn(t,a){if(t&1&&(v(0),i(1,"div",51),r(2,"Socail Engagement"),n(),i(3,"div",52),u(4,Xn,10,9,"div",53)(5,Qn,3,0,"div",7),n(),x()),t&2){let e=d(3);o(4),l("ngForOf",e.socialLinks),o(),l("ngIf",e.socialLinks.length===0&&!e.skLoading)}}function ea(t,a){if(t&1&&(i(0,"div",59)(1,"div")(2,"span"),p(3,"i"),n()(),i(4,"div")(5,"span",30),r(6),n(),i(7,"span",29),r(8),n()()()),t&2){let e=a.$implicit;o(2),V("avatar avatar-md ",e.class,""),o(),V("",e.icon," text-[1rem]"),o(3),f(e.value),o(2),f(e.label)}}function ta(t,a){if(t&1&&(i(0,"div",57),u(1,ea,9,8,"div",58),n()),t&2){let e=d(3);o(),l("ngForOf",e.statsCounts)}}function ia(t,a){if(t&1&&(i(0,"div",62)(1,"div")(2,"span",30),r(3),n(),i(4,"span",29),r(5,"Reason"),n()()()),t&2){let e=d(4);o(3),D(" ",e.kyc.status_remark?e.kyc.status_remark:""," ")}}function na(t,a){t&1&&(i(0,"div")(1,"p"),r(2,"No Data Available"),n()())}function aa(t,a){if(t&1){let e=h();v(0),i(1,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("kyc",c.kyc))}),i(2,"ul",26)(3,"li")(4,"div",61)(5,"div",62)(6,"div")(7,"span",63),r(8),n(),i(9,"span",29),r(10,"Status"),n()()(),u(11,ia,6,1,"div",64),i(12,"div",62)(13,"div")(14,"span",30),r(15),n(),i(16,"span",29),r(17,"Last status changed by"),n()()(),i(18,"div",65)(19,"div")(20,"span",30),r(21),T(22,"date"),n(),i(23,"span",29),r(24,"Last status changed On"),n()()()(),u(25,na,3,0,"div",7),n()()(),x()}if(t&2){let e=d(3);o(),y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Kyc Status")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-pencil-line"),o(6),l("ngClass",_e(17,bi,e.kyc.kyc_status==="Verified",e.kyc.kyc_status==="Pending",e.kyc.kyc_status==="Reject",e.kyc.kyc_status==="Suspect")),o(),D(" ",e.kyc.kyc_status?e.kyc.kyc_status:""," "),o(3),l("ngIf",e.kyc.kyc_status=="Reject"||e.kyc.kyc_status=="Suspect"),o(4),f(e.kyc.created_name?e.kyc.created_name:"---"),o(6),f(e.kyc.updated_at?A(22,14,e.kyc.updated_at,"dd MMM yyyy hh:mm a"):"---"),o(4),l("ngIf",e.socialLinks.length===0&&!e.skLoading)}}function oa(t,a){if(t&1&&(i(0,"div",28)(1,"div")(2,"span",29),r(3,"Customer Code"),n(),i(4,"span",30),r(5),n()()()),t&2){let e=d(3);o(5),f(e.basicDetail.customer_code?e.basicDetail.customer_code:"---")}}function ra(t,a){if(t&1){let e=h();i(0,"app-toggle",66),b("checkedChange",function(c){_(e);let m=d(3);return g(m.onToggleChange(c,m.basicDetail==null?null:m.basicDetail._id,m.basicDetail==null?null:m.basicDetail.status))}),n()}if(t&2){let e=d(3);y("ti-switch-custom"),l("checked",(e.basicDetail==null?null:e.basicDetail.status)==="Active")}}function sa(t,a){if(t&1){let e=h();i(0,"app-icon-button",67),b("click",function(){_(e);let c=d(3);return g(c.openModal("profile_status"))}),n()}t&2&&l("icon","ri-pencil-line")("buttonClass","btn-wave ti-btn ti-btn-sm ti-btn-soft-primary waves-effect waves-light")}function la(t,a){if(t&1&&(v(0),r(1),T(2,"date"),x()),t&2){let e=d().$implicit;o(),D(" ",A(2,1,e.value,"d MMM yyyy")," ")}}function ca(t,a){if(t&1&&r(0),t&2){let e=d().$implicit;D(" ",e.value||"--"," ")}}function da(t,a){if(t&1&&(i(0,"div",32)(1,"div")(2,"span",33),r(3),n(),i(4,"span",68),u(5,la,3,4,"ng-container",69)(6,ca,1,1,"ng-template",null,0,mt),n()()()),t&2){let e=a.$implicit,s=lt(7);o(3),f(e.key),o(2),l("ngIf",e.key.toLowerCase().includes("date")||e.key.toLowerCase().endsWith("_at"))("ngIfElse",s)}}function pa(t,a){t&1&&(i(0,"li",70)(1,"p"),r(2,"No Data Available"),n()())}function ma(t,a){if(t&1&&(i(0,"li",70)(1,"div",72)(2,"span",73),r(3),n(),i(4,"div",74),r(5),T(6,"titlecase"),n()()()),t&2){let e=a.$implicit,s=d(4);o(3),D(" ",s.nameUtils.getInitials(e.user_name)," "),o(2),Se(" ",e.user_name?F(6,3,e.user_name):"---"," ",e.user_code?"("+e.user_code+")":""," ")}}function ua(t,a){t&1&&(i(0,"li",70)(1,"p"),r(2,"No Data Available"),n()())}function _a(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("assign_user"))}),i(1,"ul",26),u(2,ma,7,5,"li",71)(3,ua,3,0,"li",46),n()()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Assigned Sales User")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName",e.assignUsers.length>0?"ri-pencil-line":"ri-add-line"),o(2),l("ngForOf",e.assignUsers),o(),l("ngIf",e.assignUsers.length===0)}}function ga(t,a){t&1&&(i(0,"div")(1,"p"),r(2,"No Data Available"),n()())}function fa(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("other_information"))}),i(1,"ul",26)(2,"li")(3,"div",27)(4,"div",28)(5,"div")(6,"span",30),r(7),n(),i(8,"span",29),r(9," GST Number "),n()()(),i(10,"div",28)(11,"div")(12,"span",30),r(13),n(),i(14,"span",29),r(15," Credit Limit "),n()()(),i(16,"div",28)(17,"div")(18,"span",30),r(19),n(),i(20,"span",29),r(21," Credit Day's "),n()()(),i(22,"div",28)(23,"div")(24,"span",30),r(25),n(),i(26,"span",29),r(27," Beat Code "),n()()(),i(28,"div",28)(29,"div")(30,"span",30),r(31),n(),i(32,"span",29),r(33," Beat Code Description "),n()()()()()(),u(34,ga,3,0,"div",7),n()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Other Information")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName",e.otherDetail?"ri-pencil-line":"ri-add-line"),o(7),D(" ",e.otherDetail.gst_number?e.otherDetail.gst_number:"---"," "),o(6),D(" ",e.otherDetail.credit_limit?"\u20B9"+e.otherDetail.credit_limit:"---"," "),o(6),D(" ",e.otherDetail.credit_days?e.otherDetail.credit_days:"---"," "),o(6),D(" ",e.otherDetail.beat_code?e.otherDetail.beat_code:"---"," "),o(6),D(" ",e.otherDetail.beat_code_desc?e.otherDetail.beat_code_desc:"---"," "),o(3),l("ngIf",!e.otherDetail)}}function ba(t,a){if(t&1){let e=h();i(0,"app-icon-button",80),b("clickEvent",function(){_(e);let c=d().$implicit,m=d(4);return g(m.openModal("shipping_address",c))}),n()}t&2&&l("icon","ri-edit-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-success waves-effect waves-light")}function ha(t,a){if(t&1){let e=h();i(0,"app-icon-button",80),b("clickEvent",function(){_(e);let c=d().$implicit,m=d(4);return g(m.delete(c._id,"customer/delete-shipping-address","Shipping Address"))}),n()}t&2&&l("icon","ri-delete-bin-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-danger waves-effect waves-light")}function va(t,a){if(t&1&&(i(0,"div",76)(1,"div",77)(2,"div")(3,"span",30),r(4),n(),i(5,"span",29),r(6),n()()(),i(7,"div",78),u(8,ba,1,2,"app-icon-button",79)(9,ha,1,2,"app-icon-button",79),n()()),t&2){let e=a.$implicit,s=a.index,c=d(4);o(4),D("Address ",s+1,""),o(2),dt(" ",e.shipping_address?e.shipping_address+",":""," ",e.shipping_city?e.shipping_city+",":""," ",e.shipping_district?e.shipping_district+",":""," ",e.shipping_state?e.shipping_state+",":""," ",e.shipping_pincode?e.shipping_pincode+"":""," "),o(2),l("ngIf",c.accessRight==null?null:c.accessRight.modifyRight),o(),l("ngIf",c.accessRight==null?null:c.accessRight.deleteRight)}}function xa(t,a){t&1&&(i(0,"div")(1,"p"),r(2,"No Data Available"),n()())}function Ca(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("shipping_address"))}),u(1,va,10,8,"div",75)(2,xa,3,0,"div",7),n()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Shipping Address")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName",e.shippingAddress.length>0?"ri-pencil-line":"ri-add-line"),o(),l("ngForOf",e.shippingAddress),o(),l("ngIf",e.shippingAddress.length===0)}}function ya(t,a){if(t&1&&(i(0,"li",70)(1,"div",72)(2,"span",73),r(3),n(),i(4,"div",74),r(5),T(6,"titlecase"),n()()()),t&2){let e=a.$implicit,s=d(4);o(3),D(" ",s.nameUtils.getInitials(e.parent_customer_name)," "),o(2),Se(" ",e.parent_customer_name?F(6,3,e.parent_customer_name):"---"," ",e.user_code?"("+e.user_code+")":""," ")}}function Sa(t,a){t&1&&(i(0,"li",70)(1,"p"),r(2,"No Data Available"),n()())}function wa(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("assign_distibutor"))}),i(1,"ul",26),u(2,ya,7,5,"li",71)(3,Sa,3,0,"li",46),n()()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Assigned Distributor")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName",e.assignDistributor.length>0?"ri-pencil-line":"ri-add-line"),o(2),l("ngForOf",e.assignDistributor),o(),l("ngIf",e.assignDistributor.length===0)}}function Da(t,a){if(t&1){let e=h();i(0,"app-icon-button",80),b("clickEvent",function(){_(e);let c=d().$implicit,m=d(4);return g(m.openModal("contact_person",c))}),n()}t&2&&l("icon","ri-edit-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-success waves-effect waves-light")}function ka(t,a){if(t&1){let e=h();i(0,"app-icon-button",80),b("clickEvent",function(){_(e);let c=d().$implicit,m=d(4);return g(m.delete(c._id,"customer/delete-contact-person-info","Contact Person"))}),n()}t&2&&l("icon","ri-delete-bin-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-danger waves-effect waves-light")}function Ta(t,a){if(t&1&&(i(0,"li")(1,"div",83)(2,"div",84)(3,"div")(4,"span",85),r(5),T(6,"titlecase"),T(7,"titlecase"),n(),i(8,"p",29),r(9),n()()(),i(10,"div",78),u(11,Da,1,2,"app-icon-button",79)(12,ka,1,2,"app-icon-button",79),n()()()),t&2){let e=a.$implicit,s=d(4);o(5),Se(" ",e.contact_person_name?F(6,5,e.contact_person_name):"---"," (",e.designation?F(7,7,e.designation):"---",")"),o(4),D(" ",e.contact_person_mobile?e.contact_person_mobile:"---",""),o(2),l("ngIf",s.accessRight==null?null:s.accessRight.modifyRight),o(),l("ngIf",s.accessRight==null?null:s.accessRight.deleteRight)}}function Ea(t,a){t&1&&(i(0,"li")(1,"p"),r(2,"No Data Available"),n()())}function Ia(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("contact_person"))}),i(1,"ul",81),u(2,Ta,13,9,"li",82)(3,Ea,3,0,"li",7),n()()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Contact Person")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),o(2),l("ngForOf",e.contactPerson),o(),l("ngIf",e.contactPerson.length===0)}}function La(t,a){if(t&1){let e=h();i(0,"app-icon-button",80),b("clickEvent",function(){_(e);let c=d().$implicit,m=d(4);return g(m.openModal("marka",c))}),n()}t&2&&l("icon","ri-edit-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-success waves-effect waves-light")}function Ma(t,a){if(t&1){let e=h();i(0,"app-icon-button",80),b("clickEvent",function(){_(e);let c=d().$implicit,m=d(4);return g(m.delete(c._id,"customer/delete-marka","Marka"))}),n()}t&2&&l("icon","ri-delete-bin-line")("buttonClass","ti-btn btn-wave  ti-btn-sm ti-btn-soft-danger waves-effect waves-light")}function Fa(t,a){if(t&1&&(i(0,"li")(1,"div",83)(2,"div",84)(3,"div")(4,"span",85),r(5),n()()(),i(6,"div",78),u(7,La,1,2,"app-icon-button",79)(8,Ma,1,2,"app-icon-button",79),n()()()),t&2){let e=a.$implicit,s=d(4);o(5),D(" ",e.marka?e.marka:"---",""),o(2),l("ngIf",s.accessRight==null?null:s.accessRight.modifyRight),o(),l("ngIf",s.accessRight==null?null:s.accessRight.deleteRight)}}function Oa(t,a){t&1&&(i(0,"li")(1,"p"),r(2,"No Data Available"),n()())}function Pa(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("marka"))}),i(1,"ul",81),u(2,Fa,9,3,"li",82)(3,Oa,3,0,"li",7),n()()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Marka")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),o(2),l("ngForOf",e.marka),o(),l("ngIf",e.marka.length===0)}}function Ra(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("bank"))}),i(1,"ul",26)(2,"li")(3,"div",27)(4,"div",28)(5,"div")(6,"span",30),r(7),T(8,"titlecase"),n(),i(9,"span",29),r(10,"Beneficiary Name"),n()()(),i(11,"div",28)(12,"div")(13,"span",30),r(14),T(15,"titlecase"),n(),i(16,"span",29),r(17,"Bank Name"),n()()(),i(18,"div",28)(19,"div")(20,"span",30),r(21),n(),i(22,"span",29),r(23,"Account Number"),n()()(),i(24,"div",28)(25,"div")(26,"span",30),r(27),n(),i(28,"span",29),r(29,"IFSC Code"),n()()(),i(30,"div",28)(31,"div")(32,"span",30),r(33),n(),i(34,"span",29),r(35,"Branch Name"),n()()(),i(36,"div",28)(37,"div")(38,"span",30),r(39),n(),i(40,"span",29),r(41,"UPI ID"),n()()()()()()()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Bank Details")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line")("iconName",e.bankDetail?"ri-pencil-line":"ri-add-line"),o(7),f(e.bankDetail.beneficiary_name?F(8,15,e.bankDetail.beneficiary_name):"---"),o(7),f(e.bankDetail.bank_name?F(15,17,e.bankDetail.bank_name):"---"),o(7),f(e.bankDetail.account_no?e.bankDetail.account_no:"---"),o(6),f(e.bankDetail.ifsc_code?e.bankDetail.ifsc_code:"---"),o(6),f(e.bankDetail.branch_name?e.bankDetail.branch_name:"---"),o(6),f(e.bankDetail.upi_id?e.bankDetail.upi_id:"---")}}function Aa(t,a){if(t&1){let e=h();i(0,"div",89)(1,"spk-product-card",90),b("edit",function(){let c=_(e).$implicit,m=d(4);return g(m.openModal("document_image",c))})("editNumber",function(){let c=_(e).$implicit,m=d(4);return g(m.openModal("document_number",c))})("delete",function(){let c=_(e).$implicit,m=d(4);return g(m.delete(c._id,"customer/-file","delete"))}),n()()}if(t&2){let e=a.$implicit,s=d(4);o(),l("apiPath","customer/get-doc")("imageData",e)("delBtn",!1)("editBtn",s.accessRight==null?null:s.accessRight.modifyRight)("heading",!0)("subHeading",!0)}}function Va(t,a){t&1&&(i(0,"ul",26)(1,"li")(2,"p"),r(3,"No Data Available"),n()()())}function Na(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("document"))}),i(1,"div",86),u(2,Aa,2,6,"div",87),n(),u(3,Va,4,0,"ul",88),n()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Document Detail")("titleView",!0)("actionIcons",e.document.length===0)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),o(2),l("ngForOf",e.document),o(),l("ngIf",e.document.length===0)}}function Ba(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("point_location"))}),i(1,"ul",26)(2,"li",70),p(3,"app-spk-maps",91),n()()()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Point Location")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),o(3),l("data",e.otherDetail)}}function ja(t,a){if(t&1){let e=h();i(0,"div",95)(1,"spk-product-card",96),b("delete",function(){let c=_(e).$implicit,m=d(5);return g(m.delete(c._id,"customer/delete-file","delete"))}),n()()}if(t&2){let e=a.$implicit;o(),l("apiPath","customer/get-doc")("imageData",e)("editBtn",!1)("heading",!1)("subHeading",!1)}}function Ha(t,a){if(t&1&&(i(0,"div",93),u(1,ja,2,5,"div",94),n()),t&2){let e=d(4);o(),l("ngForOf",e.shopGallery)}}function Ya(t,a){t&1&&p(0,"app-data-not-found")}function Ga(t,a){if(t&1){let e=h();i(0,"app-showcode-card",60),b("action",function(){_(e);let c=d(3);return g(c.openModal("shop_gallery"))}),u(1,Ha,2,1,"div",92)(2,Ya,1,0,"app-data-not-found",7),n()}if(t&2){let e=d(3);y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Shop Gallery")("titleView",!0)("actionIcons",e.accessRight==null?null:e.accessRight.modifyRight)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),o(),l("ngIf",e.shopGallery.length>0),o(),l("ngIf",e.shopGallery.length===0)}}function za(t,a){if(t&1){let e=h();i(0,"div",9)(1,"div",10)(2,"app-showcode-card")(3,"div",11),u(4,Jn,3,7,"div",12),i(5,"div",13)(6,"div",14),X(),i(7,"svg",15),p(8,"circle",16),i(9,"g",17),p(10,"circle",18),n()(),Q(),i(11,"span",19)(12,"img",20),b("error",function(c){_(e);let m=d(2);return g(m.onError(c))})("click",function(){_(e);let c=d(2);return g((c.profilePic==null?null:c.profilePic.signed_url)&&c.comanFuncation.zoom(c.profilePic==null?null:c.profilePic._id,"customer/get-doc"))}),n()()(),i(13,"h5",21),r(14),n(),i(15,"span",22),r(16),n()()(),u(17,Zn,6,2,"ng-container",7)(18,ta,2,1,"div",23),n(),u(19,aa,26,22,"ng-container",7),n(),i(20,"div",24)(21,"div",9)(22,"div",3)(23,"app-showcode-card",25)(24,"ul",26)(25,"li")(26,"div",27)(27,"div",28)(28,"div")(29,"span",29),r(30,"Date Created"),n(),i(31,"span",30),r(32),T(33,"date"),n()()(),i(34,"div",28)(35,"div")(36,"span",29),r(37,"Customer Type"),n(),i(38,"span",30),r(39),n()()(),i(40,"div",28)(41,"div")(42,"span",29),r(43,"Name"),n(),i(44,"span",30),r(45),n()()(),u(46,oa,6,1,"div",31),i(47,"div",28)(48,"div")(49,"span",29),r(50,"Mobile No."),n(),i(51,"span",30),r(52),n()()(),i(53,"div",28)(54,"div")(55,"span",29),r(56,"Alternative Mobile No."),n(),i(57,"span",30),r(58),n()()(),i(59,"div",28)(60,"div")(61,"span",29),r(62,"Address"),n(),i(63,"span",30),r(64),n()()(),i(65,"div",32)(66,"div")(67,"span",33),r(68,"First App Login"),n(),i(69,"span",30),r(70),T(71,"date"),n()()(),i(72,"div",32)(73,"div")(74,"span",33),r(75,"Last App Login"),n(),i(76,"span",30),r(77),T(78,"date"),n()()(),i(79,"div",34)(80,"div")(81,"span",35),r(82,"App Login Status"),n(),i(83,"div",36)(84,"span",37),r(85),n(),u(86,ra,1,3,"app-toggle",38),n()()(),i(87,"div",39)(88,"div")(89,"span",29),r(90,"Status"),n(),i(91,"span",40),r(92),n()(),u(93,sa,1,2,"app-icon-button",41),n(),i(94,"div",28)(95,"div")(96,"span",42),r(97,"Device Information"),n(),i(98,"span",30),r(99),n()()(),i(100,"div",28)(101,"div")(102,"span",42),r(103,"Updated At"),n(),i(104,"span",30),r(105),T(106,"date"),n()()(),i(107,"div",28)(108,"div")(109,"span",42),r(110,"Updated By"),n(),i(111,"span",30),r(112),n()()()(),p(113,"div",43),i(114,"div",44),u(115,da,8,3,"div",45),T(116,"keyvalue"),n()(),u(117,pa,3,0,"li",46),n()()(),i(118,"div",47),u(119,_a,4,10,"app-showcode-card",48)(120,fa,35,14,"app-showcode-card",48)(121,Ca,3,10,"app-showcode-card",48)(122,wa,4,10,"app-showcode-card",48)(123,Ia,4,10,"app-showcode-card",48)(124,Pa,4,10,"app-showcode-card",48)(125,Ra,42,19,"app-showcode-card",48)(126,Na,4,10,"app-showcode-card",48),n(),i(127,"div",47)(128,"div"),p(129,"app-logs",49),n(),u(130,Ba,4,9,"app-showcode-card",48)(131,Ga,3,10,"app-showcode-card",48),n()()()()}if(t&2){let e=d(2);o(4),l("ngIf",e.customerLoginType==="Influencer"),o(2),ye("matTooltip","Profile completed "+e.profileNumber+"%"),o(4),l("ngClass",e.profileNumber<=50?"text-danger":e.profileNumber>50&&e.profileNumber<=75?"text-warning":e.profileNumber>75?"text-success":""),Ce("stroke-dashoffset",100-e.profileNumber),o(2),at("object-contain",e.isFallback),l("src",e.profilePic==null?null:e.profilePic.signed_url,xe),o(2),f(e.basicDetail.customer_name?e.basicDetail.customer_name:""),o(2),f(e.basicDetail.customer_type_name?e.basicDetail.customer_type_name:""),o(),l("ngIf",e.showForLoginTypes(k(70,he,e.LOGIN_TYPES.SALES_VENDOR),w(72,J))),o(),l("ngIf",e.showForLoginTypes(U(73,de,e.LOGIN_TYPES.INFLUENCER,e.LOGIN_TYPES.SALES_VENDOR),w(76,J))),o(),l("ngIf",e.customerLoginType==="Influencer"),o(4),y("box-title font-medium text-[15px] block text-primarytint1color"),l("title","Basic Detail")("titleView",!0),o(9),f(e.basicDetail.created_at?A(33,56,e.basicDetail.created_at,"dd MMM yyyy hh:mm a"):"---"),o(7),f(e.basicDetail.customer_type_name?e.basicDetail.customer_type_name:"---"),o(6),f(e.basicDetail.customer_name?e.basicDetail.customer_name:"---"),o(),l("ngIf",e.basicDetail==null?null:e.basicDetail.customer_code),o(6),f(e.basicDetail.mobile?e.basicDetail.mobile:"---"),o(6),f(e.basicDetail.alt_mobile_no?e.basicDetail.alt_mobile_no:"---"),o(6),pt("",e.basicDetail.address?e.basicDetail.address+",":""," ",e.basicDetail.city?e.basicDetail.city+",":""," ",e.basicDetail.district?e.basicDetail.district+",":""," ",e.basicDetail.state?e.basicDetail.state+",":""," ",e.basicDetail.pincode?e.basicDetail.pincode+"":""," ",e.basicDetail.country?e.basicDetail.country+"":"",""),o(6),f(e.basicDetail!=null&&e.basicDetail.first_app_login?A(71,59,e.basicDetail==null?null:e.basicDetail.first_app_login,"d MMM yyyy, hh:mm a"):"--"),o(7),f(e.basicDetail!=null&&e.basicDetail.latest_app_login?A(78,62,e.basicDetail==null?null:e.basicDetail.latest_app_login,"d MMM yyyy, hh:mm a"):"--"),o(7),l("ngClass",(e.basicDetail==null?null:e.basicDetail.status)==="Active"?"bg-success/10 text-success":"bg-danger/10 text-danger"),o(),f(e.basicDetail==null?null:e.basicDetail.status),o(),l("ngIf",e.accessRight==null?null:e.accessRight.approveRight),o(5),l("ngClass",_e(77,bi,e.basicDetail.profile_status==="Approved"||e.basicDetail.profile_status==="Active",e.basicDetail.profile_status==="Pending",e.basicDetail.profile_status==="Reject"||e.basicDetail.profile_status==="Inactive",e.basicDetail.profile_status==="Suspect")),o(),D(" ",e.basicDetail.profile_status?e.basicDetail.profile_status:""," "),o(),l("ngIf",e.customerLoginType=="Influencer"&&(e.accessRight==null?null:e.accessRight.approveRight)),o(6),ct("",!(e.basicDetail==null||e.basicDetail.device_info==null)&&e.basicDetail.device_info.brand?(e.basicDetail==null||e.basicDetail.device_info==null?null:e.basicDetail.device_info.brand)+",":""," ",!(e.basicDetail==null||e.basicDetail.device_info==null)&&e.basicDetail.device_info.model?(e.basicDetail==null||e.basicDetail.device_info==null?null:e.basicDetail.device_info.model)+",":""," ",!(e.basicDetail==null||e.basicDetail.device_info==null)&&e.basicDetail.device_info.system_name?(e.basicDetail==null||e.basicDetail.device_info==null?null:e.basicDetail.device_info.system_name)+",":""," ",!(e.basicDetail==null||e.basicDetail.device_info==null)&&e.basicDetail.device_info.system_version?(e.basicDetail==null||e.basicDetail.device_info==null?null:e.basicDetail.device_info.system_version)+",":"",""),o(6),f(e.basicDetail!=null&&e.basicDetail.updated_at?A(106,65,e.basicDetail==null?null:e.basicDetail.updated_at,"d MMM yyyy"):"--"),o(7),f((e.basicDetail==null?null:e.basicDetail.updated_name)||"--"),o(3),l("ngForOf",F(116,68,e.formattedKeysFormData)),o(2),l("ngIf",e.assignUsers.length===0),o(2),l("ngIf",e.showForLoginTypes(_e(82,qn,e.LOGIN_TYPES.INFLUENCER,e.LOGIN_TYPES.PRIMARY,e.LOGIN_TYPES.SUB_PRIMARY,e.LOGIN_TYPES.SECONDARY))),o(),l("ngIf",e.showForLoginTypes(U(87,de,e.LOGIN_TYPES.INFLUENCER,e.LOGIN_TYPES.SALES_VENDOR),w(90,J))),o(),l("ngIf",e.showForLoginTypes(U(91,de,e.LOGIN_TYPES.INFLUENCER,e.LOGIN_TYPES.SALES_VENDOR),w(94,J))),o(),l("ngIf",e.showForLoginTypes(k(95,he,e.LOGIN_TYPES.SECONDARY))),o(),l("ngIf",e.showForLoginTypes(k(97,he,e.LOGIN_TYPES.INFLUENCER),w(99,J))),o(),l("ngIf",e.showForLoginTypes(U(100,de,e.LOGIN_TYPES.PRIMARY,e.LOGIN_TYPES.SUB_PRIMARY))),o(),l("ngIf",e.showForLoginTypes(k(103,he,e.LOGIN_TYPES.INFLUENCER))),o(),l("ngIf",e.showForLoginTypes(k(105,he,e.LOGIN_TYPES.INFLUENCER))),o(3),l("logList",e.logList)("closeBtn",!1),o(),l("ngIf",e.showForLoginTypes(U(107,de,e.LOGIN_TYPES.INFLUENCER,e.LOGIN_TYPES.SALES_VENDOR),w(110,J))),o(),l("ngIf",e.showForLoginTypes(U(111,de,e.LOGIN_TYPES.INFLUENCER,e.LOGIN_TYPES.SALES_VENDOR),w(114,J)))}}function Wa(t,a){t&1&&(i(0,"div",59)(1,"div")(2,"span",104),p(3,"app-skeleton"),n()(),i(4,"div")(5,"div"),p(6,"app-skeleton"),n(),i(7,"div"),p(8,"app-skeleton"),n()()()),t&2&&(o(3),y("w50 h50"),o(3),y("w150 h10"),o(2),y("w100 h10 mt5"))}function Ua(t,a){t&1&&(i(0,"div",72),p(1,"app-skeleton"),n()),t&2&&(o(),y("w180"))}function $a(t,a){t&1&&p(0,"app-skeleton"),t&2&&y("wp100 h35 mb-3")}function qa(t,a){t&1&&p(0,"app-skeleton"),t&2&&y("wp100 h35 mb-3")}function Ka(t,a){t&1&&(i(0,"div",9)(1,"div",10)(2,"app-showcode-card")(3,"div",97)(4,"div",13)(5,"span",19),p(6,"app-skeleton"),n(),i(7,"h5",98),p(8,"app-skeleton"),n(),i(9,"span",22),p(10,"app-skeleton"),n()()(),i(11,"div",99),u(12,Wa,9,6,"div",58),n()()(),i(13,"div",24)(14,"div",9)(15,"div",3)(16,"app-showcode-card",100)(17,"div")(18,"div",101),u(19,Ua,2,2,"div",102),n()()()(),i(20,"div",47)(21,"app-showcode-card",100),u(22,$a,1,2,"app-skeleton",103),n()(),i(23,"div",47)(24,"app-showcode-card",100),u(25,qa,1,2,"app-skeleton",103),n()()()()()),t&2&&(o(6),y("w90 h90 radius"),o(2),y("wp100 h10 mt15"),o(2),y("wp70 h10 mt10"),o(2),l("ngForOf",w(16,it).constructor(3)),o(4),l("titleView",!1)("view",!1),o(3),l("ngForOf",w(17,it).constructor(10)),o(2),l("titleView",!1)("view",!1),o(),l("ngForOf",w(18,it).constructor(7)),o(2),l("titleView",!1)("view",!1),o(),l("ngForOf",w(19,it).constructor(7)))}function Ja(t,a){if(t&1&&(v(0),u(1,za,132,115,"div",8)(2,Ka,26,20,"div",8),x()),t&2){let e=d();o(),l("ngIf",!e.skLoading),o(),l("ngIf",e.skLoading)}}function Xa(t,a){if(t&1&&(v(0),p(1,"app-wallet-history",105),x()),t&2){let e=d();o(),l("basicDetail",e.basicDetail)}}function Qa(t,a){t&1&&(v(0),p(1,"app-primary-dashboard"),x())}function Za(t,a){t&1&&(v(0),p(1,"app-influencer-dashboard"),x())}function eo(t,a){if(t&1&&(v(0),p(1,"app-customer-discount-list",105),x()),t&2){let e=d();o(),l("basicDetail",e.basicDetail)}}function to(t,a){if(t&1){let e=h();i(0,"button",109),b("click",function(){_(e);let c=d(2);return g(c.subActiveTab="Primary Orders")}),r(1," Primary Orders "),n()}if(t&2){let e=d(2);l("ngClass",k(1,nt,e.subActiveTab==="Primary Orders"))}}function io(t,a){if(t&1){let e=h();i(0,"button",109),b("click",function(){_(e);let c=d(2);return g(c.subActiveTab="Secondary Orders")}),r(1," Secondary Orders "),n()}if(t&2){let e=d(2);l("ngClass",k(1,nt,e.subActiveTab==="Secondary Orders"))}}function no(t,a){if(t&1&&p(0,"app-primary-order-list",110),t&2){let e=d(2);l("pageHeader",!1)("_id",e.basicDetail._id)}}function ao(t,a){t&1&&(i(0,"p"),r(1," Coming Soon "),n())}function oo(t,a){if(t&1&&(v(0),i(1,"nav",106),u(2,to,2,3,"button",107)(3,io,2,3,"button",107),n(),u(4,no,1,2,"app-primary-order-list",108)(5,ao,2,0,"p",7),x()),t&2){let e=d();o(2),l("ngIf",e.LOGIN_TYPES.PRIMARY===e.customerLoginTypeId||e.customerLoginTypeId===e.LOGIN_TYPES.SUB_PRIMARY),o(),l("ngIf",e.LOGIN_TYPES.SECONDARY===e.customerLoginTypeId||e.LOGIN_TYPES.PRIMARY===5),o(),l("ngIf",e.subActiveTab==="Primary Orders"),o(),l("ngIf",e.subActiveTab==="Secondary Orders")}}function ro(t,a){if(t&1&&p(0,"app-payment-list",110),t&2){let e=d(2);l("pageHeader",!1)("_id",e.basicDetail._id)}}function so(t,a){if(t&1&&p(0,"app-invoice-list",110),t&2){let e=d(2);l("pageHeader",!1)("_id",e.basicDetail._id)}}function lo(t,a){if(t&1){let e=h();v(0),i(1,"nav",106)(2,"button",109),b("click",function(){_(e);let c=d();return g(c.subActiveTab="Invoice")}),r(3," Invoice "),n(),i(4,"button",109),b("click",function(){_(e);let c=d();return g(c.subActiveTab="Payment")}),r(5," Payment/CN "),n()(),u(6,ro,1,2,"app-payment-list",108)(7,so,1,2,"app-invoice-list",108),x()}if(t&2){let e=d();o(2),l("ngClass",k(4,nt,e.subActiveTab==="Invoice")),o(2),l("ngClass",k(6,nt,e.subActiveTab==="Payment")),o(2),l("ngIf",e.subActiveTab==="Payment"),o(),l("ngIf",e.subActiveTab==="Invoice")}}function co(t,a){if(t&1&&(v(0),p(1,"app-service-checkin-list",110),x()),t&2){let e=d();o(),l("pageHeader",!1)("_id",e.basicDetail._id)}}function po(t,a){if(t&1&&(v(0),p(1,"app-stock",105),x()),t&2){let e=d();o(),l("basicDetail",e.basicDetail)}}qt.use([Xt,Kt,Jt]);Qt();var fi=class t{constructor(a,e,s,c,m,M,hi,vi,xi,mo,uo,_o,go){this.gallery=a;this.api=e;this.lightbox=s;this.route=c;this.moduleService=m;this.logService=M;this.date=hi;this.dialog=vi;this.router=xi;this.comanFuncation=mo;this.highlightService=uo;this.nameUtils=_o;this.authService=go}swiperContainer;customerType;customerTypeId;customerLoginType;customerLoginTypeId;customerId;zoom=4;profileNumber=0;center={lat:24,lng:12};submodule;FORMID=We;basicDetail={};otherDetail={};bankDetail={};logList=[];skLoading=!1;activeTab="Basic Detail";LOGIN_TYPES;subActiveTab="Primary Orders";pageKey="customer-detail";contactPerson=[];marka=[];shippingAddress=[];assignUsers=[];shopGallery=[];assignDistributor=[];allDetails={};kyc={};document=[];statsCounts=[];profileStatus=[];accessRight={};profilePic={};orgData={};tabs=[];ngOnInit(){this.orgData=this.authService.getOrg(),this.LOGIN_TYPES=S;let a=this.moduleService.getAccessMap("Customers");a&&(this.accessRight=a);let e=this.moduleService.getModuleByName("Customers"),s=this.moduleService.getModuleForm("Customers",this.FORMID.ID.Customer),c=this.moduleService.getModuleTable("Customers",this.FORMID.ID.CustomerTable),m=this.highlightService.getHighlight(this.pageKey);m!=null&&(this.activeTab=m.tab,this.highlightService.clearHighlight(this.pageKey)),e&&(this.submodule=e),s&&(this.submodule.form_id=s.form_id),c&&(this.submodule.table_id=c.table_id),this.route.paramMap.subscribe(M=>{M&&(this.customerLoginType=M.get("login_type"),this.customerLoginTypeId=M.get("login_type_id")?Number(M.get("login_type_id")):"",S.SECONDARY===this.customerLoginTypeId&&(this.subActiveTab="Secondary Orders"),this.customerType=M.get("type_name"),this.customerTypeId=M.get("type_id"),this.customerId=M.get("id"),this.tabs=this.mainTabs(),this.getDetail())})}onTabChange(a){this.activeTab=a,this.activeTab==="Account"&&(this.subActiveTab="Invoice"),this.activeTab==="Orders"&&(S.SECONDARY===this.customerLoginTypeId?this.subActiveTab="Secondary Orders":this.subActiveTab="Primary Orders"),this.setHighLight()}setHighLight(){this.comanFuncation.setHighLight(this.pageKey,"",this.activeTab,"","")}mainTabs(){return[{name:"Basic Detail",label:"Basic Detail",icon:"ri-user-3-fill"},...this.customerLoginTypeId===S.INFLUENCER?[{name:"Influencer Dashboard",label:"Dashboard",icon:"ri-dashboard-fill"},{name:"Wallet History",label:"Wallet History",icon:"ri-wallet-3-fill"}]:[],...this.customerLoginTypeId===S.PRIMARY||this.customerLoginTypeId===S.SUB_PRIMARY||this.customerLoginTypeId===S.SECONDARY?[{name:"Dashboard",label:"Dashboard",icon:"ri-dashboard-fill"},...this.customerLoginTypeId===S.PRIMARY||this.customerLoginTypeId===S.SUB_PRIMARY?[{name:"Discount",label:"Discount",icon:"ri-price-tag-3-fill"}]:[],{name:"Orders",label:"Orders",icon:"ri-file-list-3-fill"},...this.customerLoginTypeId===S.PRIMARY||this.customerLoginTypeId===S.SUB_PRIMARY?[{name:"Account",label:"Account",icon:"ri-book-3-line"}]:[],{name:"Checkin",label:"Checkin",icon:"ri-map-pin-line"},{name:"Target",label:"Target",icon:"ri-focus-2-fill"}]:[],...this.orgData?.purchase_stock_base?[{name:"Stock",label:"Stock",icon:"ri-box-3-fill"}]:[]]}formattedKeysFormData={};userDetailFormData;getDetail(){this.skLoading=!0,this.api.post({_id:this.customerId,module_id:this.submodule.module_id,sub_module_id:this.submodule.sub_module_id},"customer/detail").subscribe(a=>{a.statusCode===200?(this.profilePercent(),this.getPerformance(),this.allDetails=a.data,this.basicDetail=a.data.basic_detail,this.otherDetail=a.data.other_detail??{},this.bankDetail=a?.data?.bank_detail??{},this.contactPerson=a?.data?.contact_person_detail??[],this.marka=a?.data?.marka??[],this.shippingAddress=a?.data?.shipping_address??[],this.assignUsers=a?.data?.user_to_customer_mapping??[],this.shopGallery=a?.data?.shop_gallery_detail??[],this.assignDistributor=a?.data?.customer_to_customer_mapping?.data??[],this.kyc=a?.data?.kyc_status_detail??{},this.document=a?.data?.doc_detail??[],this.profileStatus=a?.data?.profileStatus??[],this.profilePic=this.document?.find(e=>e.label==="Profile Picture"||e.label==="Profile Pic"),this.skLoading=!1,this.logService.getLogs(this.submodule.module_id,e=>{this.logList=e},this.customerId?this.customerId:"",this.submodule.module_type),this.userDetailFormData=this.basicDetail?.form_data,this.formattedKeysFormData=this.formatAndPrintFormData(this.userDetailFormData),this.statsCounts=[{label:"Last Visit",value:this.allDetails?.last_visit?.tat||"--",class:"bg-primary",icon:"ri-map-pin-line"},{label:"Secondary Network",value:"--",class:"bg-primarytint2color",icon:"ri-store-line"},{label:"Primary Sale",value:"--",class:"bg-primarytint3color",icon:"ri-money-rupee-circle-line"},{label:"Secondary Sale",value:this.allDetails?.secondary_sales_achievement?.total_net_amount_with_tax||"0",class:"bg-primarytint1color",icon:"ri-money-rupee-circle-line"},{label:"Last Order",value:this.allDetails?.last_order?.tat||"--",class:"bg-primarytint2color",icon:"ri-file-list-line"}]):this.skLoading=!1})}formatAndPrintFormData(a){let e={};for(let s in a)if(a.hasOwnProperty(s)){let c=s.split("_").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ");e[c]=a[s]}return e}profilePercent(){this.api.post({_id:this.customerId},"home/read").subscribe(a=>{a.statusCode===200&&(this.profileNumber=a.data)})}socialLinks=[];getPerformance(){this.api.post({_id:this.customerId,page:1},"web-social/read-performance").subscribe(a=>{a.statusCode==200&&(this.skLoading=!1,this.socialLinks=a.data)})}getIds(a){return a.map(e=>e.parent_customer_id)}getuserIds(a){return a.map(e=>e.user_id)}openModal(a,e){let s={};if(a=="bank"&&(s=this.bankDetail?this.bankDetail:""),a=="contact_person"&&(s=e||""),a=="marka"&&(s=e||""),a=="shipping_address"&&(s=e||""),(a=="document_number"||a=="document_image")&&(s=e||""),a=="wallet_history"&&(s=this.basicDetail?this.basicDetail:""),a=="shop_gallery"&&(s=this.basicDetail?this.basicDetail:""),a=="assign_user"&&(s=this.getuserIds(this.assignUsers)),a=="assign_distibutor"){let m=5,M=this.getIds(this.assignDistributor);s={login_type_id:m,parent_customer_id:M}}a=="kyc"&&(s=e||""),a=="profile_status"&&(s=this.basicDetail.profile_status?this.basicDetail.profile_status:""),(a=="other_information"||a=="point_location")&&(s=this.otherDetail?this.otherDetail:""),this.dialog.open(si,{width:a=="document_number"||a=="document_image"?"400px":"768px",data:{pageType:a,data:s,fromPrimaryOrderAdd:!1,customer_id:this.customerId,customer_type:this.customerType,customer_type_id:this.customerTypeId,customer_name:this.basicDetail.customer_name,submodule:this.submodule,profile_status:this.profileStatus,customerLoginTypeId:this.customerLoginTypeId}}).afterClosed().subscribe(m=>{m===!0&&this.getDetail()})}delete(a,e,s){this.comanFuncation.delete(a,this.submodule,s,e,"single_action",this.customerId).subscribe(c=>{c===!0&&this.getDetail()})}editPage(a){this.activeTab==="Basic Detail"?this.router.navigate(["/apps/customer/customer-list/"+this.customerLoginType+"/"+this.customerLoginTypeId+"/"+this.customerType+"/"+this.customerTypeId+"/customer-edit/"+this.customerId+"/edit"]):this.openModal(this.activeTab.toLowerCase().replace(/\s+/g,"_"))}isFallback=!1;onError(a){this.isFallback=!0,a.target.src=`${this.api.rootUrl}brand-logos/${this.orgData?.org_name}/desktop-logo.png`}onToggleChange(a,e,s){this.comanFuncation.statusChange(a,e,s,this.submodule,"toggle","customer/update-status").subscribe(c=>{this.getDetail()})}showForLoginTypes(a,e={}){let s=a.includes(this.customerLoginTypeId);return e.exclude?!s:s}static \u0275fac=function(e){return new(e||t)(C(Gt),C(P),C(zt),C(gt),C(oe),C(Ue),C(re),C(Ye),C(ft),C(ce),C($e),C(Ut),C(Fe))};static \u0275cmp=E({type:t,selectors:[["app-customer-detail"]],viewQuery:function(e,s){if(e&1&&ot(Un,5),e&2){let c;rt(c=st())&&(s.swiperContainer=c.first)}},decls:15,vars:24,consts:[["normalValue",""],[3,"buttonClick1","title","title1","activeitem","buttonText","icon","btnShow","buttonValue","buttonText1","icon1","btnShow1","buttonValue1"],[1,"grid","grid-cols-12","gap-x-6"],[1,"xl:col-span-12","col-span-12"],[1,"profile-banner-img"],["aria-label","Tabs","role","tablist","aria-orientation","horizontal",1,"nav","nav-tabs","tab-style-6","mb-3","p-2","flex","bg-white","dark:bg-bodybg"],[3,"tabChange","tabs","activeTab","countShow"],[4,"ngIf"],["class","grid grid-cols-12 sm:gap-x-6",4,"ngIf"],[1,"grid","grid-cols-12","sm:gap-x-6"],[1,"xl:col-span-3","col-span-12"],[1,"box-body","pb-0","border-dashed","border-defaultborder","dark:border-defaultborder/10"],["class","ribbon ribbon-top-left",3,"ngClass",4,"ngIf"],[1,"text-center"],[1,"relative","size-30",3,"matTooltip"],["width","36","height","36","viewBox","0 0 36 36","xmlns","http://www.w3.org/2000/svg",1,"size-full"],["cx","18","cy","18","r","16","fill","none","stroke-width","2.5",1,"stroke-current","text-gray-200","dark:text-white/10"],[1,"origin-center","-rotate-90","transform"],["cx","18","cy","18","r","16","fill","none","stroke-width","2.5","stroke-dasharray","100","stroke-dashoffset","100",1,"stroke-current",3,"ngClass"],[1,"avatar","avatar-xxl","avatar-rounded","mb-3"],["alt","Profile Image",3,"error","click","src"],[1,"font-semibold","mt-1"],[1,"block","font-medium","text-textmuted","dark:text-textmuted/50","mb-2"],["class","flex mb-0 flex-wrap gap-4  pt-2 pb-2 border-b border-dashed border-defaultborder dark:border-defaultborder/10",4,"ngIf"],[1,"xl:col-span-9","col-span-12"],[3,"title","titleView"],[1,"ti-list-group","list-group-flush","border-0"],[1,"flex","items-center","gap-5","flex-wrap"],[1,"flex","items-center","me-2","flex-wrap"],[1,"text-textmuted","dark:text-textmuted/50","font-medium"],[1,"block","font-medium","text-primay"],["class","flex items-center me-2 flex-wrap",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"text-xs","text-textmuted","dark:text-textmuted/50"],[1,"flex","gap-2","items-center","me-2","flex-wrap"],[1,"block","text-textmuted","dark:text-textmuted/50","font-medium"],[1,"flex","gap-2"],[1,"text-[11px]","badge",3,"ngClass"],[3,"class","checked","checkedChange",4,"ngIf"],[1,"flex","items-center","me-2","gap-3","flex-wrap"],[1,"block","font-medium",3,"ngClass"],["matTooltip","Change Status",3,"icon","buttonClass","click",4,"ngIf"],[1,"text-textmuted","dark:text-textmuted/50"],[1,"dropdown-divider","mb-3","mt-3"],[1,"flex","gap-6","mb-1","flex-wrap"],["class","flex items-center gap-2",4,"ngFor","ngForOf"],["class","border-b-2 pb-2 pt-2",4,"ngIf"],[1,"xl:col-span-6","col-span-12"],[3,"title","class","titleView","actionIcons","iconClass","classbody","iconName","action",4,"ngIf"],[3,"logList","closeBtn"],[1,"ribbon","ribbon-top-left",3,"ngClass"],[1,"block","box-title","font-medium","text-[15px]","text-primarytint1color"],[1,"flex","mb-0","flex-wrap","gap-4","border-b","border-dashed","border-defaultborder","dark:border-defaultborder/10","pt-2","pb-2"],["class","flex wp100 items-center gap-4 flex-wrap",4,"ngFor","ngForOf"],[1,"flex","wp100","items-center","gap-4","flex-wrap"],[1,"left-auto"],[1,"ri-verified-badge-fill","text-success","text-[1rem]"],[1,"flex","mb-0","flex-wrap","gap-4","pt-2","pb-2","border-b","border-dashed","border-defaultborder","dark:border-defaultborder/10"],["class","flex items-center gap-4 me-2 flex-wrap",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-4","me-2","flex-wrap"],[3,"action","title","titleView","actionIcons","iconClass","classbody","iconName"],[1,"gap-5"],[1,"items-center","border-b-2","mb-2"],[1,"block",3,"ngClass"],["class","items-center border-b-2 mb-2",4,"ngIf"],[1,"items-center","border-b-2"],[3,"checkedChange","checked"],["matTooltip","Change Status",3,"click","icon","buttonClass"],[1,"block","font-medium"],[4,"ngIf","ngIfElse"],[1,"border-b-2","pb-2","pt-2"],["class","border-b-2 pb-2 pt-2",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"avatar","avatar-sm","bg-primarytint1color"],[1,"ms-2","font-semibold"],["class","flex justify-between items-center gap-5  border-b-2 mb-2 pb-1",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","gap-5","border-b-2","mb-2","pb-1"],[1,"items-center"],[1,"w80","mw80"],[3,"icon","buttonClass","clickEvent",4,"ngIf"],[3,"clickEvent","icon","buttonClass"],[1,"ti-list-group","list-group-flush","!border-0"],[4,"ngFor","ngForOf"],[1,"flex","items-center","gap-2","flex-wrap"],[1,"flex-auto"],[1,"font-medium"],[1,"grid","grid-cols-12","sm:gap-x-3","gap-3"],["class","xl:col-span-2 lg:col-span-4 xl:col-span-4 sm:col-span-6 col-span-12",4,"ngFor","ngForOf"],["class","ti-list-group list-group-flush border-0",4,"ngIf"],[1,"xl:col-span-2","lg:col-span-4","xl:col-span-4","sm:col-span-6","col-span-12"],[3,"edit","editNumber","delete","apiPath","imageData","delBtn","editBtn","heading","subHeading"],[3,"data"],["class","grid grid-cols-12 gap-x-4 gap-4",4,"ngIf"],[1,"grid","grid-cols-12","gap-x-4","gap-4"],["class","xxl:col-span-4 lg:col-span-4 xl:col-span-4 sm:col-span-6 col-span-6",4,"ngFor","ngForOf"],[1,"xxl:col-span-4","lg:col-span-4","xl:col-span-4","sm:col-span-6","col-span-6"],[3,"delete","apiPath","imageData","editBtn","heading","subHeading"],[1,"box-body","border-b","border-dashed","border-defaultborder","dark:border-defaultborder/10"],[1,"font-semibold","mb-1"],[1,"flex","mb-0","flex-wrap","gap-4","p-4","border-b","border-dashed","border-defaultborder","dark:border-defaultborder/10"],[3,"titleView","view"],[1,"flex","gap-2","mb-1","flex-wrap"],["class","flex items-center",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],[1,"avatar","avatar-md"],[3,"basicDetail"],["aria-label","Tabs","role","tablist","aria-orientation","horizontal",1,"nav","nav-tabs","tab-style-6","mb-3","p-0","flex","bg-white","dark:bg-bodybg"],["type","button","class","nav-link text-start rounded-md active",3,"ngClass","click",4,"ngIf"],[3,"pageHeader","_id",4,"ngIf"],["type","button",1,"nav-link","text-start","rounded-md","active",3,"click","ngClass"],[3,"pageHeader","_id"]],template:function(e,s){e&1&&(i(0,"app-page-header",1),b("buttonClick1",function(m){return s.editPage(m)}),n(),i(1,"div",2)(2,"div",3)(3,"div",4)(4,"nav",5)(5,"app-listing-tab",6),b("tabChange",function(m){return s.onTabChange(m.tab)}),n()()(),u(6,Ja,3,2,"ng-container",7)(7,Xa,2,1,"ng-container",7)(8,Qa,2,0,"ng-container",7)(9,Za,2,0,"ng-container",7)(10,eo,2,1,"ng-container",7)(11,oo,6,4,"ng-container",7)(12,lo,8,8,"ng-container",7)(13,co,2,2,"ng-container",7)(14,po,2,1,"ng-container",7),n()()),e&2&&(l("title","Customer")("title1",w(23,$n))("activeitem","Customer Detail")("buttonText","Filter")("icon","filter_list")("btnShow",!1)("buttonValue","")("buttonText1",s.activeTab==="Basic Detail"?"Edit Customer":s.activeTab==="Wallet History"?"Point Transfer":"")("icon1",s.activeTab==="Basic Detail"?"edit":"swap_horiz")("btnShow1",(s.activeTab==="Basic Detail"||s.activeTab==="Wallet History")&&(s.accessRight==null?null:s.accessRight.modifyRight))("buttonValue1",""),o(5),l("tabs",s.tabs)("activeTab",s.activeTab)("countShow",!1),o(),l("ngIf",s.activeTab==="Basic Detail"),o(),l("ngIf",s.activeTab==="Wallet History"),o(),l("ngIf",s.activeTab==="Dashboard"),o(),l("ngIf",s.activeTab==="Influencer Dashboard"),o(),l("ngIf",s.activeTab==="Discount"),o(),l("ngIf",s.activeTab==="Orders"),o(),l("ngIf",s.activeTab==="Account"),o(),l("ngIf",s.activeTab==="Checkin"),o(),l("ngIf",s.activeTab==="Stock"))},dependencies:[le,ke,O,L,Nt,jt,R,H,qe,Yt,Y,Pt,Ge,Te,Ee,_t,Ft,Wt,wt,se,N,Me,Ke,Xe,B,Qe,Bt,et,tt,li,ri,oi,ci],encapsulation:2})};export{fi as CustomerDetailComponent};
