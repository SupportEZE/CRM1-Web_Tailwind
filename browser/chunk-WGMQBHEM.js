import{a as U}from"./chunk-DNYQUEPM.js";import"./chunk-PU6S26UW.js";import{a as K}from"./chunk-JUPJFX3F.js";import{a as $}from"./chunk-PJTW4QXW.js";import{a as J}from"./chunk-SQZ3YN6N.js";import"./chunk-CIBZCVJQ.js";import"./chunk-OTFCGVEU.js";import"./chunk-CNF4GSI7.js";import{a as q}from"./chunk-OEHD5D2Y.js";import{a as z}from"./chunk-GLWQGYBC.js";import{a as A}from"./chunk-DC4QM32I.js";import{B as L,F as Q,s as G}from"./chunk-VHE3PQ3O.js";import{Qa as H,Z as V,Za as j,hb as O}from"./chunk-GYDYF5F3.js";import{K as F,e as T,f as M,g as P,n as N,o as R,t as B}from"./chunk-PD5VTTIY.js";import{$c as E,Aa as D,Ba as y,Hb as C,Mc as n,Nc as c,Ob as p,Oc as s,Yc as I,_b as d,bc as v,ed as _,fd as w,gd as x,kc as t,lc as e,mc as u,nc as b,oc as g,qc as h,rb as a,sb as m,wc as k,yc as f}from"./chunk-2NSPOFEK.js";import"./chunk-EU2KAMEK.js";import"./chunk-66YHNWRR.js";var X=()=>["Stock Transfer"],Y=(l,r,o)=>({"text-success":l,"text-warning":r,"text-danger":o});function Z(l,r){if(l&1){let o=h();t(0,"app-icon-button",24),k("click",function(){D(o);let S=f();return y(S.openModal())}),e()}l&2&&d("icon","ri-pencil-line")("buttonClass","btn-wave ti-btn ti-btn-sm ti-btn-soft-primary waves-effect waves-light")}function ee(l,r){if(l&1&&(t(0,"div",7)(1,"div")(2,"span",8),n(3),e(),t(4,"span",12),n(5,"Reject Reason"),e()()()),l&2){let o=f();a(3),c(o.invoiceDetail.remarks?o.invoiceDetail.remarks:"---")}}function te(l,r){if(l&1&&(t(0,"tr",25)(1,"td",26)(2,"div",27),n(3),e()(),t(4,"td")(5,"div",27),n(6),e()(),t(7,"td",28)(8,"div",9),n(9),e()(),t(10,"td",29),n(11),e()()),l&2){let o=r.$implicit,i=r.index;a(3),s(" ",i+1," "),a(3),s(" ",o.product_name?o.product_name:"---"," "),a(3),s(" ",o.product_code?o.product_code:"---"," "),a(2),s(" ",o.total_quantity?o.total_quantity:"---"," ")}}function ie(l,r){if(l&1&&(t(0,"div",32),u(1,"spk-product-card",33),e()),l&2){let o=r.$implicit;a(),d("apiPath","invoice/get-doc")("imageData",o)("editBtn",!1)("delBtn",!1)("heading",!1)("subHeading",!1)}}function ne(l,r){if(l&1&&(t(0,"div",30),b(1),p(2,ie,2,6,"div",31),g(),e()),l&2){let o=f();a(2),d("ngForOf",o.invoiceDetail.files)}}function ae(l,r){l&1&&(b(0),u(1,"app-data-not-found"),g())}var W=class l{constructor(r,o,i,S){this.route=r;this.dialog=o;this.api=i;this.moduleService=S}filter={};id={};skLoading=!1;invoiceDetail={};submodule={};ngOnInit(){let r=this.moduleService.getSubSubModuleByName("IRP","Stock Transfer","Company To Customer");r&&(this.submodule=r),this.route.paramMap.subscribe(o=>{this.id=o.get("id"),this.id&&this.getInvoiceDetail()})}getInvoiceDetail(){this.skLoading=!0,this.api.post({_id:this.id},"invoice/detail").subscribe(r=>{r.statusCode===200&&(this.skLoading=!1,this.invoiceDetail=r.data)})}openModal(){this.dialog.open(U,{width:"500px",data:{pageType:"grn_stock",_id:this.id,status:this.invoiceDetail.grn_status,submodule:this.submodule}}).afterClosed().subscribe(o=>{o===!0&&this.getInvoiceDetail()})}invoiceColumns=[{label:"S.No"},{label:"Product Name"},{label:"Product Code"},{label:"Qty",table_class:"text-center"}];static \u0275fac=function(o){return new(o||l)(m(F),m(H),m(V),m(A))};static \u0275cmp=C({type:l,selectors:[["app-stock-transfer-detail"]],decls:113,vars:62,consts:[[3,"title","title1","activeitem"],[1,"grid","grid-cols-12","sm:gap-x-6"],[1,"xl:col-span-12","col-span-12"],[1,"xl:col-span-6","col-span-12"],[3,"title","boxHeader","classbody","titleView"],[1,"ti-list-group","list-group-flush","border-0"],[1,"flex","items-center","gap-5","flex-wrap","text-[12px]"],[1,"flex","items-center","me-2","flex-wrap"],[1,"block","font-medium"],[1,"text-textmuted","dark:text-textmuted/50"],[1,"flex","items-center","me-2","gap-3","flex-wrap"],[1,"font-medium",3,"ngClass"],[1,"block","text-textmuted","dark:text-textmuted/50"],["matTooltip","Change Status",3,"icon","buttonClass","click",4,"ngIf"],["class","flex items-center me-2 flex-wrap",4,"ngIf"],[1,"text-success","text-[0.9375rem]","font-bold"],[1,"xl:col-span-8","col-span-12"],[1,"table-responsive","overflow-auto","table-bordered-default"],["tableClass","ti-custom-table ti-custom-table-head",3,"columns","showCheckbox"],["class","border-b !border-defaultborder dark:!border-defaultborder/10",4,"ngFor","ngForOf"],[1,"xl:col-span-4","col-span-12"],[3,"title","titleView","iconClass","classbody","iconName"],["class","grid grid-cols-12 gap-x-4",4,"ngIf"],[4,"ngIf"],["matTooltip","Change Status",3,"click","icon","buttonClass"],[1,"border-b","!border-defaultborder","dark:!border-defaultborder/10"],[1,"w50"],[1,"font-medium"],[1,"w130"],[1,"product-quantity-container","text-center","w80"],[1,"grid","grid-cols-12","gap-x-4"],["class","xxl:col-span-2 lg:col-span-4 xl:col-span-4 sm:col-span-6 col-span-12",4,"ngFor","ngForOf"],[1,"xxl:col-span-2","lg:col-span-4","xl:col-span-4","sm:col-span-6","col-span-12"],[3,"apiPath","imageData","editBtn","delBtn","heading","subHeading"]],template:function(o,i){o&1&&(u(0,"app-page-header",0),t(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",3)(5,"app-showcode-card",4)(6,"ul",5)(7,"li")(8,"div",6)(9,"div",7)(10,"div")(11,"span",8),n(12),_(13,"date"),e(),t(14,"span",9),n(15,"Date Created"),e()()(),t(16,"div",7)(17,"div")(18,"span",8),n(19),_(20,"titlecase"),e(),t(21,"span",9),n(22,"Created By"),e()()(),t(23,"div",7)(24,"div")(25,"span",8),n(26),e(),t(27,"span",9),n(28,"Invoice Number"),e()()(),t(29,"div",7)(30,"div")(31,"span",8),n(32),_(33,"date"),e(),t(34,"span",9),n(35,"Invoice Date"),e()()(),t(36,"div",7)(37,"div")(38,"span",8),n(39),e(),t(40,"span",9),n(41,"Invoice Amount"),e()()(),t(42,"div",7)(43,"div")(44,"span",8),n(45),e(),t(46,"span",9),n(47,"Total Items"),e()()(),t(48,"div",7)(49,"div")(50,"span",8),n(51),e(),t(52,"span",9),n(53,"Total Qty"),e()()(),t(54,"div",10)(55,"div")(56,"span",11),n(57),e(),t(58,"span",12),n(59,"GRN Status"),e()(),p(60,Z,1,2,"app-icon-button",13),e(),p(61,ee,6,1,"div",14),t(62,"div",7)(63,"div")(64,"span",15),n(65,"200PT"),e(),t(66,"span",12),n(67,"Point Transfered"),e()()()()()()()(),t(68,"div",3)(69,"app-showcode-card",4)(70,"ul",5)(71,"li")(72,"div",6)(73,"div",7)(74,"div")(75,"span",8),n(76),e(),t(77,"span",9),n(78,"Customer Details"),e()()(),t(79,"div",7)(80,"div")(81,"span",8),n(82),e(),t(83,"span",9),n(84,"Customer Type"),e()()(),t(85,"div",7)(86,"div")(87,"span",8),n(88),e(),t(89,"span",9),n(90,"Contact Person"),e()()(),t(91,"div",7)(92,"div")(93,"span",8),n(94),e(),t(95,"span",9),n(96,"Mobile No."),e()()(),t(97,"div",7)(98,"div")(99,"span",8),n(100),e(),t(101,"span",9),n(102,"Address"),e()()()()()()()()(),t(103,"div",1)(104,"div",16)(105,"app-showcode-card",4)(106,"div",17)(107,"spk-reusable-tables",18),p(108,te,12,4,"tr",19),e()()()(),t(109,"div",20)(110,"app-showcode-card",21),p(111,ne,3,1,"div",22)(112,ae,2,0,"ng-container",23),e()()()()()),o&2&&(d("title","IRP")("title1",I(57,X))("activeitem","Stock Transfer Detail"),a(5),v("text-primarytint1color"),d("title","Stock Transfer Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),a(7),s(" ",i.invoiceDetail.created_at?x(13,49,i.invoiceDetail.created_at,"dd MMM yyyy"):"---",""),a(7),c(i.invoiceDetail.created_name?w(20,52,i.invoiceDetail.created_name):"---"),a(7),s(" ",i.invoiceDetail.invoice_number?i.invoiceDetail.invoice_number:"---"," "),a(6),c(i.invoiceDetail.billing_date?x(33,54,i.invoiceDetail.billing_date,"dd MMM yyyy"):"---"),a(7),s("\u20B9 ",i.invoiceDetail.net_amount_with_tax?i.invoiceDetail.net_amount_with_tax:"---"," "),a(6),c(i.invoiceDetail.total_item_count?i.invoiceDetail.total_item_count:"---"),a(6),s(" ",i.invoiceDetail.total_item_quantity?i.invoiceDetail.total_item_quantity:"---"," "),a(5),d("ngClass",E(58,Y,i.invoiceDetail.grn_status==="Received",i.invoiceDetail.grn_status==="Pending",i.invoiceDetail.grn_status==="Reject")),a(),s(" ",i.invoiceDetail.grn_status?i.invoiceDetail.grn_status:"---",""),a(3),d("ngIf",i.invoiceDetail.grn_status==="Pending"),a(),d("ngIf",i.invoiceDetail.remarks),a(8),v("text-primarytint1color"),d("title","Customer Detail")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),a(7),s("",i.invoiceDetail.customer_name?i.invoiceDetail.customer_name:"---"," "),a(6),c(i.invoiceDetail.customer_type_name?"("+i.invoiceDetail.customer_type_name+")":"---"),a(6),c(i.invoiceDetail.contact_person_name?i.invoiceDetail.contact_person_name:"---"),a(6),c(i.invoiceDetail.customer_mobile?i.invoiceDetail.customer_mobile:"---"),a(6),s(" ",i.invoiceDetail.full_address?i.invoiceDetail.full_address:"---"," "),a(5),v("text-primarytint1color"),d("title","Product Details")("boxHeader","pt-3")("classbody","pt-0")("titleView",!0),a(2),d("columns",i.invoiceColumns)("showCheckbox",!1),a(),d("ngForOf",i.invoiceDetail.item_info),a(2),v("box-title font-medium text-[15px] block text-primarytint1color"),d("title","GRN Received Document")("titleView",!0)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),a(),d("ngIf",i.invoiceDetail.files.length>0),a(),d("ngIf",i.invoiceDetail.files.length===0))},dependencies:[Q,T,M,P,z,G,J,j,N,R,K,L,B,O,q,$],encapsulation:2})};export{W as StockTransferDetailComponent};
