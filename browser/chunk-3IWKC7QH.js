import{a as Z,b as ee,c as te,d as ie,e as ae}from"./chunk-IQQ5YPLB.js";import{a as X}from"./chunk-5QFGLOXN.js";import{a as J}from"./chunk-JUPJFX3F.js";import{c as K,d as Q}from"./chunk-4JVCC6N3.js";import{a as W}from"./chunk-PJTW4QXW.js";import{c as z}from"./chunk-CIBZCVJQ.js";import{a as $}from"./chunk-OTFCGVEU.js";import{a as U}from"./chunk-HPLI5COI.js";import{a as q}from"./chunk-GLWQGYBC.js";import{a as R}from"./chunk-DC4QM32I.js";import{B as Y,F as H,c as j}from"./chunk-VHE3PQ3O.js";import{Qa as A,Z as P,hb as G,jb as S}from"./chunk-GYDYF5F3.js";import{K as N,M as V,e as k,f as B,g as T,o as L,t as O}from"./chunk-PD5VTTIY.js";import{Aa as I,Ba as C,Hb as E,Mc as o,Nc as p,Ob as d,Oc as g,Yc as u,_b as r,_c as F,bc as c,ed as y,gd as D,kb as w,kc as t,lc as a,mc as v,qc as M,rb as n,sb as m,wc as b,yc as f}from"./chunk-2NSPOFEK.js";import"./chunk-EU2KAMEK.js";import"./chunk-66YHNWRR.js";var oe=()=>["Leader Board Detail"],le=(i,l)=>({"text-success":i,"text-danger":l}),_=()=>[];function re(i,l){if(i&1&&(t(0,"span",22),o(1),a()),i&2){let e=l.$implicit;n(),p(e)}}function de(i,l){if(i&1&&(t(0,"div",20),d(1,re,2,1,"span",21),a()),i&2){let e=f(2);n(),r("ngForOf",e.Detail.ledger_creation_type)}}function pe(i,l){if(i&1&&(t(0,"span",22),o(1),a()),i&2){let e=l.$implicit;n(),p(e)}}function me(i,l){if(i&1&&(t(0,"div",20),d(1,pe,2,1,"span",21),a()),i&2){let e=f(2);n(),r("ngForOf",e.Detail.state)}}function se(i,l){if(i&1&&(t(0,"li")(1,"div",23)(2,"div",8)(3,"div")(4,"span",9),o(5),a(),t(6,"span",10),o(7,"Title"),a()()(),t(8,"div",8)(9,"div")(10,"span",9),o(11),a(),t(12,"span",10),o(13,"Rank"),a()()()(),v(14,"div",24),a()),i&2){let e=l.$implicit;n(5),p(e.gift_title||"--"),n(6),p(e.rank||"--")}}function ce(i,l){if(i&1){let e=M();t(0,"div",28)(1,"spk-product-card",29),b("delete",function(){let x=I(e).$implicit,h=f(3);return C(h.delete(x._id,"leader-board/delete-file","delete"))}),a()()}if(i&2){let e=l.$implicit;n(),r("apiPath","leader-board/get-doc")("imageData",e)("editBtn",!1)("heading",!1)("subHeading",!1)}}function ve(i,l){if(i&1&&(t(0,"div",14)(1,"app-showcode-card",25)(2,"div",26),d(3,ce,2,5,"div",27),a()()()),i&2){let e=f(2);n(),c("box-title font-medium text-[15px] block text-primarytint1color"),r("title","Banners/Attachment")("titleView",!0)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),n(2),r("ngForOf",e.Detail.files)}}function fe(i,l){if(i&1&&(t(0,"li",30)(1,"div",31)(2,"div",32)(3,"span",33),o(4),a(),t(5,"div",34),o(6),a()(),t(7,"div",35)(8,"span",36),o(9),a(),t(10,"span",36),o(11),a()()()()),i&2){let e=l.$implicit,s=f(2);n(4),g(" ",s.nameUtils.getInitials(e.customer_name)," "),n(2),g(" ",e.customer_name||"--"," "),n(3),g("Rank ",e.rank||"--",""),n(2),g("Points ",e.total_points||"--","")}}function ue(i,l){if(i&1&&(t(0,"div",4)(1,"div",2)(2,"div",4)(3,"div",2)(4,"app-showcode-card",5)(5,"ul",6)(6,"li")(7,"div",7)(8,"div",8)(9,"div")(10,"span",9),o(11),y(12,"date"),a(),t(13,"span",10),o(14,"Date Created"),a()()(),t(15,"div",8)(16,"div")(17,"span",9),o(18),a(),t(19,"span",10),o(20,"Created By"),a()()(),t(21,"div",8)(22,"div")(23,"span",9),o(24),a(),t(25,"span",10),o(26,"Title"),a()()(),t(27,"div",8)(28,"div")(29,"span",9),o(30),a(),t(31,"span",10),o(32,"Start Date"),a()()(),t(33,"div",8)(34,"div")(35,"span",9),o(36),a(),t(37,"span",10),o(38,"End Date"),a()()(),t(39,"div",8)(40,"div")(41,"span",9),o(42),a(),t(43,"span",10),o(44,"Customer Category"),a()()(),t(45,"div",8)(46,"div")(47,"span",9),o(48),a(),t(49,"span",10),o(50,"Minimum Eligiblity Points"),a()()(),t(51,"div",8)(52,"div")(53,"span",11),o(54),a(),t(55,"span",10),o(56,"Status"),a()()(),t(57,"div",8)(58,"div")(59,"span",9),o(60),y(61,"date"),a(),t(62,"span",10),o(63,"Updated At"),a()()(),t(64,"div",8)(65,"div"),d(66,de,2,1,"div",12),t(67,"span",10),o(68,"Point Category Type"),a()()(),t(69,"div",8)(70,"div"),d(71,me,2,1,"div",12),t(72,"span",10),o(73,"State"),a()()(),t(74,"div",8)(75,"div"),v(76,"span",13),t(77,"span",10),o(78,"Terms & Condiiton"),a()()()()()()()()(),t(79,"div",4)(80,"div",14)(81,"app-showcode-card",15)(82,"ul",16),d(83,se,15,2,"li",17),a()()(),d(84,ve,4,8,"div",18),t(85,"div",14)(86,"app-showcode-card",15)(87,"ul",16),d(88,fe,12,4,"li",19),a()()()()()()),i&2){let e=f();n(4),c("box-title font-medium text-[15px] block text-primarytint1color"),r("title","Basic Detail")("titleView",!0),n(7),p(e.Detail.created_at?D(12,36,e.Detail.created_at,"d MMM yyyy, hh:mm a"):"--"),n(7),p(e.Detail.created_name||"--"),n(6),p(e.Detail.title?e.Detail.title:"---"),n(6),p(e.Detail.start_date?e.date.formatToDDMMYYYY(e.Detail.start_date):"---"),n(6),p(e.Detail.end_date?e.date.formatToDDMMYYYY(e.Detail.end_date):"---"),n(6),p(e.Detail.customer_type_name||"--"),n(6),p(e.Detail.min_eligiblity_points||"--"),n(5),r("ngClass",F(42,le,e.Detail.status==="Active",e.Detail.status==="Inactive")),n(),p(e.Detail.status||"--"),n(6),p(e.Detail.updated_at?D(61,39,e.Detail.updated_at,"d MMM yyyy"):"--"),n(6),r("ngIf",e.Detail.ledger_creation_type),n(5),r("ngIf",e.Detail.state),n(5),r("innerHTML",e.Detail.terms_condition,w),n(5),c("box-title font-medium text-[15px] block text-primarytint1color"),r("title","Gift Detail")("titleView",!0)("actionIcons",!1)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),n(2),r("ngForOf",e.Detail.gift_detail),n(),r("ngIf",e.Detail.files.length),n(2),c("box-title font-medium text-[15px] block text-primarytint1color"),r("title",e.Detail.end_date<e.today?"Winner":"Participants")("titleView",!0)("actionIcons",!1)("iconClass","ti-btn btn-wave ti-btn-sm ti-btn-soft-primary waves-effect waves-light")("classbody","pt-0")("iconName","ri-add-line"),n(2),r("ngForOf",e.Detail.customer_data)}}function xe(i,l){i&1&&(t(0,"div",32),v(1,"app-skeleton"),a()),i&2&&(n(),c("w180"))}function ge(i,l){i&1&&v(0,"app-skeleton"),i&2&&c("wp100 h35 mb-3")}function _e(i,l){i&1&&v(0,"app-skeleton"),i&2&&c("wp100 h35 mb-3")}function be(i,l){i&1&&v(0,"app-skeleton"),i&2&&c("wp100 h35 mb-3")}function ye(i,l){i&1&&(t(0,"div",4)(1,"div",2)(2,"div",4)(3,"div",2)(4,"app-showcode-card",37)(5,"div")(6,"div",38),d(7,xe,2,2,"div",39),a()()()(),t(8,"div",14)(9,"app-showcode-card",37),d(10,ge,1,2,"app-skeleton",40),a()(),t(11,"div",14)(12,"app-showcode-card",37),d(13,_e,1,2,"app-skeleton",40),a()(),t(14,"div",14)(15,"app-showcode-card",37),d(16,be,1,2,"app-skeleton",40),a()()()()()),i&2&&(n(4),r("titleView",!1)("view",!1),n(3),r("ngForOf",u(12,_).constructor(10)),n(2),r("titleView",!1)("view",!1),n(),r("ngForOf",u(13,_).constructor(5)),n(2),r("titleView",!1)("view",!1),n(),r("ngForOf",u(14,_).constructor(5)),n(2),r("titleView",!1)("view",!1),n(),r("ngForOf",u(15,_).constructor(5)))}Z.use([ie,ee,te]);ae();var ne=class i{constructor(l,e,s,x,h,De,Se,he,Ie,Ce,we,Ee){this.gallery=l;this.api=e;this.lightbox=s;this.route=x;this.moduleService=h;this.logService=De;this.date=Se;this.dialog=he;this.router=Ie;this.dateService=Ce;this.comanFuncation=we;this.nameUtils=Ee}submodule;FORMID=U;skLoading=!1;DetailId;Detail={};logList=[];today=new Date;ngOnInit(){let l=this.moduleService.getSubModuleByName("IRP","Leader Board");l&&(this.submodule=l),this.route.paramMap.subscribe(e=>{this.DetailId=e.get("id"),this.DetailId&&this.getDetail()})}getDetail(){this.skLoading=!0,this.api.post({_id:this.DetailId},"leader-board/detail").subscribe(l=>{l.statusCode===200&&(this.skLoading=!1,this.Detail=l.data,this.logService.getLogs(this.submodule.module_id,e=>{this.logList=e},this.DetailId?this.DetailId:"",this.submodule.module_type))})}delete(l,e,s){this.comanFuncation.delete(l,this.submodule,s,e,"single_action",this.DetailId).subscribe(x=>{x===!0&&this.getDetail()})}editPage(){}static \u0275fac=function(e){return new(e||i)(m(K),m(P),m(Q),m(N),m(R),m($),m(S),m(A),m(V),m(S),m(z),m(X))};static \u0275cmp=E({type:i,selectors:[["app-leader-board-detail"]],decls:5,vars:9,consts:[[3,"buttonClick1","title","title1","activeitem","buttonText1","icon1","btnShow1"],[1,"grid","grid-cols-12","gap-x-6"],[1,"xl:col-span-12","col-span-12"],["class","grid grid-cols-12 sm:gap-x-6",4,"ngIf"],[1,"grid","grid-cols-12","sm:gap-x-6"],[3,"title","titleView"],[1,"ti-list-group","list-group-flush","border-0"],[1,"flex","items-center","gap-5","flex-wrap","text-[12px]"],[1,"flex","items-center","me-2","flex-wrap"],[1,"block","font-medium","text-primay"],[1,"text-textmuted","dark:text-textmuted/50"],[1,"block","font-medium","text-primay",3,"ngClass"],["class","",4,"ngIf"],[1,"block","font-medium","text-primay",3,"innerHTML"],[1,"xl:col-span-4","col-span-12"],[3,"title","titleView","actionIcons","iconClass","classbody","iconName"],[1,"ti-list-group","list-group-flush","border-0","scroll-y-300"],[4,"ngFor","ngForOf"],["class","xl:col-span-4 col-span-12",4,"ngIf"],["class","border-b-2 pb-2 pt-2",4,"ngFor","ngForOf"],[1,""],["class","badge bg-light text-textmuted dark:text-textmuted/50 m-1 border border-defaultborder dark:border-defaultborder/10",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-textmuted","dark:text-textmuted/50","m-1","border","border-defaultborder","dark:border-defaultborder/10"],[1,"flex","items-center","gap-5","flex-wrap"],[1,"dropdown-divider","mb-3","mt-3"],[3,"title","titleView","iconClass","classbody","iconName"],[1,"grid","grid-cols-12","gap-x-4"],["class","xxl:col-span-2 lg:col-span-3 xl:col-span-4 sm:col-span-6 col-span-12",4,"ngFor","ngForOf"],[1,"xxl:col-span-2","lg:col-span-3","xl:col-span-4","sm:col-span-6","col-span-12"],[3,"delete","apiPath","imageData","editBtn","heading","subHeading"],[1,"border-b-2","pb-2","pt-2"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],[1,"avatar","avatar-sm","bg-primarytint1color"],[1,"ms-2","font-semibold"],[1,"flex","items-center","gap-2"],[1,"badge","bg-light","bg-textmuted/10","text-textmuted","float-end","ms-auto"],[3,"titleView","view"],[1,"flex","gap-2","mb-1","flex-wrap"],["class","flex items-center",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(e,s){e&1&&(t(0,"app-page-header",0),b("buttonClick1",function(){return s.editPage()}),a(),t(1,"div",1)(2,"div",2),d(3,ue,89,45,"div",3)(4,ye,17,16,"div",3),a()()),e&2&&(r("title","Loyalty")("title1",u(8,oe))("activeitem","Leader Board Detail")("buttonText1","Edit Leader Board")("icon1","edit")("btnShow1",!1),n(3),r("ngIf",!s.skLoading),n(),r("ngIf",s.skLoading))},dependencies:[H,k,B,T,q,j,L,J,Y,O,G,W],encapsulation:2})};export{ne as leaderBoardDetailComponent};
