import{a as ae,b as oe}from"./chunk-MDYR4YIM.js";import{a as te}from"./chunk-REKAXM5L.js";import{d as ie,e as ne}from"./chunk-4JVCC6N3.js";import{c as K}from"./chunk-CIBZCVJQ.js";import{a as J}from"./chunk-OTFCGVEU.js";import{a as Z}from"./chunk-HPLI5COI.js";import{a as ee}from"./chunk-GLWQGYBC.js";import{a as $}from"./chunk-DC4QM32I.js";import{B as Y,F as X,c as G}from"./chunk-VHE3PQ3O.js";import{$ as H,V as j,Z as U,aa as W,w as V}from"./chunk-GYDYF5F3.js";import{K as P,Q as A,e as N,f as F,g as L,n as k,o as B,t as O}from"./chunk-PD5VTTIY.js";import{Aa as D,Ba as E,Fc as M,Gc as R,Hb as Q,Hc as z,Mc as i,Nc as m,Ob as f,Oc as s,Pc as w,Yc as I,_b as c,bc as C,ed as _,fd as q,gd as g,kc as e,lc as t,mc as u,nc as v,oc as S,qc as y,rb as a,sb as h,wc as b,yc as x}from"./chunk-2NSPOFEK.js";import"./chunk-EU2KAMEK.js";import"./chunk-66YHNWRR.js";var re=["qrCodeLabel"],de=()=>["Qr Code"],pe=()=>[];function ce(l,r){l&1&&(e(0,"div",11),u(1,"app-skeleton"),t())}function me(l,r){l&1&&(e(0,"app-showcode-card")(1,"div",9),f(2,ce,2,0,"div",10),t()()),l&2&&(a(2),c("ngForOf",I(1,pe).constructor(10)))}function se(l,r){if(l&1&&(e(0,"div",15)(1,"div")(2,"span",16),i(3),t(),e(4,"span",17),i(5,"Point Category"),t()()()),l&2){let n=x(2);a(3),s(" ",n.couponDetail.product_data?n.couponDetail.product_data.point_category_name:"---"," ")}}function ue(l,r){if(l&1&&(v(0),e(1,"div",15)(2,"div")(3,"span",16),i(4),t(),e(5,"span",17),i(6,"Category"),t()()(),e(7,"div",15)(8,"div")(9,"span",16),i(10),t(),e(11,"span",17),i(12,"Product Name"),t()()(),e(13,"div",15)(14,"div")(15,"span",16),i(16),t(),e(17,"span",17),i(18,"Product Code"),t()()(),S()),l&2){let n=x(2);a(4),s(" ",n.couponDetail.product_data?n.couponDetail.product_data.category_name:"---"," "),a(6),s(" ",n.couponDetail.product_data?n.couponDetail.product_data.product_name:"---"," "),a(6),s(" ",n.couponDetail.product_data?n.couponDetail.product_data.product_code:"---"," ")}}function xe(l,r){if(l&1&&(e(0,"div",15)(1,"div")(2,"span",16),i(3),t(),e(4,"span",17),i(5,"Batch No."),t()()()),l&2){let n=x(2);a(3),s(" ",n.couponDetail.batch_no?n.couponDetail.batch_no:"---"," ")}}function _e(l,r){if(l&1&&(e(0,"div",15)(1,"div")(2,"span",16),i(3),t(),e(4,"span",17),i(5,"Paper Size"),t()()()),l&2){let n=x(2);a(3),s(" ",n.couponDetail.paper_size?n.couponDetail.paper_size+"mm":"---"," ")}}function ge(l,r){if(l&1&&(e(0,"div",15)(1,"div")(2,"span",16),i(3),t(),e(4,"span",17),i(5,"Remark"),t()()()),l&2){let n=x(2);a(3),s(" ",n.couponDetail.remark?n.couponDetail.remark:"---"," ")}}function fe(l,r){if(l&1){let n=y();e(0,"app-showcode-card",12)(1,"ul",13)(2,"li")(3,"div",14)(4,"div",15)(5,"div")(6,"span",16),i(7),_(8,"date"),t(),e(9,"span",17),i(10,"Date Created"),t()()(),e(11,"div",15)(12,"div")(13,"span",16),i(14),_(15,"titlecase"),t(),e(16,"span",17),i(17,"Created By"),t()()(),e(18,"div",15)(19,"div")(20,"span",16),i(21),_(22,"titlecase"),t(),e(23,"span",17),i(24,"QR Type"),t()()(),f(25,se,6,1,"div",18)(26,ue,19,3,"ng-container",4),e(27,"div",15)(28,"div")(29,"span",16),i(30),t(),e(31,"span",17),i(32,"Total No. Qr Code"),t()()(),f(33,xe,6,1,"div",18)(34,_e,6,1,"div",18)(35,ge,6,1,"div",18),e(36,"div",19)(37,"div")(38,"div",20)(39,"span",21),i(40),t(),e(41,"app-toggle",22),b("checkedChange",function(d){D(n);let p=x();return E(p.printStatus(d,p.id))}),t()(),e(42,"span",23),i(43,"Print Status"),t()()(),e(44,"div",19)(45,"div")(46,"div",20)(47,"span",21),i(48),t(),e(49,"app-toggle",22),b("checkedChange",function(d){D(n);let p=x();return E(p.onToggleChange(d,p.id,p.couponDetail.status))}),t()(),e(50,"span",23),i(51,"Scanning Status"),t()()()()()()()}if(l&2){let n=x();C("box-title font-medium text-[15px] block text-primarytint1color"),c("title","Basic Detail")("titleView",!0),a(7),s(" ",n.couponDetail.created_at?g(8,23,n.couponDetail.created_at,"d MMM yyyy, hh:mm a"):"---"," "),a(7),s(" ",n.couponDetail.created_name?q(15,26,n.couponDetail.created_name):"---"," "),a(7),s(" ",n.couponDetail.qrcode_type?q(22,28,n.couponDetail.qrcode_type.replaceAll("_"," ")):"---"," "),a(4),c("ngIf",n.couponDetail.qrcode_type==="point_category"),a(),c("ngIf",n.couponDetail.qrcode_type!=="point_category"),a(4),s(" ",n.couponDetail.qrcode_qty?n.couponDetail.qrcode_qty:"0"," "),a(3),c("ngIf",n.couponDetail.batch_no),a(),c("ngIf",n.couponDetail.paper_size),a(),c("ngIf",n.couponDetail.remark),a(4),c("ngClass",n.couponDetail.is_printed?"bg-success/10 text-success":"bg-danger/10 text-danger"),a(),m(n.couponDetail.is_printed?"Print":"Not Print"),a(),C("ti-switch-custom"),c("checked",n.couponDetail.is_printed),a(6),c("ngClass",n.couponDetail.status==="Active"?"bg-success/10 text-success":"bg-danger/10 text-danger"),a(),m(n.couponDetail.status),a(),C("ti-switch-custom"),c("checked",n.couponDetail.status==="Active")}}function he(l,r){if(l&1&&(e(0,"p",32),i(1),t()),l&2){let n=x(3);a(),s(" ",n.couponDetail.product_data?n.couponDetail.product_data.point_category_name:"---"," ")}}function ve(l,r){if(l&1&&(v(0),e(1,"p",32),i(2),t(),e(3,"p",32),i(4),t(),e(5,"p",32),i(6),t(),S()),l&2){let n=x(3);a(2),m(n.couponDetail.product_data?n.couponDetail.product_data.category_name:"---"),a(2),m(n.couponDetail.product_data?n.couponDetail.product_data.product_name:"---"),a(2),m(n.couponDetail.product_data?n.couponDetail.product_data.product_code:"---")}}function Se(l,r){if(l&1&&(e(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div"),f(6,he,2,1,"p",30)(7,ve,7,3,"ng-container",4),t(),e(8,"div")(9,"p",16),i(10),t(),e(11,"span",17),i(12,"QR Number"),t()()(),e(13,"div"),u(14,"qrcode",31),t()()()()()),l&2){let n=r.$implicit,o=x(2);a(6),c("ngIf",o.couponDetail.qrcode_type==="point_category"),a(),c("ngIf",o.couponDetail.qrcode_type!=="point_category"),a(3),m(n.qr_item_code?n.qr_item_code:"---"),a(4),c("qrdata",n.qr_item_code)("allowEmptyString",!0)("ariaLabel","QR Code image with the following content...")("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","canvas")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("title","QR Number "+n.qr_item_code)("width",115)}}function De(l,r){if(l&1&&(v(0),e(1,"div",9),f(2,Se,15,17,"div",24),t(),S()),l&2){let n=x();a(2),c("ngForOf",n.coupon)}}function Ee(l,r){if(l&1&&(e(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div")(6,"p",32),i(7),t(),e(8,"p",32),i(9),t(),e(10,"p",32),i(11),t()(),e(12,"div")(13,"p",16),i(14),t(),e(15,"span",17),i(16,"QR Number"),t()()(),e(17,"div"),u(18,"qrcode",31),e(19,"p",35),i(20),t()()()()()()),l&2){let n=r.$implicit,o=r.index,d=x().index,p=x(2);a(7),m(p.couponDetail.product_data?p.couponDetail.product_data.category_name:"---"),a(2),m(p.couponDetail.product_data?p.couponDetail.product_data.product_name:"---"),a(2),m(p.couponDetail.product_data?p.couponDetail.product_data.product_code:"---"),a(3),m(n.qr_item_code?n.qr_item_code:"---"),a(4),c("qrdata",n.qr_item_code)("allowEmptyString",!0)("ariaLabel","QR Code image with the following content...")("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","canvas")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("title","QR Number "+n.qr_item_code)("width",115),a(2),w("BOX-",p.getExcelColumnName(d)," (ITEM-",p.getExcelColumnName(o),")")}}function Ce(l,r){if(l&1&&(e(0,"div",9)(1,"div",25)(2,"div",34)(3,"div",27)(4,"div",28)(5,"div",29)(6,"div")(7,"p",32),i(8),t(),e(9,"p",32),i(10),t(),e(11,"p",32),i(12),t()(),e(13,"div")(14,"p",16),i(15),t(),e(16,"span",17),i(17,"QR Number"),t()()(),e(18,"div"),u(19,"qrcode",31),e(20,"p",35),i(21),t()()()()()(),f(22,Ee,21,20,"div",24),t()),l&2){let n=r.$implicit,o=r.index,d=x(2);a(8),m(d.couponDetail.product_data?d.couponDetail.product_data.category_name:"---"),a(2),m(d.couponDetail.product_data?d.couponDetail.product_data.product_name:"---"),a(2),m(d.couponDetail.product_data?d.couponDetail.product_data.product_code:"---"),a(3),m(n.qr_box_code?n.qr_box_code:"---"),a(4),c("qrdata",n.qr_box_code)("allowEmptyString",!0)("ariaLabel","QR Code image with the following content...")("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","canvas")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("title","QR Number "+n.qr_box_code)("width",115),a(2),s("BOX-",d.getExcelColumnName(o),""),a(),c("ngForOf",n.items)}}function be(l,r){if(l&1&&(v(0),f(1,Ce,23,20,"div",33),S()),l&2){let n=x();a(),c("ngForOf",n.coupon)}}function we(l,r){if(l&1&&(e(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"div",41),u(5,"div",42),e(6,"div",43)(7,"h2",44),i(8),_(9,"truncateChars"),t(),e(10,"p",45),i(11),t()()(),e(12,"div",46),i(13),_(14,"truncateChars"),t()(),e(15,"div"),u(16,"qrcode",47),e(17,"p",48),i(18),t()()(),e(19,"div",49)(20,"table",50)(21,"tr")(22,"td",51),i(23," MFG.Dt"),t(),e(24,"td",52),i(25," Batch No. "),t(),e(26,"td",53),i(27,"QTY IN "),u(28,"br"),i(29," PC(s)"),t(),e(30,"td",54),i(31,"SIZE"),t(),e(32,"td",55),i(33,"MRP PER UNIT "),e(34,"span",56),i(35,"Inclusive of all Taxes"),t()()(),e(36,"tr")(37,"td",57)(38,"span",58),i(39),_(40,"date"),t()(),e(41,"td",59)(42,"span",60),i(43),t()(),e(44,"td",59)(45,"span",58),i(46,"1"),t(),i(47,"U "),t(),e(48,"td",61)(49,"span",62),i(50),_(51,"truncateChars"),t()(),e(52,"td",63)(53,"span",58),i(54),t()()()()()(),e(55,"div",64)(56,"div",65),i(57," SCAN QR "),t(),e(58,"h2",66),i(59),t()()()),l&2){let n=r.$implicit,o=r.index,d=x().index,p=x(2);a(8),m(g(9,22,p.couponDetail==null||p.couponDetail.product_data==null?null:p.couponDetail.product_data.sub_category,10)),a(3),m((p.couponDetail==null||p.couponDetail.product_data==null||p.couponDetail.product_data.form_data==null?null:p.couponDetail.product_data.form_data.small_product_code)||"---"),a(2),s(" ",g(14,25,p.couponDetail==null||p.couponDetail.product_data==null?null:p.couponDetail.product_data.product_name,18)," "),a(3),c("qrdata",n.qr_item_code)("allowEmptyString",!0)("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","img")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("width",65),a(2),m(n.qr_item_code?n.qr_item_code:""),a(21),m(p.couponDetail.created_at?g(40,28,p.couponDetail.created_at,"MMM yy"):"---"),a(4),m(p.couponDetail.batch_no),a(7),s(" ",g(51,31,p.couponDetail==null||p.couponDetail.product_data==null||p.couponDetail.product_data.form_data==null?null:p.couponDetail.product_data.form_data.size,7)," "),a(4),s("Rs. ",p.mrp,"/."),a(5),w(" BOX-",p.getExcelColumnName(d)," (ITEM-",p.getExcelColumnName(o),") ")}}function ye(l,r){if(l&1&&(v(0),e(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40)(5,"div",41),u(6,"div",42),e(7,"div",43)(8,"h2",44),i(9),_(10,"truncateChars"),t(),e(11,"p",45),i(12),t()()(),e(13,"div",46),i(14),_(15,"truncateChars"),t()(),e(16,"div"),u(17,"qrcode",47),e(18,"p",48),i(19),t()()(),e(20,"div",49)(21,"table",50)(22,"tr")(23,"td",51),i(24," MFG.Dt"),t(),e(25,"td",52),i(26," Batch No. "),t(),e(27,"td",53),i(28,"QTY IN "),u(29,"br"),i(30," PC(s)"),t(),e(31,"td",54),i(32,"SIZE"),t(),e(33,"td",55),i(34,"MRP PER UNIT "),e(35,"span",56),i(36,"Inclusive of all Taxes"),t()()(),e(37,"tr")(38,"td",57)(39,"span",58),i(40),_(41,"date"),t()(),e(42,"td",59)(43,"span",60),i(44),t()(),e(45,"td",59)(46,"span",58),i(47,"1"),t(),i(48,"U "),t(),e(49,"td",61)(50,"span",62),i(51),_(52,"truncateChars"),t()(),e(53,"td",63)(54,"span",58),i(55),t()()()()()(),e(56,"div",64)(57,"div",65),i(58," SCAN QR "),t(),e(59,"h2",66),i(60),t()()(),f(61,we,60,34,"div",67),S()),l&2){let n=r.$implicit,o=r.index,d=x(2);a(9),m(g(10,22,d.couponDetail==null||d.couponDetail.product_data==null?null:d.couponDetail.product_data.sub_category,10)),a(3),m((d.couponDetail==null||d.couponDetail.product_data==null||d.couponDetail.product_data.form_data==null?null:d.couponDetail.product_data.form_data.small_product_code)||"---"),a(2),s(" ",g(15,25,d.couponDetail==null||d.couponDetail.product_data==null?null:d.couponDetail.product_data.product_name,18)," "),a(3),c("qrdata",n.qr_box_code)("allowEmptyString",!0)("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","img")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("width",65),a(2),m(n.qr_box_code?n.qr_box_code:""),a(21),m(d.couponDetail.created_at?g(41,28,d.couponDetail.created_at,"MMM yy"):"---"),a(4),m(d.couponDetail.batch_no),a(7),s(" ",g(52,31,d.couponDetail==null||d.couponDetail.product_data==null||d.couponDetail.product_data.form_data==null?null:d.couponDetail.product_data.form_data.size,7)," "),a(4),s("Rs. ",d.mrp,"/."),a(5),s(" BOX-",d.getExcelColumnName(o)," "),a(),c("ngForOf",n.items)}}function Ie(l,r){if(l&1&&(v(0),f(1,ye,62,34,"ng-container",36),S()),l&2){let n=x();a(),c("ngForOf",n.coupon)}}function qe(l,r){if(l&1&&(v(0),e(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40)(5,"div",41),u(6,"div",42),e(7,"div",43)(8,"h2",44),i(9),_(10,"truncateChars"),t(),e(11,"p",45),i(12),t()()(),e(13,"div",46),i(14),_(15,"truncateChars"),t()(),e(16,"div"),u(17,"qrcode",47),e(18,"p",48),i(19),t()()(),e(20,"div",49)(21,"table",50)(22,"tr")(23,"td",51),i(24," MFG.Dt"),t(),e(25,"td",52),i(26," Batch No. "),t(),e(27,"td",53),i(28,"QTY IN "),u(29,"br"),i(30," PC(s)"),t(),e(31,"td",54),i(32,"SIZE"),t(),e(33,"td",55),i(34,"MRP PER UNIT "),e(35,"span",56),i(36,"Inclusive of all Taxes"),t()()(),e(37,"tr")(38,"td",57)(39,"span",58),i(40),_(41,"date"),t()(),e(42,"td",59)(43,"span",60),i(44),t()(),e(45,"td",59)(46,"span",58),i(47,"1"),t(),i(48,"U "),t(),e(49,"td",61)(50,"span",62),i(51),_(52,"truncateChars"),t()(),e(53,"td",63)(54,"span",58),i(55),t()()()()()(),e(56,"div",64)(57,"div",65),i(58," SCAN QR "),t()()(),S()),l&2){let n=r.$implicit,o=x(2);a(9),m(g(10,20,o.couponDetail==null||o.couponDetail.product_data==null?null:o.couponDetail.product_data.sub_category,10)),a(3),m((o.couponDetail==null||o.couponDetail.product_data==null||o.couponDetail.product_data.form_data==null?null:o.couponDetail.product_data.form_data.small_product_code)||"---"),a(2),s(" ",g(15,23,o.couponDetail==null||o.couponDetail.product_data==null?null:o.couponDetail.product_data.product_name,18)," "),a(3),c("qrdata",n.qr_item_code)("allowEmptyString",!0)("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","img")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("width",65),a(2),m(n.qr_item_code?n.qr_item_code:""),a(21),m(o.couponDetail.created_at?g(41,26,o.couponDetail.created_at,"MMM yy"):"---"),a(4),m(o.couponDetail.batch_no),a(7),s(" ",g(52,29,o.couponDetail==null||o.couponDetail.product_data==null||o.couponDetail.product_data.form_data==null?null:o.couponDetail.product_data.form_data.size,7)," "),a(4),s("Rs. ",o.mrp,"/.")}}function Te(l,r){if(l&1&&(v(0),f(1,qe,59,32,"ng-container",36),S()),l&2){let n=x();a(),c("ngForOf",n.coupon)}}function Qe(l,r){if(l&1&&(e(0,"div",69)(1,"div",70),u(2,"img",71),e(3,"h2",72),i(4),t()(),e(5,"div",73)(6,"div",74)(7,"div",75)(8,"div",41),u(9,"div",76),e(10,"div",77)(11,"h2",78),i(12),_(13,"truncateChars"),t(),e(14,"p",79),i(15),t()()(),e(16,"div",80),i(17),_(18,"truncateChars"),t()(),e(19,"div",81),u(20,"qrcode",47),e(21,"p",82),i(22),t(),e(23,"div",83),i(24," SCAN QR "),t()()(),e(25,"div",84)(26,"table",85)(27,"tbody")(28,"tr")(29,"td",86),i(30," MFG.Dt"),t(),e(31,"td",87),i(32," Batch No."),t(),e(33,"td",88),i(34," QTY IN "),u(35,"br"),i(36," PC(s) "),t(),e(37,"td",89),i(38,"SIZE"),t(),e(39,"td",90),i(40,"MRP PER UNIT "),e(41,"span",91),i(42,"Inclusive of all Taxes "),t()()(),e(43,"tr")(44,"td",92)(45,"span",58),i(46),_(47,"date"),t()(),e(48,"td",93)(49,"span",60),i(50),t()(),e(51,"td",93)(52,"span",58),i(53,"1"),t(),i(54,"U "),t(),e(55,"td",94)(56,"span",58),i(57),_(58,"truncateChars"),t()(),e(59,"td",95)(60,"span",96),i(61),t()()()()()()(),u(62,"div",97),t()),l&2){let n=r.$implicit,o=r.index,d=x().index,p=x(2);a(4),w("BOX-",p.getExcelColumnName(d)," (ITEM-",p.getExcelColumnName(o),")"),a(8),s(" ",g(13,22,p.couponDetail==null||p.couponDetail.product_data==null?null:p.couponDetail.product_data.sub_category,10)," "),a(3),m((p.couponDetail==null||p.couponDetail.product_data==null||p.couponDetail.product_data.form_data==null?null:p.couponDetail.product_data.form_data.small_product_code)||"---"),a(2),s(" ",g(18,25,p.couponDetail==null||p.couponDetail.product_data==null?null:p.couponDetail.product_data.product_name,21)," "),a(3),c("qrdata",n.qr_item_code?n.qr_item_code:"")("allowEmptyString",!0)("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","img")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("width",55),a(2),m(n.qr_item_code?n.qr_item_code:""),a(24),s(" ",p.couponDetail.created_at?g(47,28,p.couponDetail.created_at,"MMM yy"):"---"," "),a(4),m(p.couponDetail.batch_no),a(7),s(" ",g(58,31,p.couponDetail==null||p.couponDetail.product_data==null||p.couponDetail.product_data.form_data==null?null:p.couponDetail.product_data.form_data.size,5)," "),a(4),s("Rs. ",p.mrp,"/.")}}function Me(l,r){if(l&1&&(v(0),e(1,"div",69)(2,"div",70),u(3,"img",71),e(4,"h2",72),i(5),t()(),e(6,"div",73)(7,"div",74)(8,"div",75)(9,"div",41),u(10,"div",76),e(11,"div",77)(12,"h2",78),i(13),_(14,"truncateChars"),t(),e(15,"p",79),i(16),t()()(),e(17,"div",80),i(18),_(19,"truncateChars"),t()(),e(20,"div",81),u(21,"qrcode",47),e(22,"p",82),i(23),t(),e(24,"div",83),i(25," SCAN QR "),t()()(),e(26,"div",84)(27,"table",85)(28,"tbody")(29,"tr")(30,"td",86),i(31," MFG.Dt"),t(),e(32,"td",87),i(33," Batch No."),t(),e(34,"td",88),i(35," QTY IN "),u(36,"br"),i(37," PC(s) "),t(),e(38,"td",89),i(39,"SIZE"),t(),e(40,"td",90),i(41,"MRP PER UNIT "),e(42,"span",91),i(43,"Inclusive of all Taxes "),t()()(),e(44,"tr")(45,"td",92)(46,"span",58),i(47),_(48,"date"),t()(),e(49,"td",93)(50,"span",60),i(51),t()(),e(52,"td",93)(53,"span",58),i(54,"1"),t(),i(55,"U "),t(),e(56,"td",94)(57,"span",58),i(58),_(59,"truncateChars"),t()(),e(60,"td",95)(61,"span",96),i(62),t()()()()()()(),u(63,"div",97),t(),f(64,Qe,63,34,"div",98),S()),l&2){let n=r.$implicit,o=r.index,d=x(2);a(5),s("BOX-",d.getExcelColumnName(o),""),a(8),s(" ",g(14,22,d.couponDetail==null||d.couponDetail.product_data==null?null:d.couponDetail.product_data.sub_category,10)," "),a(3),m((d.couponDetail==null||d.couponDetail.product_data==null||d.couponDetail.product_data.form_data==null?null:d.couponDetail.product_data.form_data.small_product_code)||"---"),a(2),s(" ",g(19,25,d.couponDetail==null||d.couponDetail.product_data==null?null:d.couponDetail.product_data.product_name,21)," "),a(3),c("qrdata",n.qr_box_code)("allowEmptyString",!0)("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","img")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("width",55),a(2),m(n.qr_box_code?n.qr_box_code:""),a(24),s(" ",d.couponDetail.created_at?g(48,28,d.couponDetail.created_at,"MMM yy"):"---"," "),a(4),m(d.couponDetail.batch_no),a(7),s(" ",g(59,31,d.couponDetail==null||d.couponDetail.product_data==null||d.couponDetail.product_data.form_data==null?null:d.couponDetail.product_data.form_data.size,5)," "),a(4),s("Rs. ",d.mrp,"/."),a(2),c("ngForOf",n.items)}}function Re(l,r){if(l&1&&(e(0,"div",68),f(1,Me,65,34,"ng-container",36),t()),l&2){let n=x();a(),c("ngForOf",n.coupon)}}function ze(l,r){if(l&1&&(v(0),e(1,"div",69)(2,"div",70),u(3,"img",71),t(),e(4,"div",73)(5,"div",74)(6,"div",75)(7,"div",41),u(8,"div",76),e(9,"div",77)(10,"h2",78),i(11),_(12,"truncateChars"),t(),e(13,"p",79),i(14),t()()(),e(15,"div",80),i(16),_(17,"truncateChars"),t()(),e(18,"div",81),u(19,"qrcode",47),e(20,"p",82),i(21),t(),e(22,"div",83),i(23," SCAN QR "),t()()(),e(24,"div",84)(25,"table",85)(26,"tbody")(27,"tr")(28,"td",86),i(29," MFG.Dt"),t(),e(30,"td",87),i(31," Batch No."),t(),e(32,"td",88),i(33," QTY IN "),u(34,"br"),i(35," PC(s)"),t(),e(36,"td",89),i(37," SIZE"),t(),e(38,"td",90),i(39," MRP PER UNIT "),e(40,"span",91),i(41,"Inclusive of all Taxes"),t()()(),e(42,"tr")(43,"td",92)(44,"span",58),i(45),_(46,"date"),t()(),e(47,"td",93)(48,"span",60),i(49),t()(),e(50,"td",93)(51,"span",58),i(52,"1"),t(),i(53,"U "),t(),e(54,"td",94)(55,"span",58),i(56),_(57,"truncateChars"),t()(),e(58,"td",95)(59,"span",96),i(60),t()()()()()()(),u(61,"div",97),t(),S()),l&2){let n=r.$implicit,o=x(2);a(11),s(" ",g(12,20,o.couponDetail==null||o.couponDetail.product_data==null?null:o.couponDetail.product_data.product_name,10)," "),a(3),m((o.couponDetail==null||o.couponDetail.product_data==null||o.couponDetail.product_data.form_data==null?null:o.couponDetail.product_data.form_data.small_product_code)||"---"),a(2),s(" ",g(17,23,o.couponDetail==null||o.couponDetail.product_data==null?null:o.couponDetail.product_data.product_name,21)," "),a(3),c("qrdata",n.qr_item_code?n.qr_item_code:"")("allowEmptyString",!0)("cssClass","center")("colorDark","#000000ff")("colorLight","#ffffffff")("elementType","img")("errorCorrectionLevel","M")("imageHeight",25)("imageWidth",25)("margin",4)("scale",1)("width",55),a(2),m(n.qr_item_code?n.qr_item_code:""),a(24),m(o.couponDetail.created_at?g(46,26,o.couponDetail.created_at,"MMM yy"):"---"),a(4),m(o.couponDetail.batch_no),a(7),s(" ",g(57,29,o.couponDetail==null||o.couponDetail.product_data==null||o.couponDetail.product_data.form_data==null?null:o.couponDetail.product_data.form_data.size,5)," "),a(4),s("Rs. ",o.mrp,"/.")}}function Ne(l,r){if(l&1&&(e(0,"div",68),f(1,ze,62,32,"ng-container",36),t()),l&2){let n=x();a(),c("ngForOf",n.coupon)}}var le=class l{constructor(r,n,o,d,p,T,Fe,Le,ke,Be){this.lightbox=r;this.alert=n;this.route=o;this.api=d;this.toastr=p;this.moduleService=T;this.logService=Fe;this.fb=Le;this.authService=ke;this.comanFuncation=Be;this.orgData=this.authService.getUser()}qrCodeLabel;skLoading=!1;id;FORMID=Z;submodule=0;couponDetail={};originalData={};coupon=[];productMrp=[];filterForm;mrp=0;orgData={};ngOnInit(){this.filterForm=this.fb.group({select_value:[null]});let r=this.moduleService.getSubModuleByName("IRP","Qr Code");r&&(this.submodule=r),this.route.paramMap.subscribe(n=>{this.id=n.get("id"),this.id&&this.getQRDetail()})}getExcelColumnName(r){let n="";for(;r>=0;)n=String.fromCharCode(r%26+65)+n,r=Math.floor(r/26)-1;return n}onToggleChange(r,n,o){this.comanFuncation.statusChange(r,n,o,this.submodule,"toggle","qr-code/update-status").subscribe(d=>{this.getQRDetail()})}printStatus(r,n){this.alert.confirm("Are you sure?","You want to change print status","Yes it!").then(o=>{if(o.isConfirmed){if(this.logService.logActivityOnUpdate(!0,{"print status":this.originalData},{"print status":r},this.submodule.module_id,this.submodule.title,"update",n||null,()=>{},this.submodule.module_type)){this.toastr.warning("No changes detected","","toast-top-right");return}this.api.patch({is_printed:r,_id:n},"qr-code/print-status-change").subscribe(p=>{p.statusCode==200&&(this.toastr.success(p.message,"","toast-top-right"),this.getQRDetail())})}})}getQRDetail(){this.skLoading=!0,this.api.post({_id:this.id},"qr-code/detail-history").subscribe(r=>{r.statusCode==200&&(this.couponDetail=r.data.qr_history?r.data.qr_history:{},this.coupon=r.data.qr_data?r.data.qr_data:[],this.skLoading=!1,this.orgData?.org?.wms&&this.loadFilterOptions(),this.couponDetail&&(this.originalData=this.couponDetail.is_printed))})}loadFilterOptions(){this.api.post({product_id:this.couponDetail.product_id},"product/mrp-dropdown").subscribe(r=>{if(r.statusCode==200&&(this.productMrp=r.data??[],this.productMrp.length===1)){let n=this.productMrp[0];this.filterForm.patchValue({select_value:n.value}),this.onSingleSelectChange(n.value)}})}onSingleSelectChange(r){this.mrp=r}printLabel(){let r=this.qrCodeLabel.nativeElement.cloneNode(!0),n=window.open("","_blank","top=0,left=0,height=100%,width=auto");n?(n.document.open(),n.document.write(`
       <html>
          <head>
            <title>Qr Detail</title>
            <style>
              @media print {
              @page {margin: 0;}
                html, body {margin: 0; padding: 0;}
                #QR_CODE_LABEL > div { page-break-after: always; break-after: always; page-break-inside: avoid; display: block;}
                body {font-family: 'Arial', sans-serif;}
              }
            </style>
          </head>
          <body></body>
        </html>
      `),n.document.close(),setTimeout(()=>{let o=n.document.body;o&&(o.appendChild(r),n.focus(),n.print(),n.close())},500)):console.error("Popup blocked.")}static \u0275fac=function(n){return new(n||l)(h(ie),h(H),h(P),h(U),h(V),h($),h(J),h(j),h(W),h(K))};static \u0275cmp=Q({type:l,selectors:[["app-qr-details"]],viewQuery:function(n,o){if(n&1&&M(re,5),n&2){let d;R(d=z())&&(o.qrCodeLabel=d.first)}},decls:14,vars:20,consts:[["qrCodeLabel",""],[3,"buttonClick","onSingleSelectChange","title","title1","activeitem","buttonText","icon","btnShow","buttonValue","btnShow1","showSelectOption","optionArray","filterForm"],[1,"grid","grid-cols-12","gap-x-3"],[1,"xl:col-span-12","col-span-12"],[4,"ngIf"],[3,"title","class","titleView",4,"ngIf"],["id","QR_CODE_LABEL"],["hidden",""],["style","width:86mm; display: grid; grid-template-columns: 1fr 1fr;",4,"ngIf"],[1,"grid","grid-cols-12","gap-x-6"],["class","xl:col-span-3 col-span-12 mb-4",4,"ngFor","ngForOf"],[1,"xl:col-span-3","col-span-12","mb-4"],[3,"title","titleView"],[1,"ti-list-group","list-group-flush","border-0"],[1,"flex","items-center","gap-5","flex-wrap"],[1,"flex","items-center","me-2","flex-wrap"],[1,"block","font-medium","text-primay"],[1,"text-textmuted","dark:text-textmuted/50","font-medium"],["class","flex items-center me-2 flex-wrap",4,"ngIf"],[1,"flex","gap-2","items-center","me-2","flex-wrap"],[1,"flex","gap-2"],[1,"text-[11px]","badge",3,"ngClass"],[3,"checkedChange","checked"],[1,"block","text-textmuted","dark:text-textmuted/50","font-medium"],["class","xl:col-span-4 col-span-12",4,"ngFor","ngForOf"],[1,"xl:col-span-4","col-span-12"],[1,"box"],[1,"box-body"],[1,"flex","items-center","justify-between","gap-3"],[1,"flex-auto","qr-code-block"],["class","text-[.6875rem] font-medium",4,"ngIf"],[3,"qrdata","allowEmptyString","ariaLabel","cssClass","colorDark","colorLight","elementType","errorCorrectionLevel","imageHeight","imageWidth","margin","scale","title","width"],[1,"text-[.6875rem]","font-medium"],["class","grid grid-cols-12 gap-x-6",4,"ngFor","ngForOf"],[1,"box","border-4","border-black/50"],[1,"dark:text-textmuted/50","font-bold","text-[.6875rem]","text-center","text-textmuted"],[4,"ngFor","ngForOf"],[2,"width","321.25984252px","height","162.51968504px","position","relative"],[2,"width","284.259843px","float","left"],[2,"display","flex","justify-content","space-between"],[2,"width","100%"],[2,"width","100%","display","flex"],[2,"width","85px","min-width","85px"],[2,"width","100%","text-align","center"],[2,"margin","6px 0px 0px 0px","font-size","16px","line-height","20px","font-weight","700","text-transform","uppercase"],[2,"margin","0px","font-size","9px","line-height","12px","font-weight","600"],[2,"border","1px solid #000","text-align","center","font-size","16px","font-weight","600","width","calc(100% - 15px)","margin","3px auto 3px 8px","text-transform","uppercase","position","relative","z-index","2"],[3,"qrdata","allowEmptyString","cssClass","colorDark","colorLight","elementType","errorCorrectionLevel","imageHeight","imageWidth","margin","scale","width"],[2,"font-size","6.5px","font-weight","800 !important","text-align","center","margin","-4px 0px 0px"],[2,"margin-top","0px","padding-left","8px","position","relative","z-index","1"],[2,"width","100%","table-layout","fixed","box-sizing","border-box","border-collapse","collapse"],[2,"width","45px","line-height","10px","border","1px solid #000","font-size","8px","text-align","center","font-weight","500"],[2,"width","65px","line-height","10px","border","1px solid #000","font-size","8px","text-align","center","font-weight","500"],[2,"width","35px","line-height","10px","border","1px solid #000","font-size","8px","text-align","center","font-weight","500"],[2,"width","50px","line-height","10px","border","1px solid #000","font-size","10px","text-align","center","font-weight","600"],[2,"line-height","10px","border","1px solid #000","font-size","8px","text-align","center","font-weight","500"],[2,"font-size","6px","text-align","center","display","block"],[2,"width","70px","line-height","10px","border","1px solid #000","font-size","10px","text-align","center","padding","3px 0px"],[2,"font-weight","900","font-size","11px"],[2,"width","50px","line-height","10px","border","1px solid #000","font-size","10px","text-align","center","padding","3px 0px"],[2,"font-weight","900","font-size","10px"],[2,"width","60px","line-height","10px","border","1px solid #000","font-size","12px","text-align","center","font-weight","600","padding","3px 0px"],[2,"font-weight","900","font-size","11px","white-space","nowrap"],[2,"line-height","10px","border","1px solid #000","font-weight","900","text-align","center","padding","3px 0px"],[2,"width","36.99999952px","float","left","display","flex","padding-top","10px","position","relative","left","-10px"],[2,"writing-mode","vertical-rl","margin","0px","position","relative","font-size","9px","line-height","14px","font-weight","700"],[2,"writing-mode","vertical-rl","margin","0px","font-size","10px","font-weight","900 !important"],["style","width: 321.25984252px; height:162.51968504px; position: relative;",4,"ngFor","ngForOf"],[2,"width","86mm","display","grid","grid-template-columns","1fr 1fr"],[2,"width","43mm","min-width","43mm","height","125mm"],[2,"width","43mm","height","39mm","display","flex","align-items","center","justify-content","space-evenly"],["src","https://gravitybath.basiq360.com/api/uploads/product_image/637e0b5a25ff4.jpg",2,"height","130px","transform","rotate(90deg)"],[2,"writing-mode","vertical-rl","font-size","10px","font-weight","900 !important"],[2,"writing-mode","vertical-rl","position","relative","right","-42px","height","74mm"],[2,"display","flex","height","100%"],[2,"width","70px","height","59mm"],[2,"width","20px","min-width","20px","height","90px"],[2,"width","40px","text-align","center"],[2,"margin","0px","font-size","19px","line-height","18px","font-weight","700","text-transform","uppercase","white-space","nowrap"],[2,"margin","0px","font-size","10px","line-height","10px","font-weight","700"],[2,"border","1px solid #000","text-align","center","text-transform","uppercase","white-space","nowrap","font-size","15px","font-weight","600","height","55mm","margin","0px","position","relative","right","-30px","padding","0px 2px"],[2,"margin-top","-10px","position","relative"],[2,"writing-mode","vertical-rl","font-size","5.5px","font-weight","600 !important","margin-right","-5px","margin-bottom","-10px"],[2,"writing-mode","horizontal-tb","margin","0px","font-size","9px","line-height","14px","font-weight","700","right","6px","top","48px","position","absolute"],[2,"position","relative","z-index","1","height","72mm"],[2,"height","100%","table-layout","fixed","box-sizing","border-box","border-collapse","collapse","position","relative","right","-2px"],[2,"height","45px","width","10px","line-height","10px","border","1px solid #000","font-size","8px","text-align","center","font-weight","600"],[2,"height","60px","width","10px","line-height","10px","border","1px solid #000","font-size","8px","text-align","center","font-weight","600"],[2,"height","35px","width","10px","line-height","10px","border","1px solid #000","font-size","8px","text-align","center","font-weight","600"],[2,"height","40px","width","10px","line-height","10px","border","1px solid #000","font-size","10px","text-align","center","font-weight","700"],[2,"line-height","10px","border","1px solid #000","font-size","8px","text-align","center","font-weight","600"],[2,"font-size","7px","line-height","6px","text-align","center","display","block"],[2,"height","70px","width","10px","line-height","10px","border","1px solid #000","font-size","10px","text-align","center","padding","3px 4px","white-space","nowrap"],[2,"height","50px","width","10px","line-height","10px","border","1px solid #000","font-size","10px","text-align","center","padding","3px 4px"],[2,"height","60px","width","10px","line-height","10px","border","1px solid #000","font-size","11px","text-align","center","font-weight","600","padding","3px 4px","white-space","nowrap"],[2,"width","15px","line-height","10px","border","1px solid #000","font-weight","900","text-align","center","padding","3px 4px"],[2,"font-weight","900","font-size","12px"],[2,"width","43mm","height","12mm"],["style","width: 43mm; min-width: 43mm; height: 125mm;",4,"ngFor","ngForOf"]],template:function(n,o){if(n&1){let d=y();e(0,"app-page-header",1),b("buttonClick",function(){return D(d),E(o.printLabel())})("onSingleSelectChange",function(T){return D(d),E(o.onSingleSelectChange(T))}),t(),e(1,"div",2)(2,"div",3),f(3,me,3,2,"app-showcode-card",4)(4,fe,52,30,"app-showcode-card",5)(5,De,3,1,"ng-container",4)(6,be,2,1,"ng-container",4),t()(),e(7,"div",6,0)(9,"div",7),f(10,Ie,2,1,"ng-container",4)(11,Te,2,1,"ng-container",4)(12,Re,2,1,"div",8)(13,Ne,2,1,"div",8),t()()}n&2&&(c("title","Loyalty")("title1",I(19,de))("activeitem","QR Code Details")("buttonText","Print QR")("icon","qr_code")("btnShow",!0)("buttonValue","Print QR")("btnShow1",!1)("showSelectOption",o.orgData==null||o.orgData.org==null?null:o.orgData.org.wms)("optionArray",o.productMrp)("filterForm",o.filterForm),a(3),c("ngIf",o.skLoading),a(),c("ngIf",!o.skLoading),a(),c("ngIf",o.couponDetail.qrcode_type!=="box"),a(),c("ngIf",o.couponDetail.qrcode_type==="box"),a(4),c("ngIf",o.couponDetail.qrcode_type==="box"&&o.couponDetail.paper_size==="85*43"),a(),c("ngIf",o.couponDetail.qrcode_type==="item"&&o.couponDetail.paper_size==="85*43"),a(),c("ngIf",o.couponDetail.qrcode_type==="box"&&o.couponDetail.paper_size==="43*125"),a(),c("ngIf",o.couponDetail.qrcode_type==="item"&&o.couponDetail.paper_size==="43*125"))},dependencies:[X,N,F,L,ee,G,te,k,B,A,ne,O,Y,ae,oe],encapsulation:2})};export{le as QrDetailsComponent};
