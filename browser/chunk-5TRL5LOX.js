import{F as dt,a as ct,b as ht,c as lt}from"./chunk-VHE3PQ3O.js";import{B as rt,G as st,W as ot,Z as se,Za as pt,aa as at,hb as ut,ib as Yt,z as nt}from"./chunk-GYDYF5F3.js";import{Q as it,e as Ge,f as Ze,g as et,t as tt}from"./chunk-PD5VTTIY.js";import{Aa as O,Ba as B,Ca as te,Da as ie,Fc as ye,Gc as ve,Hb as We,Hc as be,Mc as h,Nc as E,Ob as C,Oc as $e,Pc as Qe,Uc as xe,Vc as Ce,Wc as we,Yc as Se,Zc as Xe,_b as g,ac as _e,bc as Ke,c as K,fc as ze,hc as Je,ic as Ye,jc as je,ka as Ve,kc as o,lb as ge,lc as a,mc as m,nc as P,ob as He,oc as I,pa as De,qc as re,rb as u,sb as ne,wc as S,yc as _}from"./chunk-2NSPOFEK.js";import"./chunk-EU2KAMEK.js";import{f as zt,g as Jt,i as Fe}from"./chunk-66YHNWRR.js";var H=Jt(Yt());var x=Object.create(null);x.open="0";x.close="1";x.ping="2";x.pong="3";x.message="4";x.upgrade="5";x.noop="6";var z=Object.create(null);Object.keys(x).forEach(n=>{z[x[n]]=n});var J={type:"error",data:"parser error"};var gt=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_t=typeof ArrayBuffer=="function",yt=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Y=({type:n,data:t},e,i)=>gt&&t instanceof Blob?e?i(t):ft(t,i):_t&&(t instanceof ArrayBuffer||yt(t))?e?i(t):ft(new Blob([t]),i):i(x[n]+(t||"")),ft=(n,t)=>{let e=new FileReader;return e.onload=function(){let i=e.result.split(",")[1];t("b"+(i||""))},e.readAsDataURL(n)};function mt(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var Ee;function vt(n,t){if(gt&&n.data instanceof Blob)return n.data.arrayBuffer().then(mt).then(t);if(_t&&(n.data instanceof ArrayBuffer||yt(n.data)))return t(mt(n.data));Y(n,!1,e=>{Ee||(Ee=new TextEncoder),t(Ee.encode(e))})}var bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<bt.length;n++)j[bt.charCodeAt(n)]=n;var xt=n=>{let t=n.length*.75,e=n.length,i,r=0,s,c,p,d;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);let w=new ArrayBuffer(t),b=new Uint8Array(w);for(i=0;i<e;i+=4)s=j[n.charCodeAt(i)],c=j[n.charCodeAt(i+1)],p=j[n.charCodeAt(i+2)],d=j[n.charCodeAt(i+3)],b[r++]=s<<2|c>>4,b[r++]=(c&15)<<4|p>>2,b[r++]=(p&3)<<6|d&63;return w};var jt=typeof ArrayBuffer=="function",$=(n,t)=>{if(typeof n!="string")return{type:"message",data:Ct(n,t)};let e=n.charAt(0);return e==="b"?{type:"message",data:$t(n.substring(1),t)}:z[e]?n.length>1?{type:z[e],data:n.substring(1)}:{type:z[e]}:J},$t=(n,t)=>{if(jt){let e=xt(n);return Ct(e,t)}else return{base64:!0,data:n}},Ct=(n,t)=>{switch(t){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var wt="",St=(n,t)=>{let e=n.length,i=new Array(e),r=0;n.forEach((s,c)=>{Y(s,!1,p=>{i[c]=p,++r===e&&t(i.join(wt))})})},Et=(n,t)=>{let e=n.split(wt),i=[];for(let r=0;r<e.length;r++){let s=$(e[r],t);if(i.push(s),s.type==="error")break}return i};function kt(){return new TransformStream({transform(n,t){vt(n,e=>{let i=e.length,r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);let s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);let s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(e)})}})}var ke;function oe(n){return n.reduce((t,e)=>t+e.length,0)}function ae(n,t){if(n[0].length===t)return n.shift();let e=new Uint8Array(t),i=0;for(let r=0;r<t;r++)e[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),e}function Tt(n,t){ke||(ke=new TextDecoder);let e=[],i=0,r=-1,s=!1;return new TransformStream({transform(c,p){for(e.push(c);;){if(i===0){if(oe(e)<1)break;let d=ae(e,1);s=(d[0]&128)===128,r=d[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(oe(e)<2)break;let d=ae(e,2);r=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(oe(e)<8)break;let d=ae(e,8),w=new DataView(d.buffer,d.byteOffset,d.length),b=w.getUint32(0);if(b>Math.pow(2,21)-1){p.enqueue(J);break}r=b*Math.pow(2,32)+w.getUint32(4),i=3}else{if(oe(e)<r)break;let d=ae(e,r);p.enqueue($(s?d:ke.decode(d),t)),i=0}if(r===0||r>n){p.enqueue(J);break}}}})}var Te=4;function f(n){if(n)return Qt(n)}function Qt(n){for(var t in f.prototype)n[t]=f.prototype[t];return n}f.prototype.on=f.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this};f.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this};f.prototype.off=f.prototype.removeListener=f.prototype.removeAllListeners=f.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,r=0;r<e.length;r++)if(i=e[r],i===t||i.fn===t){e.splice(r,1);break}return e.length===0&&delete this._callbacks["$"+n],this};f.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(e){e=e.slice(0);for(var i=0,r=e.length;i<r;++i)e[i].apply(this,t)}return this};f.prototype.emitReserved=f.prototype.emit;f.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};f.prototype.hasListeners=function(n){return!!this.listeners(n).length};var k=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),y=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),At="arraybuffer";function ce(n,...t){return t.reduce((e,i)=>(n.hasOwnProperty(i)&&(e[i]=n[i]),e),{})}var Xt=y.setTimeout,Gt=y.clearTimeout;function T(n,t){t.useNativeTimers?(n.setTimeoutFn=Xt.bind(y),n.clearTimeoutFn=Gt.bind(y)):(n.setTimeoutFn=y.setTimeout.bind(y),n.clearTimeoutFn=y.clearTimeout.bind(y))}var Zt=1.33;function Rt(n){return typeof n=="string"?ei(n):Math.ceil((n.byteLength||n.size)*Zt)}function ei(n){let t=0,e=0;for(let i=0,r=n.length;i<r;i++)t=n.charCodeAt(i),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(i++,e+=4);return e}function he(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ot(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}function Bt(n){let t={},e=n.split("&");for(let i=0,r=e.length;i<r;i++){let s=e[i].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}var le=class extends Error{constructor(t,e,i){super(t),this.description=e,this.context=i,this.type="TransportError"}},A=class extends f{constructor(t){super(),this.writable=!1,T(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,i){return super.emitReserved("error",new le(t,e,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let e=$(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let e=Ot(t);return e.length?"?"+e:""}};var Q=class extends A{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let e=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Et(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,St(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=he()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}};var Lt=!1;try{Lt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Nt=Lt;function ti(){}var Ae=class extends Q{constructor(t){if(super(t),typeof location<"u"){let e=location.protocol==="https:",i=location.port;i||(i=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,e){let i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,i)=>{this.onError("xhr poll error",e,i)}),this.pollXhr=t}},pe=(()=>{class n extends f{constructor(e,i,r){super(),this.createRequest=e,T(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;let i=ce(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ti,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Pt);else if(typeof addEventListener=="function"){let n="onpagehide"in y?"pagehide":"unload";addEventListener(n,Pt,!1)}}function Pt(){for(let n in pe.requests)pe.requests.hasOwnProperty(n)&&pe.requests[n].abort()}var ii=function(){let n=It({xdomain:!1});return n&&n.responseType!==null}(),L=class extends Ae{constructor(t){super(t);let e=t&&t.forceBase64;this.supportsBinary=ii&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new pe(It,this.uri(),t)}};function It(n){let t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Nt))return new XMLHttpRequest}catch{}if(!t)try{return new y[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Mt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Oe=class extends A{get name(){return"websocket"}doOpen(){let t=this.uri(),e=this.opts.protocols,i=Mt?{}:ce(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let i=t[e],r=e===t.length-1;Y(i,this.supportsBinary,s=>{try{this.doWrite(i,s)}catch{}r&&k(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=he()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}},Re=y.WebSocket||y.MozWebSocket,N=class extends Oe{createSocket(t,e,i){return Mt?new Re(t,e,i):e?new Re(t,e):new Re(t)}doWrite(t,e){this.ws.send(e)}};var q=class extends A{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let e=Tt(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(e).getReader(),r=kt();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();let s=()=>{i.read().then(({done:p,value:d})=>{p||(this.onPacket(d),s())}).catch(p=>{})};s();let c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let i=t[e],r=e===t.length-1;this._writer.write(i).then(()=>{r&&k(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};var Be={websocket:N,webtransport:q,polling:L};var ni=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ri=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function U(n){if(n.length>8e3)throw"URI too long";let t=n,e=n.indexOf("["),i=n.indexOf("]");e!=-1&&i!=-1&&(n=n.substring(0,e)+n.substring(e,i).replace(/:/g,";")+n.substring(i,n.length));let r=ni.exec(n||""),s={},c=14;for(;c--;)s[ri[c]]=r[c]||"";return e!=-1&&i!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=si(s,s.path),s.queryKey=oi(s,s.query),s}function si(n,t){let e=/\/{2,9}/g,i=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function oi(n,t){let e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(e[r]=s)}),e}var Le=typeof addEventListener=="function"&&typeof removeEventListener=="function",ue=[];Le&&addEventListener("offline",()=>{ue.forEach(n=>n())},!1);var de=(()=>{class n extends f{constructor(e,i){if(super(),this.binaryType=At,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(i=e,e=null),e){let r=U(e);i.hostname=r.host,i.secure=r.protocol==="https"||r.protocol==="wss",i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=U(i.host).host);T(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{let s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Bt(this.opts.query)),Le&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ue.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let i=Object.assign({},this.opts.query);i.EIO=Te,i.transport=e,this.id&&(i.sid=this.id);let r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let i=this.createTransport(e);i.open(),this.setTransport(i)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let i=new Error("server error");i.code=e.data,this._onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){let s=this.writeBuffer[r].data;if(s&&(i+=Rt(s)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,k(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,i,r){return this._sendPacket("message",e,i,r),this}send(e,i,r){return this._sendPacket("message",e,i,r),this}_sendPacket(e,i,r,s){if(typeof i=="function"&&(s=i,i=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let c={type:e,data:i,options:r};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),s&&this.once("flush",s),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Le&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let r=ue.indexOf(this._offlineEventListener);r!==-1&&ue.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=Te,n})(),fe=class extends de{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),i=!1;de.priorWebsocketSuccess=!1;let r=()=>{i||(e.send([{type:"ping",data:"probe"}]),e.once("packet",R=>{if(!i)if(R.type==="pong"&&R.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;de.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(b(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let W=new Error("probe error");W.transport=e.name,this.emitReserved("upgradeError",W)}}))};function s(){i||(i=!0,b(),e.close(),e=null)}let c=R=>{let W=new Error("probe error: "+R);W.transport=e.name,s(),this.emitReserved("upgradeError",W)};function p(){c("transport closed")}function d(){c("socket closed")}function w(R){e&&R.name!==e.name&&s()}let b=()=>{e.removeListener("open",r),e.removeListener("error",c),e.removeListener("close",p),this.off("close",d),this.off("upgrading",w)};e.once("open",r),e.once("error",c),e.once("close",p),this.once("close",d),this.once("upgrading",w),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let e=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&e.push(t[i]);return e}},F=class extends fe{constructor(t,e={}){let i=typeof t=="object"?t:e;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>Be[r]).filter(r=>!!r)),super(t,i)}};var Dn=F.protocol;function qt(n,t="",e){let i=n;e=e||typeof location<"u"&&location,n==null&&(n=e.protocol+"//"+e.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=e.protocol+n:n=e.host+n),/^(https?|wss?):\/\//.test(n)||(typeof e<"u"?n=e.protocol+"//"+n:n="https://"+n),i=U(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+t,i.href=i.protocol+"://"+s+(e&&e.port===i.port?"":":"+i.port),i}var Ue={};zt(Ue,{Decoder:()=>Me,Encoder:()=>Ie,PacketType:()=>l,protocol:()=>Ht});var ci=typeof ArrayBuffer=="function",hi=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Ut=Object.prototype.toString,li=typeof Blob=="function"||typeof Blob<"u"&&Ut.call(Blob)==="[object BlobConstructor]",pi=typeof File=="function"||typeof File<"u"&&Ut.call(File)==="[object FileConstructor]";function G(n){return ci&&(n instanceof ArrayBuffer||hi(n))||li&&n instanceof Blob||pi&&n instanceof File}function X(n,t){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let e=0,i=n.length;e<i;e++)if(X(n[e]))return!0;return!1}if(G(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return X(n.toJSON(),!0);for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&X(n[e]))return!0;return!1}function Ft(n){let t=[],e=n.data,i=n;return i.data=Ne(e,t),i.attachments=t.length,{packet:i,buffers:t}}function Ne(n,t){if(!n)return n;if(G(n)){let e={_placeholder:!0,num:t.length};return t.push(n),e}else if(Array.isArray(n)){let e=new Array(n.length);for(let i=0;i<n.length;i++)e[i]=Ne(n[i],t);return e}else if(typeof n=="object"&&!(n instanceof Date)){let e={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=Ne(n[i],t));return e}return n}function Vt(n,t){return n.data=Pe(n.data,t),delete n.attachments,n}function Pe(n,t){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=Pe(n[e],t);else if(typeof n=="object")for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=Pe(n[e],t));return n}var ui=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ht=5,l=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(l||{}),Ie=class{constructor(t){this.replacer=t}encode(t){return(t.type===l.EVENT||t.type===l.ACK)&&X(t)?this.encodeAsBinary({type:t.type===l.EVENT?l.BINARY_EVENT:l.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===l.BINARY_EVENT||t.type===l.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){let e=Ft(t),i=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(i),r}};function Dt(n){return Object.prototype.toString.call(n)==="[object Object]"}var Me=class n extends f{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);let i=e.type===l.BINARY_EVENT;i||e.type===l.BINARY_ACK?(e.type=i?l.EVENT:l.ACK,this.reconstructor=new qe(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(G(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0,i={type:Number(t.charAt(0))};if(l[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===l.BINARY_EVENT||i.type===l.BINARY_ACK){let s=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);let c=t.substring(s,e);if(c!=Number(c)||t.charAt(e)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(t.charAt(e+1)==="/"){let s=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););i.nsp=t.substring(s,e)}else i.nsp="/";let r=t.charAt(e+1);if(r!==""&&Number(r)==r){let s=e+1;for(;++e;){let c=t.charAt(e);if(c==null||Number(c)!=c){--e;break}if(e===t.length)break}i.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){let s=this.tryParse(t.substr(e));if(n.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case l.CONNECT:return Dt(e);case l.DISCONNECT:return e===void 0;case l.CONNECT_ERROR:return typeof e=="string"||Dt(e);case l.EVENT:case l.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&ui.indexOf(e[0])===-1);case l.ACK:case l.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},qe=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let e=Vt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function v(n,t,e){return n.on(t,e),function(){n.off(t,e)}}var di=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),V=class extends f{constructor(t,e,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[v(t,"open",this.onopen.bind(this)),v(t,"packet",this.onpacket.bind(this)),v(t,"error",this.onerror.bind(this)),v(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var i,r,s;if(di.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let c={type:l.EVENT,data:e};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let b=this.ids++,R=e.pop();this._registerAckCallback(b,R),c.id=b}let p=(r=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||r===void 0?void 0:r.writable,d=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!p||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,e){var i;let r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[t]=e;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===t&&this.sendBuffer.splice(p,1);e.call(this,new Error("operation has timed out"))},r),c=(...p)=>{this.io.clearTimeoutFn(s),e.apply(this,p)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...e){return new Promise((i,r)=>{let s=(c,p)=>c?r(c):i(p);s.withError=!0,e.push(s),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());let i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...s)=>i!==this._queue[0]?void 0:(r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:l.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){let i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case l.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case l.EVENT:case l.BINARY_EVENT:this.onevent(t);break;case l.ACK:case l.BINARY_ACK:this.onack(t);break;case l.DISCONNECT:this.ondisconnect();break;case l.CONNECT_ERROR:this.destroy();let i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){let e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let i of e)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let e=this,i=!1;return function(...r){i||(i=!0,e.packet({type:l.ACK,id:t,data:r}))}}onack(t){let e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:l.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let e=this._anyListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let e=this._anyOutgoingListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let i of e)i.apply(this,t.data)}}};function M(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}M.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=Math.floor(t*10)&1?n+e:n-e}return Math.min(n,this.max)|0};M.prototype.reset=function(){this.attempts=0};M.prototype.setMin=function(n){this.ms=n};M.prototype.setMax=function(n){this.max=n};M.prototype.setJitter=function(n){this.jitter=n};var D=class extends f{constructor(t,e){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,T(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((i=e.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new M({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;let r=e.parser||Ue;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new F(this.uri,this.opts);let e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let r=v(e,"open",function(){i.onopen(),t&&t()}),s=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),t?t(p):this.maybeReconnectOnOpen()},c=v(e,"error",s);if(this._timeout!==!1){let p=this._timeout,d=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),e.close()},p);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(r),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(v(t,"ping",this.onping.bind(this)),v(t,"data",this.ondata.bind(this)),v(t,"error",this.onerror.bind(this)),v(t,"close",this.onclose.bind(this)),v(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){k(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new V(this,t,e),this.nsps[t]=i),i}_destroy(t){let e=Object.keys(this.nsps);for(let i of e)if(this.nsps[i].active)return;this._close()}_packet(t){let e=this.encoder.encode(t);for(let i=0;i<e.length;i++)this.engine.write(e[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var Z={};function ee(n,t){typeof n=="object"&&(t=n,n=void 0),t=t||{};let e=qt(n,t.path||"/socket.io"),i=e.source,r=e.id,s=e.path,c=Z[r]&&s in Z[r].nsps,p=t.forceNew||t["force new connection"]||t.multiplex===!1||c,d;return p?d=new D(i,t):(Z[r]||(Z[r]=new D(i,t)),d=Z[r]),e.query&&!t.query&&(t.query=e.queryKey),d.socket(e.path,t)}Object.assign(ee,{Manager:D,Socket:V,io:ee,connect:ee});var me=class n{constructor(t){this.apiService=t;this.socket=ee(this.apiService.webSocketUrl,{transports:["websocket"],reconnection:!0,auth:{token:localStorage.getItem("authToken")}}),this.socket.on("exception",e=>{this.apiService.toastr.error(e.message,"","toast-bottom-right")})}socket;eventEmit(t,e){this.socket.emit(t,e)}sendMessage(t){this.socket.emit("supportMessage",t)}receiveMessages(){return new K(t=>{this.socket.on("appMessage",e=>{t.next(e)})})}errorListen(){return new K(t=>{this.socket.on("supportMessageError",e=>{t.next(e)})})}listen(t){return new K(e=>{this.socket.on(t,i=>{e.next(i)})})}userStatus(){return new K(t=>{this.socket.on("userStatus",e=>{t.next(e)})})}static \u0275fac=function(e){return new(e||n)(De(se))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})};var _i=["inputField"],yi=["scrollContainer"],Kt=()=>[],vi=n=>({active:n});function bi(n,t){if(n&1){let e=re();o(0,"button",56),S("click",function(){O(e);let r=_();return r.search="",B(r.getPendingChats())}),m(1,"i",57),a()}}function xi(n,t){n&1&&(P(0),o(1,"p",58),h(2,"No chat or messages found"),a(),I())}function Ci(n,t){n&1&&(o(0,"li"),m(1,"app-skeleton"),a())}function wi(n,t){n&1&&(P(0),C(1,Ci,2,0,"li",62),I()),n&2&&(u(),g("ngForOf",Se(1,Kt).constructor(8)))}function Si(n,t){if(n&1&&(o(0,"span",73),h(1),a()),n&2){let e=_().$implicit;u(),E(e==null?null:e.pending_chat_count)}}function Ei(n,t){}function ki(n,t){if(n&1){let e=re();o(0,"li",63)(1,"a",64),S("click",function(){let r=O(e).$implicit;return _(3).handleClick(r),B(r.pending_chat_count=0)}),o(2,"div",65)(3,"div",66)(4,"span",67)(5,"img",68),S("error",function(r){O(e);let s=_(3);return B(s.onError(r))}),a()()(),o(6,"div",41)(7,"p",69),h(8),o(9,"span",70),h(10),a()(),o(11,"p",71)(12,"span",72),h(13),a(),C(14,Si,2,1,"span",73)(15,Ei,0,0),a()()()()()}if(n&2){let e=t.$implicit,i=_(3);g("ngClass",Xe(9,vi,i.activeUser===e)),u(5),_e("object-contain",i.isFallback),g("src",e==null?null:e.image,ge),u(3),$e(" ",e==null?null:e.name," "),u(2),E(e==null?null:e.time),u(2),g("matTooltip",e==null?null:e.message),u(),E(e==null?null:e.message),u(),ze(e!=null&&e.pending_chat_count?14:15)}}function Ti(n,t){if(n&1&&(P(0),Ye(1,ki,16,11,"li",63,Je),I()),n&2){let e=_(2);u(),je(e.recents)}}function Ai(n,t){if(n&1&&(o(0,"div",59)(1,"div",60)(2,"overlay-scrollbars")(3,"ul",61),C(4,wi,2,2,"ng-container",7)(5,Ti,3,0,"ng-container",7),a()()()()),n&2){let e=_();u(4),g("ngIf",e.skLoading),u(),g("ngIf",!e.skLoading)}}function Ri(n,t){n&1&&(o(0,"div",75),m(1,"app-skeleton"),a()),n&2&&(u(),Ke("h30"))}function Oi(n,t){n&1&&(P(0),C(1,Ri,2,2,"div",74),I()),n&2&&(u(),g("ngForOf",Se(1,Kt).constructor(10)))}function Bi(n,t){if(n&1&&(o(0,"li",91)(1,"div",92)(2,"div",93),te(),o(3,"svg",94)(4,"title"),h(5,"tail-in"),a(),m(6,"path",95)(7,"path",96),a()(),ie(),o(8,"span",97),h(9),a(),o(10,"span",98),h(11),a()()()),n&2){let e=_().$implicit;u(9),E(e.message),u(2),E(e.time)}}function Li(n,t){if(n&1&&(o(0,"li",99)(1,"div",100)(2,"div",101),te(),o(3,"svg",94)(4,"title"),h(5,"tail-out"),a(),m(6,"path",102)(7,"path",103),a()(),ie(),o(8,"span",97),h(9),a(),o(10,"span",98),h(11),a()()()),n&2){let e=_().$implicit;u(9),E(e.message),u(2),E(e.time)}}function Ni(n,t){if(n&1&&(P(0),C(1,Bi,12,2,"li",89)(2,Li,12,2,"li",90),I()),n&2){let e=t.$implicit,i=_(2);u(),g("ngIf",e.sender_id!=i.loginId),u(),g("ngIf",e.sender_id==i.loginId)}}function Pi(n,t){if(n&1){let e=re();P(0),o(1,"div",76)(2,"div",77)(3,"span",78)(4,"img",79),S("error",function(r){O(e);let s=_();return B(s.onError(r))}),a()(),o(5,"div",41)(6,"p",80)(7,"a",81),h(8),a()(),o(9,"p",82),h(10),a()()(),o(11,"div",83)(12,"ul",84,0),C(14,Ni,3,2,"ng-container",62),a()(),o(15,"div",85)(16,"input",86),we("ngModelChange",function(r){O(e);let s=_();return Ce(s.message,r)||(s.message=r),B(r)}),S("keyup.enter",function(){O(e);let r=_();return B(r.message?r.sendMessage():"")}),a(),o(17,"button",87),S("click",function(){O(e);let r=_();return B(r.message.trim()?r.sendMessage():"")}),m(18,"i",88),a()()(),I()}if(n&2){let e=_();u(4),_e("object-contain",e.isFallback),g("src",e.activeUser.image,ge),u(4),E(e.activeUser.name),u(2),Qe("",e.activeUser==null?null:e.activeUser.designation," (",e.activeUser==null?null:e.activeUser.mobile,")"),u(4),g("ngForOf",e.messages),u(2),xe("ngModel",e.message),u(),g("disabled",!e.message.trim())}}function Ii(n,t){n&1&&(o(0,"div",104),m(1,"img",105),o(2,"h2",106),h(3,"Welcome to Support Chat"),a(),o(4,"p",107),h(5,"Select a conversation from the left to view messages or start chatting with a customer. This is your central hub for resolving queries and staying connected with users in real time."),a()())}var Wt=class n{constructor(t,e,i){this.apiService=t;this.chatService=e;this.authService=i}active;closeResult="";isOpen=!1;skLoading=!1;recents=[];activeUser={};messages=[];message="";loginId="";messageInput;reqSent=!1;intervalId;OrgLoginData={};orgData={};ngOnInit(){this.orgData=this.authService.getOrg(),this.getPendingChats(),this.chatService.listen("newChat").subscribe(t=>{t&&this.getPendingChats(!1)}),this.chatService.listen("chatValidationError").subscribe(t=>{t&&this.apiService.toastr.error(t.message,"","toast-bottom-right")}),this.OrgLoginData=this.authService.getUser(),this.loginId=this.OrgLoginData?._id}handleClick(t){this.activeUser=t,window.innerWidth<=992&&document.querySelector(".main-chart-wrapper ")?.classList.add("responsive-chat-open"),this.messages=[],this.message="",this.receiveMessagesSubs&&this.receiveMessagesSubs.unsubscribe(),this.errSubs&&this.errSubs.unsubscribe(),setTimeout(()=>{let e=document.querySelector("#myInput");e&&e.focus()},1e3),this.getRoomId()}close(){this.chatService.eventEmit("leaveRoom",this.activeUser.room_id),this.activeUser={},this.messages=[],this.message="",this.receiveMessagesSubs&&this.receiveMessagesSubs.unsubscribe(),this.errSubs&&this.errSubs.unsubscribe()}detailsclick(){document.querySelector(".chat-user-details ")?.classList.add("open")}removedetails(){document.querySelector(".main-chart-wrapper ")?.classList.remove("responsive-chat-open")}removedetails1(){document.querySelector(".main-chart-wrapper ")?.classList.remove("responsive-chat-open")}search="";getPendingChats(t=!0){t&&(this.reqSent=!1),this.skLoading=!0,this.apiService.post({search:this.search},"chat/pending-chats").subscribe(e=>{this.reqSent=!0,this.skLoading=!1,e.statusCode==200&&(this.recents=e.data,this.recents.map(i=>Fe(this,null,function*(){if(i.time=(0,H.default)(i.created_at).utc().format("hh:mm a"),i.message=i.last_message,i?.files){let r=i.files.findIndex(s=>s.label=="Profile Pic");r!=-1&&(i.image=i.files[r].signed_url)}})))},e=>{this.reqSent=!0,this.skLoading=!1})}receiveMessagesSubs=null;errSubs=null;userStatus="Offline";getRoomId(){let t={receiver_id:this.activeUser.sender_id,receiver_type:this.activeUser.sender_type};this.apiService.post(t,"chat/room-id").subscribe(e=>{e.statusCode==200&&(this.activeUser.room_id=e.data.room_id,this.chatService.eventEmit("supportJoinRoom",{room_id:this.activeUser.room_id,receiver_type:this.activeUser.sender_type,receiver_id:this.activeUser._id}),this.getPreviousMessages(),this.receiveMessagesSubs=this.chatService.receiveMessages().subscribe(i=>{this.messages.push({message:i.message,type:"recieved",time:(0,H.default)(i.created_at).format("hh:mm a")}),this.scrollToBottom()}),this.errSubs=this.chatService.errorListen().subscribe(i=>{this.apiService.toastr.error(i.message,"","toast-bottom-right")}),this.chatService.listen("appStatus").subscribe(i=>{this.userStatus=i.status}))})}getPreviousMessages(){let t={room_id:this.activeUser.room_id};this.apiService.post(t,"chat/read-chat-message").subscribe(e=>{e.statusCode==200&&(e.data.map(i=>{i.time=(0,H.default)(i.created_at).format("hh:mm a")}),this.messages=[...e.data,...this.messages],setTimeout(()=>{this.scrollToBottom()},100))})}sendMessage(){this.message.trim()&&(this.chatService.sendMessage({sender_id:this.loginId,receiver_id:this.activeUser.sender_id,message:this.message,room_id:this.activeUser.room_id,platform:"web",chat_id:this.activeUser._id,created_at:(0,H.default)().utc()}),this.messages.push({message:this.message.trim(),sender_id:this.loginId,type:"sent",time:(0,H.default)().format("hh:mm a")}),this.message="",setTimeout(()=>{this.scrollToBottom()},100))}ngOnDestroy(){this.receiveMessagesSubs&&this.receiveMessagesSubs.unsubscribe(),this.errSubs&&this.errSubs.unsubscribe(),this.chatService.eventEmit("destroy",{room_id:this.activeUser.room_id,messages:this.messages})}unloadNotification(t){this.chatService.eventEmit("destroy",{room_id:this.activeUser.room_id,messages:this.messages})}scrollContainer;scrollToBottom(){let t=this.scrollContainer.nativeElement;t.scrollTop=t.scrollHeight}isFallback=!1;onError(t){this.isFallback=!0,t.target.src=`${this.apiService.rootUrl}brand-logos/${this.orgData?.org_name}/desktop-logo.png`}static \u0275fac=function(e){return new(e||n)(ne(se),ne(me),ne(at))};static \u0275cmp=We({type:n,selectors:[["app-chat"]],viewQuery:function(e,i){if(e&1&&(ye(_i,5),ye(yi,5)),e&2){let r;ve(r=be())&&(i.messageInput=r.first),ve(r=be())&&(i.scrollContainer=r.first)}},hostBindings:function(e,i){e&1&&S("beforeunload",function(s){return i.unloadNotification(s)},!1,He)},decls:109,vars:7,consts:[["scrollContainer",""],[1,"main-chart-wrapper","lg:gap-2","gap-0","mb-2","lg:flex"],[1,"chat-info","border","border-defaultborder","dark:border-defaultborder/10"],[1,"chat-search","bg-gray-200","p-2","border-b","border-defaultborder","dark:border-defaultborder/10"],[1,"input-group","relative"],["type","text","placeholder","Search Chat","aria-describedby","button-addon01","name","search",1,"form-control","pr-28","!border-s","border-defaultborder","dark:border-defaultborder/10",3,"ngModelChange","keyup","ngModel"],["aria-label","button","matTooltip","Clear","class","ti-btn  !m-0 absolute right-0 top-1/2 -translate-y-1/2","type","button","id","button-addon01",3,"click",4,"ngIf"],[4,"ngIf"],["class","tab-content","id","myTabContent",4,"ngIf"],["class","no-chat-content",4,"ngIf"],["id","offcanvasRight",1,"hs-overlay","hidden","ti-offcanvas","ti-offcanvas-right"],[1,"ti-offcanvas-body"],["type","button","data-hs-overlay","#offcanvasRight",1,"ti-btn","btn-wave","flex-shrink-0","p-0","transition-none","text-gray-500","hover:text-gray-700","focus:ring-gray-400","focus:ring-offset-white","text-textmuted","dark:text-textmuted/50","dark:hover:text-white/80","dark:focus:ring-white/10","dark:focus:ring-offset-white/10"],[1,"sr-only"],["width","8","height","8","viewBox","0 0 8 8","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-3.5","h-3.5"],["d","M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z","fill","currentColor"],["id","chat-user-details",1,"chat-user-details"],[1,"text-center","mb-4"],[1,"avatar","avatar-rounded","avatar-xxl","me-2","mb-3","chatstatusperson"],["src","./assets/images/faces/2.jpg","alt","img",1,"chatimageperson"],[1,"mb-1","text-[15px]","font-medium","text-dark","leading-none","chatnameperson"],[1,"text-xs","text-textmuted","dark:text-textmuted/50","mb-4"],[1,"chatnameperson"],[1,"text-center","mb-0","flex","gap-2","flex-wrap"],["type","button","aria-label","button",1,"ti-btn","ti-btn-soft-primary","btn-wave","flex-auto"],[1,"ri-phone-line","me-2","align-middle"],["type","button","aria-label","button",1,"ti-btn","bg-primarytint1color/10","text-primarytint1color","btn-wave","flex-auto"],[1,"ri-video-add-line","me-2","align-middle"],["type","button","aria-label","button",1,"ti-btn","bg-info/10","text-info","btn-wave","flex-auto"],[1,"ri-chat-1-line","me-2","align-middle"],[1,"mb-4","pt-2"],[1,"font-medium","mb-4"],[1,"badge","bg-primarytint2color","ms-1","rounded-full"],[1,"float-end","text-[11px]"],["href","javascript:void(0);",1,"text-xs","text-textmuted","dark:text-textmuted/50"],[1,"ti","ti-arrow-narrow-right","ms-1"],[1,"shared-files","list-none"],[1,"flex","items-center"],[1,"me-2","bg-primary/10","!rounded-full"],[1,"shared-file-icon"],[1,"ti","ti-file-text","text-primary"],[1,"flex-auto"],[1,"text-xs","font-medium","mb-0"],[1,"mb-0","text-textmuted","dark:text-textmuted/50","text-[11px]"],[1,"text-lg"],["aria-label","anchor","href","javascript:void(0)"],[1,"ri-download-2-line","text-textmuted","dark:text-textmuted/50"],[1,"me-2","bg-secondary/10","!rounded-full"],[1,"ri-image-line","text-secondary"],[1,"me-2","bg-success/10","!rounded-full"],[1,"ri-image-line","text-success"],[1,"me-2","bg-orangemain/10","!rounded-full"],[1,"ri-video-line","text-orangemain"],["href","javascript:void(0)"],[1,"mb-0","pt-2"],[1,"badge","bg-primarytint3color","ms-1","rounded-full"],["aria-label","button","matTooltip","Clear","type","button","id","button-addon01",1,"ti-btn","!m-0","absolute","right-0","top-1/2","-translate-y-1/2",3,"click"],[1,"ri-close-line"],[1,"text-[0.9375rem]","p-4","m-[3rem]","text-center"],["id","myTabContent",1,"tab-content"],["id","users-tab1","role","tabpanel","aria-labelledby","users-tab",1,"tab-pane","show","active","border-0","chat-users-tab"],["id","chat-msg-scroll",1,"list-none","mb-0","mt-2","chat-users-tab"],[4,"ngFor","ngForOf"],[1,"checkforactive","border-b",3,"ngClass"],["href","javascript:void(0);",3,"click"],[1,"flex","items-top"],[1,"me-1","leading-none"],[1,"avatar","avatar-md","avatar-rounded","me-2"],[3,"error","src"],[1,"mb-0","font-medium"],[1,"float-end","text-textmuted","dark:text-textmuted/50","font-normal","text-[11px]"],[1,"text-xs","mb-0"],[1,"chat-msg","truncate",3,"matTooltip"],[1,"badge","bg-primarytint2color","rounded-full","float-end"],["class","p-3",4,"ngFor","ngForOf"],[1,"p-3"],[1,"main-chat-area","border","border-defaultborder","dark:border-defaultborder/10"],[1,"flex","items-center","border-b","border-defaultborder","dark:border-defaultborder/10","main-chat-head","flex-wrap"],[1,"avatar","avatar-md","avatar-rounded","chatstatusperson","me-2","leading-none"],[1,"chatimageperson",3,"error","src"],[1,"mb-0","font-medium","text-[14px]","leading-none"],["href","javascript:void(0);","data-hs-overlay","#offcanvasRight",1,"chatnameperson","responsive-userinfo-open"],[1,"text-textmuted","dark:text-textmuted/50","mb-0","chatpersonstatus"],["id","main-chat-content",1,"chat-content","bg-gray-100","dark:bg-slate-800","p-[10px_10px_10px_5px]"],[1,"scrollBlock"],[1,"chat-footer","!border-defaultborder","dark:!border-defaultborder/10","z-10"],["id","myInput","name","message","placeholder","Type your message here...","type","text",1,"form-control","chat-message-space",3,"ngModelChange","keyup.enter","ngModel"],["aria-label","anchor",1,"ti-btn","text-primary","ms-2","ti-btn-icon","btn-send",3,"click","disabled"],[1,"ri-send-plane-2-line","text-[22px]"],["class","chat-item-start",4,"ngIf"],["class","chat-item-end",4,"ngIf"],[1,"chat-item-start"],[1,"chat-bubble","bg-white","dark:bg-slate-700","text-gray-800","dark:text-gray-200","border","border-gray-300","dark:border-slate-600","p-2","rounded-lg","relative"],[1,"corner","text-white","dark:text-slate-700"],["viewBox","0 0 8 13","height","18","width","10","preserveAspectRatio","xMidYMid meet"],["opacity","0.13","fill","#0000000","d","M1.533,3.568L8,12.193V1H2.812 C1.042,1,0.474,2.156,1.533,3.568z"],["fill","currentColor","d","M1.533,2.568L8,11.193V0L2.812,0C1.042,0,0.474,1.156,1.533,2.568z"],[1,"message"],[1,"time"],[1,"chat-item-end"],[1,"chat-bubble","me","bg-[#4F46E5]","text-white","p-2","rounded-lg","relative"],[1,"corner","text-[#4F46E5]"],["opacity","0.13","d","M5.188,1H0v11.193l6.467-8.625 C7.526,2.156,6.958,1,5.188,1z"],["fill","currentColor","d","M5.188,0H0v11.193l6.467-8.625C7.526,1.156,6.958,0,5.188,0z"],[1,"no-chat-content"],["src","./assets\\images\\media\\svg/no-chat.svg"],[1,"text-[1.5rem]","text-secondary/80"],[1,"text-[0.75rem]","p-4","wp70","text-center"]],template:function(e,i){e&1&&(o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5),we("ngModelChange",function(s){return Ce(i.search,s)||(i.search=s),s}),S("ngModelChange",function(){return i.search?"":i.getPendingChats()})("keyup",function(){return i.search?i.getPendingChats():""}),a(),C(5,bi,2,0,"button",6),a()(),C(6,xi,3,0,"ng-container",7)(7,Ai,6,2,"div",8)(8,Oi,2,2,"ng-container",7),a(),C(9,Pi,19,9,"ng-container",7)(10,Ii,6,0,"div",9),a(),o(11,"div",10)(12,"div",11)(13,"button",12)(14,"span",13),h(15,"Close modal"),a(),te(),o(16,"svg",14),m(17,"path",15),a()(),ie(),o(18,"div",16)(19,"div",17)(20,"span",18),m(21,"img",19),a(),o(22,"p",20),h(23,"Jamison Jen"),a(),o(24,"p",21)(25,"span",22),h(26,"jamisonjen0114"),a(),h(27,"@gmail.com"),a(),o(28,"p",23)(29,"button",24),m(30,"i",25),h(31,"Call "),a(),o(32,"button",26),m(33,"i",27),h(34,"Video Call "),a(),o(35,"button",28),m(36,"i",29),h(37,"Message "),a()()(),o(38,"div",30)(39,"div",31),h(40,"Shared Files "),o(41,"span",32),h(42,"17"),a(),o(43,"span",33)(44,"a",34),h(45," View All"),m(46,"i",35),a()()(),o(47,"ul",36)(48,"li")(49,"div",37)(50,"div",38)(51,"span",39),m(52,"i",40),a()(),o(53,"div",41)(54,"p",42),h(55,"notification.pdf"),a(),o(56,"p",43),h(57,"15,Dec 2024 - 12:45PM"),a()(),o(58,"div",44)(59,"a",45),m(60,"i",46),a()()()(),o(61,"li")(62,"div",37)(63,"div",47)(64,"span",39),m(65,"i",48),a()(),o(66,"div",41)(67,"p",42),h(68,"Image_file1.Jpg"),a(),o(69,"p",43),h(70,"03,Oct 2024 - 03:20AM"),a()(),o(71,"div",44)(72,"a",45),m(73,"i",46),a()()()(),o(74,"li")(75,"div",37)(76,"div",49)(77,"span",39),m(78,"i",50),a()(),o(79,"div",41)(80,"p",42),h(81,"Imagefile_12.Jpg"),a(),o(82,"p",43),h(83,"19,Oct 2024 - 01:23PM"),a()(),o(84,"div",44)(85,"a",45),m(86,"i",46),a()()()(),o(87,"li")(88,"div",37)(89,"div",51)(90,"span",39),m(91,"i",52),a()(),o(92,"div",41)(93,"p",42),h(94,"Video-rec-20-10-2021.MP4"),a(),o(95,"p",43),h(96,"13,May 2024 - 16:25AM"),a()(),o(97,"div",44)(98,"a",53),m(99,"i",46),a()()()()()(),o(100,"div",54)(101,"div",31),h(102,"Photos & Media "),o(103,"span",55),h(104,"15"),a(),o(105,"span",33)(106,"a",34),h(107," View All"),m(108,"i",35),a()()()()()()()),e&2&&(u(4),xe("ngModel",i.search),u(),g("ngIf",i.search),u(),g("ngIf",!i.recents.length&&i.search&&!i.skLoading),u(),g("ngIf",i.reqSent&&(i.recents==null?null:i.recents.length)),u(),g("ngIf",!i.reqSent),u(),g("ngIf",i.activeUser._id),u(),g("ngIf",!i.activeUser._id))},dependencies:[ot,nt,rt,st,tt,Ge,Ze,et,dt,lt,pt,it,ht,ct,ut],encapsulation:2})};export{Wt as ChatComponent};
